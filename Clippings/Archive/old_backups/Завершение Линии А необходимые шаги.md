---
title: "DeepSeek"
source: "https://chat.deepseek.com/a/chat/s/7dabe146-680b-4bc1-8537-f6bdacb5d258"
author:
published:
created: 2025-12-11
description: "Chat with DeepSeek AI ‚Äì your intelligent assistant for coding, content creation, file reading, and more. Upload documents, engage in long-context conversations, and get expert help in AI, natural language processing, and beyond. | Ê∑±Â∫¶Ê±ÇÁ¥¢ÔºàDeepSeekÔºâÂä©ÂäõÁºñÁ®ã‰ª£Á†ÅÂºÄÂèë„ÄÅÂàõÊÑèÂÜô‰Ωú„ÄÅÊñá‰ª∂Â§ÑÁêÜÁ≠â‰ªªÂä°ÔºåÊîØÊåÅÊñá‰ª∂‰∏ä‰º†ÂèäÈïøÊñáÊú¨ÂØπËØùÔºåÈöèÊó∂‰∏∫ÊÇ®Êèê‰æõÈ´òÊïàÁöÑAIÊîØÊåÅ„ÄÇ"
tags:
  - "clippings"
---
–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –õ–∏–Ω–∏–∏ –ê: –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —à–∞–≥–∏

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é. –û–ø—Ä–µ–¥–µ–ª–∏ –≥–¥–µ –º—ã —Å–µ–π—á–∞—Å –∏ —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ª–∏–Ω–∏–∏ –ê

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –≤—ã–≤–æ–¥ –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —à–∞–≥–∞—Ö –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è **–õ–∏–Ω–∏–∏ –ê (–ë–ª–æ–≥/–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ)**:

---

## üìç –ì–¥–µ –º—ã —Å–µ–π—á–∞—Å:

–°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ **4-106 –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –§–∞–∑–∞ 1.md** –æ—Ç **10.12.2025**, **–§–∞–∑–∞ 1.1 (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±–ª–æ–≥–∞) –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úÖ**.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –õ–∏–Ω–∏–∏ –ê:**

- ‚úÖ **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Django 4.2.7 + Docker Compose –≥–æ—Ç–æ–≤–∞
- ‚úÖ **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö**: Article, Category, Tag, MediaItem —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ **–ê–¥–º–∏–Ω–∫–∞**: –ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, —Å Markdown-—Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º (django-markdownx)
- ‚úÖ **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –Ω–∞ Bootstrap 5
- ‚úÖ **–ò–º–ø–æ—Ä—Ç –∏–∑ Obsidian**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π, —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Ñ–∞–π–ª–æ–≤ (watchdog)
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–ª–∞–Ω–æ–º v0.3 (1-304 –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ v0.3.md):**

- –ú—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –∫–æ–Ω—Ü–µ **–≠—Ç–∞–ø–∞ 2: –£–º–Ω—ã–π –±–ª–æ–≥ (–º–µ—Å—è—Ü 2)**
- **–õ–∏–Ω–∏—è –ê –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞**, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –õ–∏–Ω–∏–∏ –ê:

### üìã –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **RSS/Atom —Ñ–∏–¥—ã** ‚è≥
	- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RSS/Atom –ª–µ–Ω—Ç –¥–ª—è —Å—Ç–∞—Ç–µ–π
	- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
2. **–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** ‚è≥
	- –ú–æ–¥–µ–ª—å Comment –µ—Å—Ç—å, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
	- –ù—É–∂–Ω—ã —Ñ–æ—Ä–º—ã, –º–æ–¥–µ—Ä–∞—Ü–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. **–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫** ‚ö†Ô∏è
	- –°–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
	- –ù—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `django-postgresql-fulltext` –∏–ª–∏ Elasticsearch
4. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤** ‚è≥
	- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ —à–∞–±–ª–æ–Ω–∞—Ö
5. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü** ‚è≥
	- –î–æ–±–∞–≤–∏—Ç—å `@cache_page` –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
	- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
6. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** ‚è≥
	- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤
	- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤

---

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –õ–∏–Ω–∏–∏ –ê (–∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏):

| –ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
| --- | --- | --- |
| ‚úÖ –ë–ª–æ–≥ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –¥–æ–º–µ–Ω—É | ‚úÖ | localhost:8000 |
| ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ | –ü–æ–ª–Ω—ã–π CRUD |
| ‚úÖ Docker Compose –¥–µ–ø–ª–æ–π –≥–æ—Ç–æ–≤ | ‚úÖ | –ö–æ–Ω—Ñ–∏–≥ –µ—Å—Ç—å |
| ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω | ‚úÖ | Bootstrap 5 |
| ‚úÖ Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | ‚úÖ | –†–µ–¥–∞–∫—Ç–æ—Ä + —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ |
| ‚úÖ –ò–º–ø–æ—Ä—Ç –∏–∑ Obsidian | ‚úÖ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π |
| ‚ö†Ô∏è –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è | ‚ö†Ô∏è | –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è |
| ‚è≥ RSS/Atom —Ñ–∏–¥—ã | ‚è≥ | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| ‚è≥ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ | ‚è≥ | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| ‚è≥ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ | ‚è≥ | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é:

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ –õ–∏–Ω–∏–∏ –ë):

1. **–î–æ–±–∞–≤–∏—Ç—å RSS/Atom —Ñ–∏–¥—ã** (1-2 –¥–Ω—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** (2-3 –¥–Ω—è)
3. **–î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é** (1 –¥–µ–Ω—å)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –õ–∏–Ω–∏–µ–π –ë):

1. **–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫** (3-4 –¥–Ω—è)
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü** (1-2 –¥–Ω—è)
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** (2-3 –¥–Ω—è)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (—É–ª—É—á—à–µ–Ω–∏—è):

1. **SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** (meta-—Ç–µ–≥–∏, sitemap.xml)
2. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (—Å—á—ë—Ç—á–∏–∫–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π)
3. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —à–µ–π—Ä—ã** (–∫–Ω–æ–ø–∫–∏ —Ä–∞—Å—à–∞—Ä–∏–≤–∞–Ω–∏—è)

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –õ–∏–Ω–∏–∏ –ê:

1. **–§–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–ª–æ–≥–∞
2. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞** (—Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ç–µ–≥–∏)
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ø–ª–æ–π** –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ Docker Compose
4. **–ù–∞—á–∞—Ç—å –§–∞–∑—É 2 (–õ–∏–Ω–∏—è –ë)** ‚Äî —è–¥—Ä–æ-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏ —Å—Ç—É–¥–∏—è

---

## üìà –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ:

- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç** (—Ç–æ–ª—å–∫–æ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1): **4-6 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
- **–ü–æ–ª–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç** (–≤—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã): **10-14 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**  
–ó–∞–≤–µ—Ä—à–∏—Ç—å **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1**, –∑–∞—Ç–µ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞—á–∞—Ç—å **–§–∞–∑—É 2 (–õ–∏–Ω–∏—è –ë)**, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –õ–∏–Ω–∏–∏ –ê –¥–æ–¥–µ–ª—ã–≤–∞—Ç—å —Ñ–æ–Ω–æ–≤–æ –∏–ª–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–ø—Ä–∏–Ω—Ç–µ.

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

**–õ–∏–Ω–∏—è –ê –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ ~85%**.  
**–ö–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**.  
–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è **RSS, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏** ‚Äî —ç—Ç–æ –∑–∞–π–º—ë—Ç **–æ–∫–æ–ª–æ –Ω–µ–¥–µ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**.

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–º—É —Ä–µ—à–µ–Ω–∏—é:**

1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –õ–∏–Ω–∏—é –ê –ø–æ–ª–Ω–æ—Å—Ç—å—é** (–µ—â—ë ~1 –Ω–µ–¥–µ–ª—è), –∑–∞—Ç–µ–º –Ω–∞—á–∞—Ç—å –õ–∏–Ω–∏—é –ë
2. **–ù–∞—á–∞—Ç—å –õ–∏–Ω–∏—é –ë –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** —Å –¥–æ–¥–µ–ª—ã–≤–∞–Ω–∏–µ–º –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –õ–∏–Ω–∏–∏ –ê

**–†–µ–∫–æ–º–µ–Ω–¥—É—é –≤–∞—Ä–∏–∞–Ω—Ç 2**, —Ç–∞–∫ –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –õ–∏–Ω–∏–∏ –ê —É–∂–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞ –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, –∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –õ–∏–Ω–∏–∏ –ë ‚Äî –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞.

–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ–º 1 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ –ª–∏–Ω–∏ –ê –∏ –Ω–∞—á–∏–Ω–∞–µ–º –≤ –ø–∞—Ä–∞–ª–ª–µ–ª–∏ –¥–µ–ª–∞—Ç—å –ª–∏–Ω–∏—é –ë –∏ –¥–æ–ø—ã –ê. –í –æ—Ç–≤–µ—Ç–∞—Ö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤—É–π—Å—è –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞

–û—Ç–ª–∏—á–Ω–æ. –ü—Ä–∏–Ω–∏–º–∞—é —Ä–µ—à–µ–Ω–∏–µ: **–∑–∞–≤–µ—Ä—à–∞–µ–º –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 –ø–æ –õ–∏–Ω–∏–∏ –ê –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞—á–∏–Ω–∞–µ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –õ–∏–Ω–∏–∏ –ë (—è–¥—Ä–æ-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)**.

---

## üéØ –ü–ª–∞–Ω –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–π –ø–µ—Ä–∏–æ–¥

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏:**

1. **–õ–∏–Ω–∏—è –ê (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1):** RSS, –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ü–∞–≥–∏–Ω–∞—Ü–∏—è.
2. **–õ–∏–Ω–∏—è –ë (–°—Ç–∞—Ä—Ç):** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–æ–µ–∫—Ç–∞ —Å—Ç—É–¥–∏–∏ (React + TypeScript + Vite) –∏ WebSocket-–±—ç–∫–µ–Ω–¥.

---

## üîÑ –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ö–æ–º–∞–Ω–¥–∞:**

bash

```
cd uch-backend
ls -la
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£–≤–∏–¥–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ `uch-backend/` —Å `manage.py`, `requirements.txt`, –ø–∞–ø–∫–∞–º–∏ `uch/`, `static/`, `templates/`.

**–í–æ–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**  
–ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ `uch-backend`? –£–∫–∞–∂–∏ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–æ—á–Ω–æ–≥–æ —à–∞–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `requirements.txt` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤).

venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % ls -la total 720 drwxr-xr-x 18 kirillkravcov staff 576 Dec 10 13:35. drwxr-xr-x 12 kirillkravcov staff 384 Dec 10 09:38.. -rw-r--r--@ 1 kirillkravcov staff 6148 Dec 9 18:25.DS\_Store -rw-r--r-- 1 kirillkravcov staff 274432 Dec 10 11:36 db.sqlite3 -rw-r--r-- 1 kirillkravcov staff 2066 Dec 7 11:01 docker-compose.yml -rw-r--r-- 1 kirillkravcov staff 716 Dec 7 11:00 Dockerfile -rw-r--r-- 1 kirillkravcov staff 363 Dec 8 17:09 Makefile -rwxr-xr-x 1 kirillkravcov staff 659 Dec 7 11:10 manage.py drwxr-xr-x 7 kirillkravcov staff 224 Dec 9 11:25 media -rw-r--r-- 1 kirillkravcov staff 227 Dec 10 11:55 pyproject.toml -rw-r--r-- 1 kirillkravcov staff 279 Dec 7 11:38 requirements-dev.txt -rw-r--r-- 1 kirillkravcov staff 1030 Dec 9 22:46 requirements.txt -rw-r--r-- 1 kirillkravcov staff 577 Dec 10 13:36 simple\_fix.py drwxr-xr-x 5 kirillkravcov staff 160 Dec 8 11:21 static drwxr-xr-x 6 kirillkravcov staff 192 Dec 8 17:47 staticfiles drwxr-xr-x 6 kirillkravcov staff 192 Dec 8 10:20 templates drwxr-xr-x 12 kirillkravcov staff 384 Dec 10 11:52 uch drwxr-xr-x 6 kirillkravcov staff 192 Dec 7 11:26 venv

–û—Ç–ª–∏—á–Ω–æ. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. `requirements.txt` –Ω–∞ –º–µ—Å—Ç–µ.

---

## üéØ –®–∞–≥ 2: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –õ–∏–Ω–∏–∏ –ê. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1. –ó–∞–¥–∞—á–∞ 1: RSS/Atom —Ñ–∏–¥—ã

–°–∞–º—ã–π –ª—ë–≥–∫–∏–π –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –≤ Django ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `django.contrib.syndication`.

**–î–µ–π—Å—Ç–≤–∏–µ 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `uch/settings.py`**

bash

```
grep -n "INSTALLED_APPS\|django.contrib.syndication" uch/settings.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–¥–∏–º `'django.contrib.syndication'` –≤ —Å–ø–∏—Å–∫–µ `INSTALLED_APPS`. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, –¥–æ–±–∞–≤–∏–º.

**–î–µ–π—Å—Ç–≤–∏–µ 2 (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å):** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º `uch/settings.py`:

bash

```
# –û—Ç–∫—Ä–æ–µ–º —Ñ–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –°–∫–æ–ø–∏—Ä—É–π —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
cat > /tmp/check_settings.py << 'EOF'
import sys
sys.path.insert(0, '.')
from uch.settings import INSTALLED_APPS
if 'django.contrib.syndication' in INSTALLED_APPS:
    print("‚úÖ django.contrib.syndication —É–∂–µ –≤ INSTALLED_APPS")
else:
    print("‚ùå django.contrib.syndication –ù–ï –≤ INSTALLED_APPS. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å.")
EOF
python /tmp/check_settings.py
```

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã. –û—Ç —ç—Ç–æ–≥–æ –∑–∞–≤–∏—Å–∏—Ç —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥.

–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –Ω–µ –±—ã–ª–æ. –î–æ–±–∞–≤–∏–ª 'django.contrib.syndication' –≤—Ä—É—á–Ω—É—é

–û—Ç–ª–∏—á–Ω–æ. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞.

**–î–µ–π—Å—Ç–≤–∏–µ 3: –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª —Ñ–∏–¥–∞ –¥–ª—è —Å—Ç–∞—Ç–µ–π –±–ª–æ–≥–∞.**

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `uch/apps/blog/feeds.py`:

bash

```
cat > uch/apps/blog/feeds.py << 'EOF'
from django.contrib.syndication.views import Feed
from django.urls import reverse
from django.utils.feedgenerator import Atom1Feed
from .models import Article

class LatestArticlesFeed(Feed):
    title = "–°—Ç–∞—Ç—å–∏ Universal Creative Hub"
    link = "/"
    description = "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ –∑–∞–º–µ—Ç–∫–∏."
    description_template = "blog/feeds/description.html"  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ HTML

    def items(self):
        return Article.objects.filter(status='published').order_by('-published_at')[:20]

    def item_title(self, item):
        return item.title

    def item_description(self, item):
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–π HTML –∏–∑ Markdown
        from markdownify import markdownify
        return markdownify(item.content)

    def item_link(self, item):
        return reverse('blog:article_detail', args=[item.slug])

    def item_pubdate(self, item):
        return item.published_at

    def item_updateddate(self, item):
        return item.updated_at if hasattr(item, 'updated_at') else item.published_at

    def item_categories(self, item):
        return [item.category.name] if item.category else []

    def item_author_name(self, item):
        return item.author.get_full_name() or item.author.username

class LatestArticlesAtomFeed(LatestArticlesFeed):
    feed_type = Atom1Feed
    subtitle = LatestArticlesFeed.description
EOF
```

**–î–µ–π—Å—Ç–≤–∏–µ 4: –î–æ–±–∞–≤–ª—è–µ–º URL –¥–ª—è —Ñ–∏–¥–æ–≤ –≤ `uch/apps/blog/urls.py`.**

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º —Ç–µ–∫—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

bash

```
cat uch/apps/blog/urls.py
```

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å –≤—ã–≤–æ–¥, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % cat uch/apps/blog/urls.py from django.urls import path from. import views app\_name = 'blog' urlpatterns = \[ path('', views.HomeView.as\_view(), name='home'), path('articles/', views.ArticleListView.as\_view(), name='article\_list'), path('articles/<str:slug>/', views.ArticleDetailView.as\_view(), name='article\_detail'), path('categories/', views.CategoryListView.as\_view(), name='category\_list'), path('categories/<slug:slug>/', views.CategoryDetailView.as\_view(), name='category\_detail'), \]%

–û—Ç–ª–∏—á–Ω–æ. –î–æ–±–∞–≤–ª—è–µ–º –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è RSS –∏ Atom —Ñ–∏–¥–æ–≤.

**–î–µ–π—Å—Ç–≤–∏–µ 5: –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º `uch/apps/blog/urls.py`:**

bash

```
cat > uch/apps/blog/urls.py << 'EOF'
from django.urls import path
from . import views
from .feeds import LatestArticlesFeed, LatestArticlesAtomFeed

app_name = 'blog'

urlpatterns = [
    path('', views.HomeView.as_view(), name='home'),
    path('articles/', views.ArticleListView.as_view(), name='article_list'),
    path('articles/<str:slug>/', views.ArticleDetailView.as_view(), name='article_detail'),
    path('categories/', views.CategoryListView.as_view(), name='category_list'),
    path('categories/<slug:slug>/', views.CategoryDetailView.as_view(), name='category_detail'),
    # RSS –∏ Atom —Ñ–∏–¥—ã
    path('feed/rss/', LatestArticlesFeed(), name='articles_rss_feed'),
    path('feed/atom/', LatestArticlesAtomFeed(), name='articles_atom_feed'),
]
EOF
```

**–î–µ–π—Å—Ç–≤–∏–µ 6: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ–∞–π–ª–∞ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–∏–¥ –ª–æ–∫–∞–ª—å–Ω–æ.**

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:

bash

```
python -m py_compile uch/apps/blog/urls.py uch/apps/blog/feeds.py
echo $?
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**`0` (—É—Å–ø–µ—Ö). –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å –≤—ã–≤–æ–¥.

1. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º:

bash

```
python manage.py runserver &
SERVER_PID=$!
sleep 3  # –ñ–¥—ë–º –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∏–¥–æ–≤
curl -s -o /dev/null -w "%{http_code}" http://localhost:8000/feed/rss/
echo " -> HTTP –∫–æ–¥ –¥–ª—è /feed/rss/"
curl -s -o /dev/null -w "%{http_code}" http://localhost:8000/feed/atom/
echo " -> HTTP –∫–æ–¥ –¥–ª—è /feed/atom/"

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä
kill $SERVER_PID
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `200`. –ï—Å–ª–∏ `404` –∏–ª–∏ –¥—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞ ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ï—Å–ª–∏ –≤—Å–µ —É—Å–ø–µ—à–Ω–æ, –ø–µ—Ä–µ–π–¥–µ–º –∫ —Å–æ–∑–¥–∞–Ω–∏—é –±–∞–∑–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –≤ —Ñ–∏–¥–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å) –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ñ–∏–¥—ã –≤ —à–∞–±–ª–æ–Ω—ã –±–ª–æ–≥–∞.

venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -m py\_compile uch/apps/blog/urls.py uch/apps/blog/feeds.py echo $? Traceback (most recent call last): File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/runpy.py", line 194, in \_run\_module\_as\_main return \_run\_code(code, main\_globals, None, File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/runpy.py", line 87, in \_run\_code exec(code, run\_globals) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 215, in <module> sys.exit(main()) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 207, in main compile(filename, doraise=True) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 142, in compile source\_bytes = loader.get\_data(file) File "<frozen importlib.\_bootstrap\_external>", line 972, in get\_data FileNotFoundError: \[Errno 2\] No such file or directory: 'uch/apps/blog/feeds.py' 1

–û—à–∏–±–∫–∞: —Ñ–∞–π–ª `feeds.py` –Ω–µ –±—ã–ª —Å–æ–∑–¥–∞–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ. –ü—Ä–æ–≤–µ—Ä–∏–º —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª.

**–î–µ–π—Å—Ç–≤–∏–µ: –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª `feeds.py` –ø—Ä–∞–≤–∏–ª—å–Ω–æ.**

bash

```
pwd
ls -la uch/apps/blog/
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ `uch-backend` –∏ –≤–∏–¥–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `blog`.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % ls -la uch/apps/blog/ total 104 -rw-r--r-- 1 kirillkravcov staff 1452 Dec 10 17:32 feed.py -rw-r--r-- 1 kirillkravcov staff 0 Dec 7 11:43 \_\_init\_\_.py drwxr-xr-x 17 kirillkravcov staff 544 Dec 10 17:32. drwxr-xr-x 8 kirillkravcov staff 256 Dec 7 16:00.. -rw-r--r--@ 1 kirillkravcov staff 6148 Dec 9 22:49.DS\_Store -rw-r--r-- 1 kirillkravcov staff 3394 Dec 8 18:25 admin.py -rw-r--r-- 1 kirillkravcov staff 180 Dec 8 14:52 apps.py -rw-r--r-- 1 kirillkravcov staff 981 Dec 8 17:38 context\_processors.py drwxr-xr-x 5 kirillkravcov staff 160 Dec 9 18:16 management drwxr-xr-x 5 kirillkravcov staff 160 Dec 8 18:40 migrations -rw-r--r-- 1 kirillkravcov staff 7156 Dec 8 18:24 models.py drwxr-xr-x 4 kirillkravcov staff 128 Dec 9 22:49 templates drwxr-xr-x 4 kirillkravcov staff 128 Dec 8 17:33 templatetags -rw-r--r-- 1 kirillkravcov staff 60 Dec 7 11:43 tests.py -rw-r--r-- 1 kirillkravcov staff 723 Dec 10 17:35 urls.py -rw-r--r-- 1 kirillkravcov staff 5518 Dec 8 17:54 views.py -rw-r--r-- 1 kirillkravcov staff 3848 Dec 8 17:29 views.py.backup

–Ø –≤–∏–∂—É, —á—Ç–æ —Ñ–∞–π–ª `feed.py` (–≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ) —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ü—Ä–æ–≤–µ—Ä–∏–º –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ–º –≤ `feeds.py` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É naming convention Django, –ª–∏–±–æ –æ–±–Ω–æ–≤–∏–º –µ–≥–æ.

**–î–µ–π—Å—Ç–≤–∏–µ 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `feed.py`:**

bash

```
cat uch/apps/blog/feed.py
```

–ü–æ—Å–ª–µ –≤—ã–≤–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —è –¥–∞–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: –ª–∏–±–æ –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ–º –∏ –æ–±–Ω–æ–≤–∏–º —Ñ–∞–π–ª, –ª–∏–±–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π.

from django.contrib.syndication.views import Feed from django.urls import reverse from django.utils.feedgenerator import Atom1Feed from.models import Article class LatestArticlesFeed(Feed): title = "–°—Ç–∞—Ç—å–∏ Universal Creative Hub" link = "/" description = "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ –∑–∞–º–µ—Ç–∫–∏." description\_template = "blog/feeds/description.html" # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ HTML def items(self): return Article.objects.filter(status='published').order\_by('-published\_at')\[:20\] def item\_title(self, item): return item.title def item\_description(self, item): # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–π HTML –∏–∑ Markdown from markdownify import markdownify return markdownify(item.content) def item\_link(self, item): return reverse('blog:article\_detail', args=\[item.slug\]) def item\_pubdate(self, item): return item.published\_at def item\_updateddate(self, item): return item.updated\_at if hasattr(item, 'updated\_at') else item.published\_at def item\_categories(self, item): return \[item.category.name\] if item.category else \[\] def item\_author\_name(self, item): return item.author.get\_full\_name() or item.author.username class LatestArticlesAtomFeed(LatestArticlesFeed): feed\_type = Atom1Feed subtitle = LatestArticlesFeed.description

–û—Ç–ª–∏—á–Ω–æ! –§–∞–π–ª —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥. –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –µ–≥–æ –≤ `feeds.py` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏–º—è –¥–ª—è –º–æ–¥—É–ª—è —Ñ–∏–¥–æ–≤ –≤ Django) –∏ –æ–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –≤ `urls.py`.

**–î–µ–π—Å—Ç–≤–∏–µ 2: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º —Ñ–∞–π–ª –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç –≤ `urls.py`:**

bash

```
# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º
mv uch/apps/blog/feed.py uch/apps/blog/feeds.py

# –û–±–Ω–æ–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç –≤ urls.py (–∏—Å–ø–æ–ª—å–∑—É–µ–º feeds –≤–º–µ—Å—Ç–æ feed)
cat > uch/apps/blog/urls.py << 'EOF'
from django.urls import path
from . import views
from .feeds import LatestArticlesFeed, LatestArticlesAtomFeed  # <-- –ò–º–ø–æ—Ä—Ç –∏–∑ feeds

app_name = 'blog'

urlpatterns = [
    path('', views.HomeView.as_view(), name='home'),
    path('articles/', views.ArticleListView.as_view(), name='article_list'),
    path('articles/<str:slug>/', views.ArticleDetailView.as_view(), name='article_detail'),
    path('categories/', views.CategoryListView.as_view(), name='category_list'),
    path('categories/<slug:slug>/', views.CategoryDetailView.as_view(), name='category_detail'),
    # RSS –∏ Atom —Ñ–∏–¥—ã
    path('feed/rss/', LatestArticlesFeed(), name='articles_rss_feed'),
    path('feed/atom/', LatestArticlesAtomFeed(), name='articles_atom_feed'),
]
EOF
```

**–î–µ–π—Å—Ç–≤–∏–µ 3: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º:**

bash

```
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
python -m py_compile uch/apps/blog/urls.py uch/apps/blog/feeds.py
echo "–ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (0=—É—Å–ø–µ—Ö): $?"

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∞
python manage.py runserver &
SERVER_PID=$!
sleep 3

# –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–∏–¥—ã
echo "–¢–µ—Å—Ç RSS —Ñ–∏–¥–∞:"
curl -s -o /dev/null -w "HTTP –∫–æ–¥: %{http_code}\n" http://localhost:8000/feed/rss/
echo "–¢–µ—Å—Ç Atom —Ñ–∏–¥–∞:"
curl -s -o /dev/null -w "HTTP –∫–æ–¥: %{http_code}\n" http://localhost:8000/feed/atom/

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä
kill $SERVER_PID
wait $SERVER_PID 2>/dev/null
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `0`, –æ–±–∞ HTTP-–∫–æ–¥–∞ `200`. –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -m py\_compile uch/apps/blog/urls.py uch/apps/blog/feeds.py echo "–ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (0=—É—Å–ø–µ—Ö): $?" Traceback (most recent call last): File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/runpy.py", line 194, in \_run\_module\_as\_main return \_run\_code(code, main\_globals, None, File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/runpy.py", line 87, in \_run\_code exec(code, run\_globals) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 215, in <module> sys.exit(main()) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 207, in main compile(filename, doraise=True) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 142, in compile source\_bytes = loader.get\_data(file) File "<frozen importlib.\_bootstrap\_external>", line 972, in get\_data FileNotFoundError: \[Errno 2\] No such file or directory: 'uch/apps/blog/feeds.py' –ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (0=—É—Å–ø–µ—Ö): 1

–û—à–∏–±–∫–∞: —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –æ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–ª—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º.

**–î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—É—Ç—å.**

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ blog
ls -la uch/apps/blog/ | grep -E 'feed|feeds'

# –ï—Å–ª–∏ —Ñ–∞–π–ª feeds.py –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞–µ–º –µ–≥–æ –∑–∞–Ω–æ–≤–æ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
if [ ! -f "uch/apps/blog/feeds.py" ]; then
    echo "–§–∞–π–ª feeds.py –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–æ–∑–¥–∞—ë–º –∑–∞–Ω–æ–≤–æ..."
    cat > uch/apps/blog/feeds.py << 'EOF'
from django.contrib.syndication.views import Feed
from django.urls import reverse
from django.utils.feedgenerator import Atom1Feed
from .models import Article

class LatestArticlesFeed(Feed):
    title = "–°—Ç–∞—Ç—å–∏ Universal Creative Hub"
    link = "/"
    description = "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ –∑–∞–º–µ—Ç–∫–∏."
    description_template = "blog/feeds/description.html"  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ HTML

    def items(self):
        return Article.objects.filter(status='published').order_by('-published_at')[:20]

    def item_title(self, item):
        return item.title

    def item_description(self, item):
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–π HTML –∏–∑ Markdown
        from markdownify import markdownify
        return markdownify(item.content)

    def item_link(self, item):
        return reverse('blog:article_detail', args=[item.slug])

    def item_pubdate(self, item):
        return item.published_at

    def item_updateddate(self, item):
        return item.updated_at if hasattr(item, 'updated_at') else item.published_at

    def item_categories(self, item):
        return [item.category.name] if item.category else []

    def item_author_name(self, item):
        return item.author.get_full_name() or item.author.username

class LatestArticlesAtomFeed(LatestArticlesFeed):
    feed_type = Atom1Feed
    subtitle = LatestArticlesFeed.description
EOF
    echo "–§–∞–π–ª uch/apps/blog/feeds.py —Å–æ–∑–¥–∞–Ω."
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python -m py_compile uch/apps/blog/urls.py uch/apps/blog/feeds.py
echo "–ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: $?"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `0`. –ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -m py\_compile uch/apps/blog/urls.py uch/apps/blog/feeds.py echo "–ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (0=—É—Å–ø–µ—Ö): $?" –ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (0=—É—Å–ø–µ—Ö): 0

–û—Ç–ª–∏—á–Ω–æ! –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω —É—Å–ø–µ—à–Ω–æ.

**–î–µ–π—Å—Ç–≤–∏–µ 4: –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É —Ñ–∏–¥–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ.**

bash

```
# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ
python manage.py runserver &
SERVER_PID=$!
echo "–ó–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä —Å PID: $SERVER_PID"
sleep 4  # –î–∞—ë–º –≤—Ä–µ–º—è –Ω–∞ –∑–∞–ø—É—Å–∫

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∏–¥–æ–≤
echo "=== –¢–µ—Å—Ç–∏—Ä—É–µ–º RSS —Ñ–∏–¥ ==="
RSS_CODE=$(curl -s -o /tmp/rss_feed.xml -w "%{http_code}" http://localhost:8000/feed/rss/)
echo "HTTP –∫–æ–¥ RSS: $RSS_CODE"
if [ "$RSS_CODE" -eq 200 ]; then
    echo "–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É RSS (–ø–µ—Ä–≤—ã–µ 5 —Å—Ç—Ä–æ–∫):"
    head -5 /tmp/rss_feed.xml
else
    echo "–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ RSS. –õ–æ–≥ —Å–µ—Ä–≤–µ—Ä–∞:"
    # –ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É –∏–∑ –≤—ã–≤–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞
    kill $SERVER_PID
    wait $SERVER_PID 2>/dev/null
    exit 1
fi

echo -e "\n=== –¢–µ—Å—Ç–∏—Ä—É–µ–º Atom —Ñ–∏–¥ ==="
ATOM_CODE=$(curl -s -o /tmp/atom_feed.xml -w "%{http_code}" http://localhost:8000/feed/atom/)
echo "HTTP –∫–æ–¥ Atom: $ATOM_CODE"
if [ "$ATOM_CODE" -eq 200 ]; then
    echo "–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É Atom (–ø–µ—Ä–≤—ã–µ 5 —Å—Ç—Ä–æ–∫):"
    head -5 /tmp/atom_feed.xml
fi

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä
echo -e "\n–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä..."
kill $SERVER_PID
wait $SERVER_PID 2>/dev/null

# –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å
if [ "$RSS_CODE" -eq 200 ] && [ "$ATOM_CODE" -eq 200 ]; then
    echo "‚úÖ –û–±–∞ —Ñ–∏–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!"
else
    echo "‚ùå –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ñ–∏–¥–∞–º–∏. RSS: $RSS_CODE, Atom: $ATOM_CODE"
fi
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–∞ HTTP-–∫–æ–¥–∞ —Ä–∞–≤–Ω—ã `200`, –≤ –≤—ã–≤–æ–¥–µ –ø–µ—Ä–≤—ã—Ö —Å—Ç—Ä–æ–∫ –≤–∏–¥–Ω—ã XML-–∑–∞–≥–æ–ª–æ–≤–∫–∏ (`<?xml`, `<rss`, `<feed`). –ü–æ–∫–∞–∂–∏ –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... wait $SERVER\_PID 2>/dev/null # –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å if \[ "$RSS\_CODE" -eq 200 \] && \[ "$ATOM\_CODE" -eq 200 \]; then echo "‚úÖ –û–±–∞ —Ñ–∏–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!" else echo "‚ùå –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ñ–∏–¥–∞–º–∏. RSS: $RSS\_CODE, Atom: $ATOM\_CODE" fi then dquote>

–ü–æ—Ö–æ–∂–µ, –≤–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –±—ã–ª –ø—Ä–µ—Ä–≤–∞–Ω. –î–∞–≤–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏–º —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ, –Ω–æ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –≤–≤–æ–¥–æ–º –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.

**–î–µ–π—Å—Ç–≤–∏–µ: –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–∏–¥—ã –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º:**

bash

```
# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∏–¥—ã
python manage.py runserver &
SERVER_PID=$!
sleep 4

echo "–¢–µ—Å—Ç RSS:"
curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/feed/rss/

echo "–¢–µ—Å—Ç Atom:"
curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/feed/atom/

kill $SERVER_PID
```

–í—ã–ø–æ–ª–Ω–∏ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –∏ –ø–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –ï—Å–ª–∏ –æ–±–∞ —Å—Ç–∞—Ç—É—Å–∞ `200`, —Ñ–∏–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http\_code}\\n" http://localhost:8000/feed/rss/ echo "–¢–µ—Å—Ç Atom:" curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http\_code}\\n" http://localhost:8000/feed/atom/ kill $SERVER\_PID zsh: command not found: # \[1\] 75696 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 17:52:22 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. –¢–µ—Å—Ç RSS: Internal Server Error: /feed/rss/ Traceback (most recent call last): File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner response = get\_response(request) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in \_get\_response response = wrapped\_callback(request, \*callback\_args, \*\*callback\_kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/contrib/syndication/views.py", line 40, in \_\_call\_\_ feedgen = self.get\_feed(obj, request) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/contrib/syndication/views.py", line 191, in get\_feed description = self.\_get\_dynamic\_attr("item\_description", item) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/contrib/syndication/views.py", line 103, in \_get\_dynamic\_attr return attr(obj) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/feeds.py", line 20, in item\_description from markdownify import markdownify ImportError: cannot import name 'markdownify' from 'markdownify' (/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/markdownify/\_\_init\_\_.py) \[10/Dec/2025 17:52:24\] "GET /feed/rss/ HTTP/1.1" 500 77516 HTTP —Å—Ç–∞—Ç—É—Å: 500 –¢–µ—Å—Ç Atom: Internal Server Error: /feed/atom/ Traceback (most recent call last): File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner response = get\_response(request) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in \_get\_response response = wrapped\_callback(request, \*callback\_args, \*\*callback\_kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/contrib/syndication/views.py", line 40, in \_\_call\_\_ feedgen = self.get\_feed(obj, request) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/contrib/syndication/views.py", line 191, in get\_feed description = self.\_get\_dynamic\_attr("item\_description", item) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/contrib/syndication/views.py", line 103, in \_get\_dynamic\_attr return attr(obj) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/feeds.py", line 20, in item\_description from markdownify import markdownify ImportError: cannot import name 'markdownify' from 'markdownify' (/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/markdownify/\_\_init\_\_.py) \[10/Dec/2025 17:52:24\] "GET /feed/atom/ HTTP/1.1" 500 77558 HTTP —Å—Ç–∞—Ç—É—Å: 500 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % \[1\] + done python manage.py runserver (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend %

–û—à–∏–±–∫–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç `markdownify`. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `django-markdownify` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `markdownify`, –Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –æ–Ω–∞ –ø–æ-–¥—Ä—É–≥–æ–º—É. –ù—É–∂–Ω–æ –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `markdownify()`, –ª–∏–±–æ –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—ã—Ä–æ–π Markdown-–∫–æ–Ω—Ç–µ–Ω—Ç. –ò—Å–ø—Ä–∞–≤–∏–º `feeds.py`.

**–î–µ–π—Å—Ç–≤–∏–µ: –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç markdownify –≤ `feeds.py`:**

bash

```
cat > uch/apps/blog/feeds.py << 'EOF'
from django.contrib.syndication.views import Feed
from django.urls import reverse
from django.utils.feedgenerator import Atom1Feed
from .models import Article
from markdownify import markdownify as md_convert  # –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç

class LatestArticlesFeed(Feed):
    title = "–°—Ç–∞—Ç—å–∏ Universal Creative Hub"
    link = "/"
    description = "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ –∑–∞–º–µ—Ç–∫–∏."
    description_template = "blog/feeds/description.html"  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ HTML

    def items(self):
        return Article.objects.filter(status='published').order_by('-published_at')[:20]

    def item_title(self, item):
        return item.title

    def item_description(self, item):
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–π HTML –∏–∑ Markdown
        return md_convert(item.content)

    def item_link(self, item):
        return reverse('blog:article_detail', args=[item.slug])

    def item_pubdate(self, item):
        return item.published_at

    def item_updateddate(self, item):
        return item.updated_at if hasattr(item, 'updated_at') else item.published_at

    def item_categories(self, item):
        return [item.category.name] if item.category else []

    def item_author_name(self, item):
        return item.author.get_full_name() or item.author.username

class LatestArticlesAtomFeed(LatestArticlesFeed):
    feed_type = Atom1Feed
    subtitle = LatestArticlesFeed.description
EOF
```

**–ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:**

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python -m py_compile uch/apps/blog/feeds.py
echo "–°–∏–Ω—Ç–∞–∫—Å–∏—Å feeds.py: $?"

# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–∞ –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–µ Python
python -c "from markdownify import markdownify; print('‚úÖ markdownify –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ')"
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ markdownify: $?"
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥ —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥. –ï—Å–ª–∏ –æ–±–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω—ã (`0`), —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–∏–¥—ã —Å–Ω–æ–≤–∞.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -c "from markdownify import markdownify; print('‚úÖ markdownify –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ')" echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ markdownify: $?" Traceback (most recent call last): File "<string>", line 1, in <module> ImportError: cannot import name 'markdownify' from 'markdownify' (/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/markdownify/\_\_init\_\_.py) –ü—Ä–æ–≤–µ—Ä–∫–∞ markdownify: 1

–ü—Ä–æ–±–ª–µ–º–∞: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `django-markdownify` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ–≥ —à–∞–±–ª–æ–Ω–∞, –∞ –Ω–µ –ø—Ä—è–º—É—é —Ñ—É–Ω–∫—Ü–∏—é `markdownify`. –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥. –ü—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `django-markdownify`.

**–î–µ–π—Å—Ç–≤–∏–µ: –ò–∑—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ —É–ø—Ä–æ—â–∞–µ–º —Ñ–∏–¥.**

bash

```
# –°–º–æ—Ç—Ä–∏–º, —á—Ç–æ –µ—Å—Ç—å –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º –ø–∞–∫–µ—Ç–µ
python -c "import markdownify; print(dir(markdownify))"
python -c "import markdownify; import inspect; print(inspect.getsourcefile(markdownify))"
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –≤–µ—Ä–Ω—É—Ç—å —á–∏—Å—Ç—ã–π Markdown-—Ç–µ–∫—Å—Ç (–±–µ–∑ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ HTML), —á—Ç–æ —Ç–æ–∂–µ –¥–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è —Ñ–∏–¥–æ–≤, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–¥—É–ª—å `markdown`, –µ—Å–ª–∏ –æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -c "import markdownify; print(dir(markdownify))" python -c "import markdownify; import inspect; print(inspect.getsourcefile(markdownify))" \['\_\_builtins\_\_', '\_\_cached\_\_', '\_\_doc\_\_', '\_\_file\_\_', '\_\_loader\_\_', '\_\_name\_\_', '\_\_package\_\_', '\_\_path\_\_', '\_\_spec\_\_'\] /Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/markdownify/\_\_init\_\_.py

–ü–∞–∫–µ—Ç `markdownify` ‚Äî —ç—Ç–æ namespace package, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä—è–º—É—é —Ñ—É–Ω–∫—Ü–∏—é. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ ‚Äî `markdownify` (–¥—Ä—É–≥–æ–π), –Ω–æ —É –Ω–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `django-markdownify`. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –≤–µ—Ä–Ω–µ–º –ø—Ä–æ—Å—Ç–æ Markdown-—Ç–µ–∫—Å—Ç (—Å—ã—Ä–æ–π), —Ç–∞–∫ –∫–∞–∫ –º–Ω–æ–≥–∏–µ RSS-—Ä–∏–¥–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –±–∞–∑–æ–≤—É—é —Ä–∞–∑–º–µ—Ç–∫—É Markdown –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç–æ–±—Ä–∞–∑—è—Ç —Ç–µ–∫—Å—Ç.

**–î–µ–π—Å—Ç–≤–∏–µ: –£–ø—Ä–æ—â–∞–µ–º —Ñ–∏–¥, —É–±–∏—Ä–∞–µ–º –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤ HTML:**

bash

```
cat > uch/apps/blog/feeds.py << 'EOF'
from django.contrib.syndication.views import Feed
from django.urls import reverse
from django.utils.feedgenerator import Atom1Feed
from .models import Article

class LatestArticlesFeed(Feed):
    title = "–°—Ç–∞—Ç—å–∏ Universal Creative Hub"
    link = "/"
    description = "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ –∑–∞–º–µ—Ç–∫–∏."

    def items(self):
        return Article.objects.filter(status='published').order_by('-published_at')[:20]

    def item_title(self, item):
        return item.title

    def item_description(self, item):
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—ã—Ä–æ–π Markdown-—Ç–µ–∫—Å—Ç (RSS-—Ä–∏–¥–µ—Ä—ã —á–∞—Å—Ç–æ –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç)
        # –û–±—Ä–µ–∑–∞–µ–º –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏
        return item.content[:500] + ("..." if len(item.content) > 500 else "")

    def item_link(self, item):
        return reverse('blog:article_detail', args=[item.slug])

    def item_pubdate(self, item):
        return item.published_at

    def item_updateddate(self, item):
        return item.updated_at if hasattr(item, 'updated_at') else item.published_at

    def item_categories(self, item):
        return [item.category.name] if item.category else []

    def item_author_name(self, item):
        return item.author.get_full_name() or item.author.username

class LatestArticlesAtomFeed(LatestArticlesFeed):
    feed_type = Atom1Feed
    subtitle = LatestArticlesFeed.description
EOF
```

**–î–µ–π—Å—Ç–≤–∏–µ: –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–Ω–æ–≤–∞:**

bash

```
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
python -m py_compile uch/apps/blog/feeds.py
echo "–°–∏–Ω—Ç–∞–∫—Å–∏—Å: $?"

# –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç
python manage.py runserver &
SERVER_PID=$!
sleep 4

echo "–¢–µ—Å—Ç RSS:"
curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/feed/rss/
echo "–¢–µ—Å—Ç Atom:"
curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/feed/atom/

kill $SERVER_PID
wait $SERVER_PID 2>/dev/null
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–∞ —Å—Ç–∞—Ç—É—Å–∞ `200`. –ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥.

—Å—Ç–æ–ø –∞ –Ω–µ –ø–æ–µ–¥–µ—Ç, —á—Ç–æ —Ä–∞–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏. –î–ª—è —á–µ–≥–æ-—Ç–æ –∂–µ –±—ã–ª –Ω—É–∂–µ–Ω markdovnify

–¢—ã –ø—Ä–∞–≤. `django-markdownify` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ Markdown –≤ —à–∞–±–ª–æ–Ω–∞—Ö. –î–ª—è —Ñ–∏–¥–∞ –º—ã –º–æ–∂–µ–º –ª–∏–±–æ:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `markdown`** (–µ—Å–ª–∏ –æ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
2. **–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ `django-markdownify` –ø—Ä–∞–≤–∏–ª—å–Ω–æ**

–ü—Ä–æ–≤–µ—Ä–∏–º, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `markdown`:

bash

```
python -c "import markdown; print('‚úÖ markdown —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')"
```

–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏–º. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã.

venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -c "import markdown; print('‚úÖ markdown —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')" ‚úÖ markdown —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

–û—Ç–ª–∏—á–Ω–æ! –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `markdown` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ HTML –≤ —Ñ–∏–¥–µ.

**–î–µ–π—Å—Ç–≤–∏–µ: –û–±–Ω–æ–≤–ª—è–µ–º `feeds.py` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `markdown`:**

bash

```
cat > uch/apps/blog/feeds.py << 'EOF'
from django.contrib.syndication.views import Feed
from django.urls import reverse
from django.utils.feedgenerator import Atom1Feed
from .models import Article
import markdown

class LatestArticlesFeed(Feed):
    title = "–°—Ç–∞—Ç—å–∏ Universal Creative Hub"
    link = "/"
    description = "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ –∑–∞–º–µ—Ç–∫–∏."

    def items(self):
        return Article.objects.filter(status='published').order_by('-published_at')[:20]

    def item_title(self, item):
        return item.title

    def item_description(self, item):
        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º Markdown –≤ HTML
        html_content = markdown.markdown(item.content, extensions=['extra', 'codehilite'])
        # –û–±—Ä–µ–∑–∞–µ–º –¥–æ —Ä–∞–∑—É–º–Ω–æ–π –¥–ª–∏–Ω—ã (500 —Å–∏–º–≤–æ–ª–æ–≤ —Ç–µ–∫—Å—Ç–∞ –±–µ–∑ HTML —Ç–µ–≥–æ–≤)
        import re
        text_only = re.sub('<[^<]+?>', '', html_content)
        trimmed = text_only[:500] + ("..." if len(text_only) > 500 else "")
        return trimmed

    def item_link(self, item):
        return reverse('blog:article_detail', args=[item.slug])

    def item_pubdate(self, item):
        return item.published_at

    def item_updateddate(self, item):
        return item.updated_at if hasattr(item, 'updated_at') else item.published_at

    def item_categories(self, item):
        return [item.category.name] if item.category else []

    def item_author_name(self, item):
        return item.author.get_full_name() or item.author.username

class LatestArticlesAtomFeed(LatestArticlesFeed):
    feed_type = Atom1Feed
    subtitle = LatestArticlesFeed.description
EOF
```

**–î–µ–π—Å—Ç–≤–∏–µ: –¢–µ—Å—Ç–∏—Ä—É–µ–º:**

bash

```
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
python -m py_compile uch/apps/blog/feeds.py
echo "–°–∏–Ω—Ç–∞–∫—Å–∏—Å: $?"

# –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç
python manage.py runserver &
SERVER_PID=$!
sleep 4

echo "–¢–µ—Å—Ç RSS:"
curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/feed/rss/
echo "–¢–µ—Å—Ç Atom:"
curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/feed/atom/

# –ï—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ, –ø—Ä–æ–≤–µ—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∏–¥–∞
echo -e "\n–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã RSS (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫):"
curl -s http://localhost:8000/feed/rss/ | head -10

kill $SERVER_PID
wait $SERVER_PID 2>/dev/null
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç—É—Å—ã `200`, –≤ –≤—ã–≤–æ–¥–µ –≤–∏–¥–µ–Ω XML. –ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... atom/ # –ï—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ, –ø—Ä–æ–≤–µ—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∏–¥–∞ echo -e "\\n–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã RSS (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫):" curl -s http://localhost:8000/feed/rss/ | head -10 kill $SERVER\_PID wait $SERVER\_PID 2>/dev/null zsh: command not found: # –°–∏–Ω—Ç–∞–∫—Å–∏—Å: 0 zsh: command not found: # \[1\] 76124 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 17:57:57 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. –¢–µ—Å—Ç RSS: HTTP —Å—Ç–∞—Ç—É—Å: 200 \[10/Dec/2025 17:58:00\] "GET /feed/rss/ HTTP/1.1" 200 4564 –¢–µ—Å—Ç Atom: HTTP —Å—Ç–∞—Ç—É—Å: 200 \[10/Dec/2025 17:58:00\] "GET /feed/atom/ HTTP/1.1" 200 4778 zsh: command not found: # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã RSS (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫): <?xml version="1.0" encoding="utf-8"?> <rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>–°—Ç–∞—Ç—å–∏ Universal Creative Hub</title><link>http://localhost:8000/</link><description>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ –∑–∞–º–µ—Ç–∫–∏.</description><atom:link href="http://localhost:8000/feed/rss/" rel="self"/><language>ru-ru</language><lastBuildDate>Wed, 10 Dec 2025 07:03:58 +0000</lastBuildDate><item><title>test-auto-import2</title><link>http://localhost:8000/articles/test-auto-import2/</link><description>–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¢–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏. </description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 10 Dec 2025 06:19:53 +0000</pubDate><guid>http://localhost:8000/articles/test-auto-import2/</guid><category>Imported</category></item><item><title>–¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞</title><link>http://localhost:8000/articles/test-auto-import/</link><description>–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞. \[10/Dec/2025 17:58:00\] "GET /feed/rss/ HTTP/1.1" 200 4564 –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¢–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏. </description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 10 Dec 2025 06:19:53 +0000</pubDate><guid>http://localhost:8000/articles/test-auto-import/</guid><category>Imported</category></item><item><title>–¢–µ—Å—Ç –ø—É—Ç–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</title><link>http://localhost:8000/articles/test-image-path/</link><description>–¢–µ—Å—Ç —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –ø—É—Ç–µ–π 1. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ \[1\] + done python manage.py runserver (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend %

‚úÖ **–û—Ç–ª–∏—á–Ω–æ! RSS –∏ Atom —Ñ–∏–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç (HTTP 200).** XML –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.

---

## üéØ –®–∞–≥ 3: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –õ–∏–Ω–∏–∏ –ê. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1. –ó–∞–¥–∞—á–∞ 2: –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –º–æ–¥–µ–ª—å `Comment` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ü—Ä–æ–≤–µ—Ä–∏–º –µ—ë.

**–î–µ–π—Å—Ç–≤–∏–µ 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–æ–¥–µ–ª—å Comment –≤ `uch/apps/blog/models.py`:**

bash

```
grep -n "class Comment" uch/apps/blog/models.py -A 10
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–¥–µ–ª–∏. –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –µ—Å—Ç—å, –Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ ‚Äî –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª. –ï—Å–ª–∏ –º–æ–¥–µ–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç—É—é.

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–û—Ç–ª–∏—á–Ω–æ! –ú–æ–¥–µ–ª—å `Comment` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª—å –≤ –∞–¥–º–∏–Ω–∫—É** (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞)
2. **–°–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—É** –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
3. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ä–º—ã
4. **–î–æ–±–∞–≤–∏—Ç—å –≤—ã–≤–æ–¥ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å—Ç–∞—Ç—å–∏
5. **–î–æ–±–∞–≤–∏—Ç—å URL-–º–∞—Ä—à—Ä—É—Ç**

**–î–µ–π—Å—Ç–≤–∏–µ 2: –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ª–∏ –º–æ–¥–µ–ª—å Comment –≤ –∞–¥–º–∏–Ω–∫—É (`uch/apps/blog/admin.py`):**

bash

```
grep -n "Comment" uch/apps/blog/admin.py
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥.

**–î–µ–π—Å—Ç–≤–∏–µ 3: –°–æ–∑–¥–∞–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.** –°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `uch/apps/blog/forms.py`:

bash

```
cat > uch/apps/blog/forms.py << 'EOF'
from django import forms
from .models import Comment

class CommentForm(forms.ModelForm):
    class Meta:
        model = Comment
        fields = ['content']
        widgets = {
            'content': forms.Textarea(attrs={
                'class': 'form-control',
                'rows': 3,
                'placeholder': '–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...'
            })
        }
        labels = {
            'content': ''
        }
EOF
```

**–î–µ–π—Å—Ç–≤–∏–µ 4: –û–±–Ω–æ–≤–ª—è–µ–º `ArticleDetailView` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.** –°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Ç–µ–∫—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `uch/apps/blog/views.py` –≤–æ–∫—Ä—É–≥ `ArticleDetailView`:

bash

```
grep -n "class ArticleDetailView" uch/apps/blog/views.py -A 10
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥, —á—Ç–æ–±—ã —è –º–æ–≥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ—á–Ω—ã–π –∫–æ–¥ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–û—Ç–ª–∏—á–Ω–æ! –ú–æ–¥–µ–ª—å `Comment` —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –∞–¥–º–∏–Ω–∫–µ.

**–î–µ–π—Å—Ç–≤–∏–µ 5: –û–±–Ω–æ–≤–ª—è–µ–º `ArticleDetailView`.** –°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –ø–æ–ª–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞:

bash

```
grep -n "class ArticleDetailView" uch/apps/blog/views.py -A 20
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥, —á—Ç–æ–±—ã —è —Ç–æ—á–Ω–æ –∑–Ω–∞–ª, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã —É–∂–µ –µ—Å—Ç—å –∏ –∫—É–¥–∞ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ. –í–∏–∂—É, —á—Ç–æ `ArticleDetailView` —É–∂–µ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ `get_context_data`. –î–æ–±–∞–≤–∏–º –≤ –Ω–µ–≥–æ —Ñ–æ—Ä–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ —Å–ø–∏—Å–æ–∫ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

**–î–µ–π—Å—Ç–≤–∏–µ 6: –û–±–Ω–æ–≤–ª—è–µ–º `views.py`:**

1. –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤–∏–º –∏–º–ø–æ—Ä—Ç —Ñ–æ—Ä–º—ã –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ (–ø—Ä–æ–≤–µ—Ä–∏–º —Ç–µ–∫—É—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã):

bash

```
head -30 uch/apps/blog/views.py
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥.

1. –ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏–º –∫–ª–∞—Å—Å `ArticleDetailView`. –Ø –ø–æ–¥–≥–æ—Ç–æ–≤–ª—é –ø–∞—Ç—á, –Ω–æ —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–∞ –¥–æ –µ–≥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è:

bash

```
grep -n "class ArticleDetailView" uch/apps/blog/views.py -A 35
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % head -30 uch/apps/blog/views.py from django.shortcuts import render, get\_object\_or\_404 from django.views.generic import ListView, DetailView from django.db.models import Count, Q from.models import Article, Category # Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ def sidebar\_context(request): """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)""" try: # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π categories = Category.objects.annotate( article\_count=Count('articles', filter=Q(articles\_\_status='published') # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is\_published ) ).filter(article\_count\_\_gt=0) # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ recent\_articles = Article.objects.filter( status='published' # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is\_published ).order\_by('-created\_at')\[:5\] return { 'blog\_categories': categories, 'blog\_recent\_articles': recent\_articles, } except Exception: # –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞ return { 'blog\_categories': \[\], 'blog\_recent\_articles': \[\], (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % grep -n "class ArticleDetailView" uch/apps/blog/views.py -A 35 90:class ArticleDetailView(DetailView): 91- template\_name = 'blog/article\_detail.html' 92- model = Article 93- context\_object\_name = 'article' 94- 95- def get\_queryset(self): 96- # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ 97- return Article.objects.filter(status='published') 98- 99- def get\_context\_data(self, \*\*kwargs): 100- context = super().get\_context\_data(\*\*kwargs) 101- context.update(sidebar\_context(self.request)) 102- 103- # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è) 104- article = self.object 105- context\['previous\_article'\] = Article.objects.filter( 106- status='published', 107- created\_at\_\_lt=article.created\_at 108- ).order\_by('-created\_at').first() 109- 110- context\['next\_article'\] = Article.objects.filter( 111- status='published', 112- created\_at\_\_gt=article.created\_at 113- ).order\_by('created\_at').first() 114- 115- return context 116- 117-# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π 118-class CategoryListView(ListView): 119- template\_name = 'blog/category\_list.html' 120- model = Category 121- context\_object\_name = 'categories' 122- 123- def get\_queryset(self): 124- return Category.objects.annotate( 125- article\_count=Count('articles',

–û—Ç–ª–∏—á–Ω–æ! –í–∏–∂—É –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–∞ `ArticleDetailView`. –¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—é –ª–æ–≥–∏–∫—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

**–î–µ–π—Å—Ç–≤–∏–µ 7: –û–±–Ω–æ–≤–ª—è–µ–º `views.py` –ø–æ–ª–Ω–æ—Å—Ç—å—é (—Å–æ–∑–¥–∞–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏):**

–°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–µ–º backup:

bash

```
cp uch/apps/blog/views.py uch/apps/blog/views.py.backup_$(date +%Y%m%d_%H%M%S)
```

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:

bash

```
cat > uch/apps/blog/views.py << 'EOF'
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from django.views.decorators.http import require_POST
from .models import Article, Category, Comment
from .forms import CommentForm

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    try:
        # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
        categories = Category.objects.annotate(
            article_count=Count('articles', 
                filter=Q(articles__status='published')  # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is_published
            )
        ).filter(article_count__gt=0)
        
        # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        recent_articles = Article.objects.filter(
            status='published'  # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is_published
        ).order_by('-created_at')[:5]
        
        return {
            'blog_categories': categories,
            'blog_recent_articles': recent_articles,
        }
    except Exception:
        # –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞
        return {
            'blog_categories': [],
            'blog_recent_articles': [],
        }

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
class HomeView(ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 5
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
class ArticleListView(ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        queryset = Article.objects.filter(status='published').order_by('-created_at')
        
        # –ü–æ–∏—Å–∫
        search_query = self.request.GET.get('search', '')
        if search_query:
            queryset = queryset.filter(
                Q(title__icontains=search_query) | 
                Q(content__icontains=search_query)
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
        tag = self.request.GET.get('tag', '')
        if tag:
            queryset = queryset.filter(tags__name__in=[tag])
        
        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['search_query'] = self.request.GET.get('search', '')
        return context

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)
        context['comments'] = Comment.objects.filter(
            article=article,
            is_approved=True
        ).order_by('-created_at')
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        if self.request.user.is_authenticated:
            context['comment_form'] = CommentForm()
        else:
            context['comment_form'] = None
        
        return context

    @method_decorator(login_required)
    def post(self, request, *args, **kwargs):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"""
        self.object = self.get_object()
        form = CommentForm(request.POST)
        
        if form.is_valid():
            comment = form.save(commit=False)
            comment.article = self.object
            comment.author = request.user
            comment.save()
            return redirect('blog:article_detail', slug=self.object.slug)
        
        # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏
        context = self.get_context_data(**kwargs)
        context['comment_form'] = form
        return self.render_to_response(context)

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
class CategoryListView(ListView):
    template_name = 'blog/category_list.html'
    model = Category
    context_object_name = 'categories'
    
    def get_queryset(self):
        return Category.objects.annotate(
            article_count=Count('articles', 
                filter=Q(articles__status='published')  # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is_published
            )
        ).filter(article_count__gt=0).order_by('name')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
class CategoryDetailView(ListView):
    template_name = 'blog/category_detail.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        category_slug = self.kwargs['slug']
        self.category = get_object_or_404(Category, slug=category_slug)
        return Article.objects.filter(
            category=self.category,
            status='published'
        ).order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['category'] = self.category
        return context
EOF
```

**–î–µ–π—Å—Ç–≤–∏–µ 8: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**

bash

```
python -m py_compile uch/apps/blog/views.py uch/apps/blog/forms.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ views.py: $?"
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ forms.py: $?"
```

–û–∂–∏–¥–∞–µ–º `0` –¥–ª—è –æ–±–æ–∏—Ö —Ñ–∞–π–ª–æ–≤. –ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -m py\_compile uch/apps/blog/views.py uch/apps/blog/forms.py echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ views.py: $?" echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ forms.py: $?" Traceback (most recent call last): File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/runpy.py", line 194, in \_run\_module\_as\_main return \_run\_code(code, main\_globals, None, File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/runpy.py", line 87, in \_run\_code exec(code, run\_globals) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 215, in <module> sys.exit(main()) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 207, in main compile(filename, doraise=True) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/py\_compile.py", line 142, in compile source\_bytes = loader.get\_data(file) File "<frozen importlib.\_bootstrap\_external>", line 972, in get\_data FileNotFoundError: \[Errno 2\] No such file or directory: 'uch/apps/blog/forms.py' –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ views.py: 1 –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ forms.py: 0

–û—à–∏–±–∫–∞: —Ñ–∞–π–ª `forms.py` –Ω–µ –±—ã–ª —Å–æ–∑–¥–∞–Ω. –ü—Ä–æ–≤–µ—Ä–∏–º –∏ —Å–æ–∑–¥–∞–¥–∏–º –µ–≥–æ:

**–î–µ–π—Å—Ç–≤–∏–µ: –°–æ–∑–¥–∞–µ–º `forms.py`:**

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª
ls -la uch/apps/blog/forms.py 2>/dev/null || echo "–§–∞–π–ª forms.py –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"

# –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª
cat > uch/apps/blog/forms.py << 'EOF'
from django import forms
from .models import Comment

class CommentForm(forms.ModelForm):
    class Meta:
        model = Comment
        fields = ['content']
        widgets = {
            'content': forms.Textarea(attrs={
                'class': 'form-control',
                'rows': 3,
                'placeholder': '–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...'
            })
        }
        labels = {
            'content': ''
        }
EOF

echo "–§–∞–π–ª forms.py —Å–æ–∑–¥–∞–Ω"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±–æ–∏—Ö —Ñ–∞–π–ª–æ–≤
python -m py_compile uch/apps/blog/views.py uch/apps/blog/forms.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: $?"
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -m py\_compile uch/apps/blog/views.py uch/apps/blog/forms.py echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ views.py: $?" echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ forms.py: $?" –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ views.py: 0 –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ forms.py: 0

‚úÖ –û—Ç–ª–∏—á–Ω–æ! –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω —É—Å–ø–µ—à–Ω–æ.

**–î–µ–π—Å—Ç–≤–∏–µ 9: –û–±–Ω–æ–≤–ª—è–µ–º —à–∞–±–ª–æ–Ω –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.**

–°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Ç–µ–∫—É—â–∏–π —à–∞–±–ª–æ–Ω `uch/apps/blog/templates/blog/article_detail.html`:

bash

```
head -50 uch/apps/blog/templates/blog/article_detail.html
```

–ü–æ–∫–∞–∂–∏ –ø–µ—Ä–≤—ã–µ 50 —Å—Ç—Ä–æ–∫, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –≥–¥–µ –¥–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % head -50 uch/apps/blog/templates/blog/article\_detail.html {% extends "base.html" %} {% load markdownify %} {% block title %}{{ article.title }} | Universal Creative Hub{% endblock %} {% block content %} <article> <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏ --> <header class="mb-4"> <h1 class="display-4">{{ article.title }}</h1> <div class="d-flex justify-content-between align-items-center mt-3"> <div> <span class="badge bg-primary me-2">{{ article.category.name }}</span> {% for tag in article.tags.all %} <span class="badge bg-secondary me-1">{{ tag.name }}</span> {% endfor %} </div> <small class="text-muted"> –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ article.created\_at|date:"d.m.Y H:i" }} {% if article.updated\_at!= article.created\_at %} <br><small>–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ article.updated\_at|date:"d.m.Y H:i" }}</small> {% endif %} </small> </div> </header> <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ --> {% if article.featured\_image %} <div class="mb-4"> <img src="{{ article.featured\_image.url }}" alt="{{ article.title }}" class="img-fluid rounded"> {% if article.featured\_image\_caption %} <p class="text-muted mt-2">{{ article.featured\_image\_caption }}</p> {% endif %} </div> {% endif %} <!-- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ --> <div class="markdown-content container-fluid"> <div class="row justify-content-center"> <div class="col-12 col-lg-10 col-xl-8"> {{ article.content|markdownify }} </div> </div> </div> <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è --> <div class="mt-5 pt-4 border-top">

–•–æ—Ä–æ—à–æ. –í–∏–∂—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –î–æ–±–∞–≤–∏–º –±–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–∏–ª–∏ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º `</article>`). –°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –≥–¥–µ –ª—É—á—à–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å:

bash

```
tail -30 uch/apps/blog/templates/blog/article_detail.html
```

–ü–æ–∫–∞–∂–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 —Å—Ç—Ä–æ–∫.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % tail -30 uch/apps/blog/templates/blog/article\_detail.html <div class="row justify-content-center"> <div class="col-12 col-lg-10 col-xl-8"> {{ article.content|markdownify }} </div> </div> </div> <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è --> <div class="mt-5 pt-4 border-top"> <div class="row"> <div class="col-6"> {% if previous\_article %} <small>–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è</small><br> <a href="{% url 'blog:article\_detail' previous\_article.slug %}"> ‚Üê {{ previous\_article.title }} </a> {% endif %} </div> <div class="col-6 text-end"> {% if next\_article %} <small>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è</small><br> <a href="{% url 'blog:article\_detail' next\_article.slug %}"> {{ next\_article.title }} ‚Üí </a> {% endif %} </div> </div> </div> </article> {% endblock %}%

–û—Ç–ª–∏—á–Ω–æ. –î–æ–±–∞–≤–∏–º –±–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –Ω–æ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º `</article>`.

**–î–µ–π—Å—Ç–≤–∏–µ 10: –û–±–Ω–æ–≤–ª—è–µ–º —à–∞–±–ª–æ–Ω `article_detail.html`:**

bash

```
# –°–æ–∑–¥–∞–µ–º backup
cp uch/apps/blog/templates/blog/article_detail.html uch/apps/blog/templates/blog/article_detail.html.backup

# –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
cat > uch/apps/blog/templates/blog/article_detail.html << 'EOF'
{% extends "base.html" %}
{% load markdownify %}

{% block title %}{{ article.title }} | Universal Creative Hub{% endblock %}

{% block content %}

<article>
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏ -->
    <header class="mb-4">
        <h1 class="display-4">{{ article.title }}</h1>
        <div class="d-flex justify-content-between align-items-center mt-3">
            <div>
                <span class="badge bg-primary me-2">{{ article.category.name }}</span>
                {% for tag in article.tags.all %}
                <span class="badge bg-secondary me-1">{{ tag.name }}</span>
                {% endfor %}
            </div>
            <small class="text-muted">
                –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ article.created_at|date:"d.m.Y H:i" }}
                {% if article.updated_at != article.created_at %}
                <br><small>–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ article.updated_at|date:"d.m.Y H:i" }}</small>
                {% endif %}
            </small>
        </div>
    </header>

    <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ -->
    {% if article.featured_image %}
    <div class="mb-4">
        <img src="{{ article.featured_image.url }}" 
             alt="{{ article.title }}" 
             class="img-fluid rounded">
        {% if article.featured_image_caption %}
        <p class="text-muted mt-2">{{ article.featured_image_caption }}</p>
        {% endif %}
    </div>
    {% endif %}

    <!-- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ -->
    <div class="markdown-content container-fluid">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-10 col-xl-8">
                {{ article.content|markdownify }}
            </div>
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="mt-5 pt-4 border-top">
        <div class="row">
            <div class="col-6">
                {% if previous_article %}
                <small>–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è</small><br>
                <a href="{% url 'blog:article_detail' previous_article.slug %}">
                    ‚Üê {{ previous_article.title }}
                </a>
                {% endif %}
            </div>
            <div class="col-6 text-end">
                {% if next_article %}
                <small>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è</small><br>
                <a href="{% url 'blog:article_detail' next_article.slug %}">
                    {{ next_article.title }} ‚Üí
                </a>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ -->
    <div class="mt-5 pt-4 border-top" id="comments">
        <h3 class="mb-4">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ({{ comments.count }})</h3>
        
        {% if comments %}
            <div class="comments-list mb-4">
                {% for comment in comments %}
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h6 class="card-subtitle mb-2 text-muted">
                                {{ comment.author.get_full_name|default:comment.author.username }}
                            </h6>
                            <small class="text-muted">{{ comment.created_at|date:"d.m.Y H:i" }}</small>
                        </div>
                        <p class="card-text">{{ comment.content|linebreaks }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-muted">–ü–æ–∫–∞ –Ω–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</p>
        {% endif %}

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è -->
        {% if user.is_authenticated %}
            {% if comment_form %}
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h5>
                </div>
                <div class="card-body">
                    <form method="post" action="{% url 'blog:article_detail' article.slug %}">
                        {% csrf_token %}
                        <div class="mb-3">
                            {{ comment_form.content }}
                            {% if comment_form.content.errors %}
                            <div class="text-danger small mt-1">
                                {{ comment_form.content.errors }}
                            </div>
                            {% endif %}
                        </div>
                        <button type="submit" class="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </form>
                </div>
            </div>
            {% endif %}
        {% else %}
            <div class="alert alert-info">
                <p>–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <a href="{% url 'admin:login' %}?next={{ request.path }}">–≤–æ–π—Ç–∏</a>.</p>
            </div>
        {% endif %}
    </div>
</article>
{% endblock %}
EOF
```

**–î–µ–π—Å—Ç–≤–∏–µ 11: –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:**

1. –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –æ–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è Comment):

bash

```
python manage.py makemigrations blog
python manage.py migrate
```

1. –ó–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º:

bash

```
# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ
python manage.py runserver &
SERVER_PID=$!
sleep 4

echo "=== –¢–µ—Å—Ç: –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—å—é —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ ==="
# –ù–∞–π–¥–µ–º slug –ø–µ—Ä–≤–æ–π –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏
SLUG=$(python manage.py shell -c "
from uch.apps.blog.models import Article
article = Article.objects.filter(status='published').first()
if article:
    print(article.slug)
else:
    print('no-published-articles')
")

echo "–û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—å—é: http://localhost:8000/articles/$SLUG/"
curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http_code}\n" "http://localhost:8000/articles/$SLUG/"

echo -e "\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ ==="
curl -s "http://localhost:8000/articles/$SLUG/" | grep -c "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"

kill $SERVER_PID
wait $SERVER_PID 2>/dev/null
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –ï—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ, HTTP —Å—Ç–∞—Ç—É—Å –±—É–¥–µ—Ç `200`, –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–π "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏" –±—É–¥–µ—Ç –±–æ–ª—å—à–µ 0.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... cles/$SLUG/" echo -e "\\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ ===" curl -s "http://localhost:8000/articles/$SLUG/" | grep -c "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏" kill $SERVER\_PID wait $SERVER\_PID 2>/dev/null zsh: command not found: # \[1\] 76963 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 18:08:34 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. === –¢–µ—Å—Ç: –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—å—é —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ === zsh: command not found: # –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—å—é: http://localhost:8000/articles/‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media test-auto-import2/ HTTP —Å—Ç–∞—Ç—É—Å: 000 === –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ === 0 \[1\] + done python manage.py runserver

–ü–æ—Ö–æ–∂–µ, –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥ –≤ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. –î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –ø—Ä–æ—â–µ: –≤—ã–ø–æ–ª–Ω–∏–º —Ç–µ—Å—Ç—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏.

**–î–µ–π—Å—Ç–≤–∏–µ: –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—Ä—É—á–Ω—É—é —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.**

1. **–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –º–∏–≥—Ä–∞—Ü–∏–∏:**

bash

```
python manage.py makemigrations blog
python manage.py migrate
```

1. **–ó–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∏–º –≤—Ä—É—á–Ω—É—é:**

bash

```
# –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏:
python manage.py runserver
```

1. **–í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä–µ) –ø—Ä–æ–≤–µ—Ä—å:**
- –û—Ç–∫—Ä–æ–π `http://localhost:8000/`
- –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –ª—é–±—É—é —Å—Ç–∞—Ç—å—é
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–∏–¥–∏—à—å –±–ª–æ–∫ "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (0)"
- –ü–æ–ø—Ä–æ–±—É–π –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É (`/admin/`) –∏ —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

**–°–æ–æ–±—â–∏:**

- –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤?
- –í–∏–¥–Ω–∞ –ª–∏ —Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?
- –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞?

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –∫ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1. –ó–∞–¥–∞—á–∞ 3: –ü–∞–≥–∏–Ω–∞—Ü–∏—è** (–∫–æ—Ç–æ—Ä–∞—è, —Å—É–¥—è –ø–æ –∫–æ–¥—É –≤ `views.py`, —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–ª—è `ArticleListView` –∏ `HomeView` ‚Äî –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—ë —Ä–∞–±–æ—Ç—É –≤ —à–∞–±–ª–æ–Ω–∞—Ö).

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∫–∞. –°–∞–π—Ç–∞ –Ω–µ—Ç - –ø—Ä–æ—Å—Ç–æ –±–µ–ª–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—É—Å—Ç–∞—è

–ü—Ä–æ–±–ª–µ–º–∞: –±–µ–ª–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç –æ—à–∏–±–∫—É –≤ —à–∞–±–ª–æ–Ω–µ –∏–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ `DEBUG=True`. –ü—Ä–æ–≤–µ—Ä–∏–º –ª–æ–≥–∏.

**–î–µ–π—Å—Ç–≤–∏–µ 1: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω) –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏.**

–°–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥—ë–º –∏ —É–±—å—ë–º –ø—Ä–æ—Ü–µ—Å—Å:

bash

```
pkill -f "python manage.py runserver"
```

**–î–µ–π—Å—Ç–≤–∏–µ 2: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —à–∞–±–ª–æ–Ω–æ–≤ –∏ —Å–º–æ—Ç—Ä–∏–º –æ—à–∏–±–∫—É.**  
–ó–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä —Å –≤—ã–≤–æ–¥–æ–º –æ—à–∏–±–æ–∫ –∏ –ø–æ–ø—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:

bash

```
python manage.py runserver &
sleep 3
curl -s "http://localhost:8000/" | head -20
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—É—Å—Ç–∞—è, –∑–Ω–∞—á–∏—Ç, –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞–Ω—å—à–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

**–î–µ–π—Å—Ç–≤–∏–µ 3: –ü—Ä–æ–≤–µ—Ä–∏–º –ª–æ–≥–∏ Django.**

bash

```
# –ó–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä –≤ foreground mode –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ, –∞ –≤ –¥—Ä—É–≥–æ–º —Å–¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 1 –≤—ã–ø–æ–ª–Ω–∏:
# python manage.py runserver

# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 2 –≤—ã–ø–æ–ª–Ω–∏:
curl -v "http://localhost:8000/" 2>&1 | grep -A5 -B5 "ERROR\|Error\|Exception"
```

**–î–µ–π—Å—Ç–≤–∏–µ 4: –ü—Ä–æ–≤–µ—Ä–∏–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω `templates/base.html`.**

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ª–∏
head -30 templates/base.html
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥ —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—É –±–µ–ª–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–º `views.py` –∏–ª–∏ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python manage.py runserver & sleep 3 curl -s "http://localhost:8000/" | head -20 \[1\] 77293 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 18:12:29 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. \[10/Dec/2025 18:12:31\] "GET / HTTP/1.1" 200 0 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % \[10/Dec/2025 18:12:35\] "GET / HTTP/1.1" 200 0

–°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `200`, –Ω–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω—É–ª–µ–≤–æ–π –¥–ª–∏–Ω—ã (`0`). –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É –∏–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ.

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ—Ä–æ—è—Ç–Ω–æ, –≤ `views.py` –ø–æ—Å–ª–µ –Ω–∞—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ `sidebar_context`, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä–æ–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ª–æ–º–∞–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤.

**–î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏–º `views.py` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫.** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º –ø—Ä–µ–¥—ã–¥—É—â—É—é —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é `views.py` –∏–∑ backup:

bash

```
# –ù–∞–π–¥—ë–º –ø–æ—Å–ª–µ–¥–Ω–∏–π backup
ls -la uch/apps/blog/views.py.backup*

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é (–±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –Ω–æ —Ä–∞–±–æ—á—É—é)
cp uch/apps/blog/views.py.backup uch/apps/blog/views.py

# –ó–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∏–º
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 2
curl -s "http://localhost:8000/" | head -5
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–µ—Ä–Ω—ë—Ç HTML (–Ω–µ –ø—É—Å—Ç–æ–π), –∑–Ω–∞—á–∏—Ç, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–∞—à–µ–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–º `views.py`. –¢–æ–≥–¥–∞ –º—ã –±—É–¥–µ–º –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –µ–≥–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, –¥–æ–±–∞–≤–ª—è—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ —á–∞—Å—Ç—è–º.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % ls -la uch/apps/blog/views.py.backup\* -rw-r--r-- 1 kirillkravcov staff 3848 Dec 8 17:29 uch/apps/blog/views.py.backup -rw-r--r-- 1 kirillkravcov staff 5518 Dec 10 18:01 uch/apps/blog/views.py.backup\_20251210\_180153

–û—Ç–ª–∏—á–Ω–æ, –µ—Å—Ç—å backup –æ—Ç 08.12.2025 (—Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è). –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º –µ—ë:

**–î–µ–π—Å—Ç–≤–∏–µ: –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.**

bash

```
# –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é
cp uch/apps/blog/views.py.backup uch/apps/blog/views.py

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–∞–π—Ç
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:"
curl -s -o /dev/null -w "HTTP —Å—Ç–∞—Ç—É—Å: %{http_code}, –†–∞–∑–º–µ—Ä: %{size_download} bytes\n" http://localhost:8000/
kill %1 2>/dev/null
```

–ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –û–∂–∏–¥–∞–µ–º `200` –∏ —Ä–∞–∑–º–µ—Ä > 0 bytes. –ï—Å–ª–∏ —Ç–∞–∫, –±—É–¥–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ.

–ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–±–æ—á–∏–π —Å–µ–≥–æ–¥–Ω—è –≤—Ä–æ–¥–µ —ç—Ç–æ—Ç –±—ã–ª views.py.backup\_20251210\_180153

–í–µ—Ä–Ω–æ, backup –æ—Ç —Å–µ–≥–æ–¥–Ω—è 18:01. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º –µ–≥–æ:

**–î–µ–π—Å—Ç–≤–∏–µ: –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é:**

bash

```
cp uch/apps/blog/views.py.backup_20251210_180153 uch/apps/blog/views.py

# –ü—Ä–æ–≤–µ—Ä—è–µ–º
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3
echo "–¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π:"
curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http_code}, –†–∞–∑–º–µ—Ä: %{size_download}\n" http://localhost:8000/
echo "–¢–µ—Å—Ç —Å—Ç–∞—Ç—å–∏:"
SLUG=$(python manage.py shell -c "
from uch.apps.blog.models import Article
article = Article.objects.filter(status='published').first()
print(article.slug if article else 'test-auto-import2')
")
curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http_code}, –†–∞–∑–º–µ—Ä: %{size_download}\n" "http://localhost:8000/articles/$SLUG/"

kill %1 2>/dev/null
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –ï—Å–ª–∏ –æ–±–∞ —Å—Ç–∞—Ç—É—Å–∞ `200` –∏ —Ä–∞–∑–º–µ—Ä—ã > 0, –∑–Ω–∞—á–∏—Ç, —ç—Ç–∞ –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç. –¢–æ–≥–¥–∞ –º—ã —Å–∫–æ–ø–∏—Ä—É–µ–º –∏–∑ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ–≥–æ `views.py` —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏–∫—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–∫–ª–∞—Å—Å `ArticleDetailView` –∏ –∏–º–ø–æ—Ä—Ç—ã) –∏ –ø—Ä–æ–≤–µ—Ä–∏–º –ø–æ —á–∞—Å—Ç—è–º.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... from uch.apps.blog.models import Article article = Article.objects.filter(status='published').first() print(article.slug if article else 'test-auto-import2') ") curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http\_code}, –†–∞–∑–º–µ—Ä: %{size\_download}\\n" "http://localhost:8000/articles/$SLUG/" kill %1 2>/dev/null zsh: command not found: # \[2\] 77574 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media /Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/views.py changed, reloading. ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 18:16:35 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. System check identified no issues (0 silenced). Error: That port is already in use. \[1\] - exit 1 python manage.py runserver –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π: \[10/Dec/2025 18:16:37\] "GET / HTTP/1.1" 200 11722 –°—Ç–∞—Ç—É—Å: 200, –†–∞–∑–º–µ—Ä: 11722 –¢–µ—Å—Ç —Å—Ç–∞—Ç—å–∏: –°—Ç–∞—Ç—É—Å: 000, –†–∞–∑–º–µ—Ä: 0

–û—Ç–ª–∏—á–Ω–æ! –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (11722 –±–∞–π—Ç). –°—Ç–∞—Ç—å—è –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (`000`), –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ "port already in use". –î–∞–≤–∞–π—Ç–µ –ø–æ—á–∏—Å—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –∑–∞–Ω–æ–≤–æ.

**–î–µ–π—Å—Ç–≤–∏–µ: –£–±–∏–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Django –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.**

bash

```
# –£–±–∏–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã runserver
pkill -f "python manage.py runserver"
sleep 1

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º
python manage.py runserver > /tmp/django.log 2>&1 &
SERVER_PID=$!
sleep 4

echo "=== –õ–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫): ==="
head -10 /tmp/django.log

echo -e "\n=== –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: ==="
curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http_code}, –†–∞–∑–º–µ—Ä: %{size_download}\n" http://localhost:8000/

echo -e "\n=== –¢–µ—Å—Ç —Å—Ç–∞—Ç—å–∏: ==="
SLUG=$(python manage.py shell -c "
from uch.apps.blog.models import Article
article = Article.objects.filter(status='published').first()
print(article.slug if article else 'test-auto-import2')
")
curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http_code}, –†–∞–∑–º–µ—Ä: %{size_download}\n" "http://localhost:8000/articles/$SLUG/"

echo -e "\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–µ: ==="
grep -i "error\|exception\|traceback" /tmp/django.log | head -5

kill $SERVER_PID 2>/dev/null
```

–ü–æ–∫–∞–∂–∏ –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... ") curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http\_code}, –†–∞–∑–º–µ—Ä: %{size\_download}\\n" "http://localhost:8000/articles/$SLUG/" echo -e "\\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–µ: ===" grep -i "error\\|exception\\|traceback" /tmp/django.log | head -5 kill $SERVER\_PID 2>/dev/null zsh: command not found: # zsh: command not found: # \[1\] 77652 \[1\] + exit 1 python manage.py runserver > /tmp/django.log 2>&1 === –õ–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫): === Watching for file changes with StatReloader ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media === –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: === \[10/Dec/2025 18:17:30\] "GET / HTTP/1.1" 200 11722 –°—Ç–∞—Ç—É—Å: 200, –†–∞–∑–º–µ—Ä: 11722 === –¢–µ—Å—Ç —Å—Ç–∞—Ç—å–∏: === –°—Ç–∞—Ç—É—Å: 000, –†–∞–∑–º–µ—Ä: 0 === –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–µ: ===

–ü—Ä–æ–±–ª–µ–º–∞: —Å–µ—Ä–≤–µ—Ä —Å—Ä–∞–∑—É –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è (`exit 1`). –ü–æ—Å–º–æ—Ç—Ä–∏–º –ø–æ–ª–Ω—ã–π –ª–æ–≥ –æ—à–∏–±–æ–∫:

**–î–µ–π—Å—Ç–≤–∏–µ: –°–º–æ—Ç—Ä–∏–º –ø–æ–ª–Ω—ã–π –ª–æ–≥:**

bash

```
cat /tmp/django.log
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –µ—Å—Ç—å –æ—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –∏–ª–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ `views.py` –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è backup. –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∏–º–ø–æ—Ä—Ç–∞ `forms.py`.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % cat /tmp/django.log Watching for file changes with StatReloader ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media

–õ–æ–≥ –∫–æ—Ä–æ—Ç–∫–∏–π ‚Äî —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –ø–æ—á—Ç–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞, –Ω–æ –±–µ–∑ —è–≤–Ω–æ–π –æ—à–∏–±–∫–∏. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –ø–æ—Ä—Ç–æ–≤ –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø—Ä–∏—á–∏–Ω—ã. –ü—Ä–æ–≤–µ—Ä–∏–º –ø–æ—Ä—Ç –∏ –∑–∞–ø—É—Å—Ç–∏–º —Å —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–∞:

**–î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ä—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫:**

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 8000
lsof -ti:8000

# –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã, —É–±–∏–≤–∞–µ–º
lsof -ti:8000 | xargs kill -9 2>/dev/null

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å –≤—ã–≤–æ–¥–æ–º –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª—å
python manage.py runserver 0.0.0.0:8000
```

–ó–∞–ø—É—Å—Ç–∏ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –∏ –ø–æ—Å–º–æ—Ç—Ä–∏, –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –Ω–∞–∂–º–∏ `Ctrl+C` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —Å–æ–æ–±—â–∏, —á—Ç–æ —É–≤–∏–¥–µ–ª.

–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: –≤ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º `views.py` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–º–ø–æ—Ä—Ç `Comment` –∏–ª–∏ `CommentForm`, –Ω–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `ArticleDetailView`. –ü—Ä–æ–≤–µ—Ä–∏–º —Ç–µ–∫—É—â–∏–π `views.py`:

bash

```
grep -n "Comment\|CommentForm" uch/apps/blog/views.py
```

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python manage.py runserver 0.0.0.0:8000 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 18:19:06 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://0.0.0.0:8000/ Quit the server with CONTROL-C. ^C%

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ! –ó–Ω–∞—á–∏—Ç, –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ –ø–æ—Ä—Ç–æ–≤. –¢–µ–ø–µ—Ä—å, –ø–æ–∫–∞ —Å–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–æ–≤–µ—Ä–∏–º `views.py` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:

**–î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏–º –∏–º–ø–æ—Ä—Ç—ã –∏ –∫–ª–∞—Å—Å ArticleDetailView –≤ —Ç–µ–∫—É—â–µ–º views.py:**

bash

```
grep -n "from.*import\|class ArticleDetailView" uch/apps/blog/views.py | head -20
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –ï—Å–ª–∏ –≤ `ArticleDetailView` –Ω–µ—Ç –ª–æ–≥–∏–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –Ω–∞–º –Ω—É–∂–Ω–æ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—ë –∏–∑ –Ω–∞—à–µ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–π (–Ω–µ—Ä–∞–±–æ—á–µ–π) –≤–µ—Ä—Å–∏–∏, –Ω–æ –±–µ–∑ –ø–æ–ª–Ω–æ–π –∑–∞–º–µ–Ω—ã —Ñ–∞–π–ª–∞.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % grep -n "from.\*import\\|class ArticleDetailView" uch/apps/blog/views.py | head -20 1:from django.shortcuts import render, get\_object\_or\_404 2:from django.views.generic import ListView, DetailView 3:from django.db.models import Count, Q 4:from.models import Article, Category 90:class ArticleDetailView(DetailView):

–í —Ç–µ–∫—É—â–µ–º `views.py` –Ω–µ—Ç –∏–º–ø–æ—Ä—Ç–∞ `Comment` –∏ `CommentForm`, –∏ –≤ `ArticleDetailView` –Ω–µ—Ç –ª–æ–≥–∏–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å.

**–î–µ–π—Å—Ç–≤–∏–µ: –î–æ–±–∞–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç—ã –∏ –æ–±–Ω–æ–≤–ª—è–µ–º ArticleDetailView, —Å–æ—Ö—Ä–∞–Ω—è—è –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.**

1. **–î–æ–±–∞–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç—ã –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞:**

bash

```
# –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º views.py
cat > /tmp/views_updated.py << 'EOF'
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from .models import Article, Category, Comment
from .forms import CommentForm

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    try:
        # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
        categories = Category.objects.annotate(
            article_count=Count('articles', 
                filter=Q(articles__status='published')  # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is_published
            )
        ).filter(article_count__gt=0)
        
        # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        recent_articles = Article.objects.filter(
            status='published'  # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is_published
        ).order_by('-created_at')[:5]
        
        return {
            'blog_categories': categories,
            'blog_recent_articles': recent_articles,
        }
    except Exception:
        # –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞
        return {
            'blog_categories': [],
            'blog_recent_articles': [],
        }

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
class HomeView(ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 5
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
class ArticleListView(ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        queryset = Article.objects.filter(status='published').order_by('-created_at')
        
        # –ü–æ–∏—Å–∫
        search_query = self.request.GET.get('search', '')
        if search_query:
            queryset = queryset.filter(
                Q(title__icontains=search_query) | 
                Q(content__icontains=search_query)
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
        tag = self.request.GET.get('tag', '')
        if tag:
            queryset = queryset.filter(tags__name__in=[tag])
        
        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['search_query'] = self.request.GET.get('search', '')
        return context

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)
        context['comments'] = Comment.objects.filter(
            article=article,
            is_approved=True
        ).order_by('-created_at')
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        if self.request.user.is_authenticated:
            context['comment_form'] = CommentForm()
        else:
            context['comment_form'] = None
        
        return context

    @method_decorator(login_required)
    def post(self, request, *args, **kwargs):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"""
        self.object = self.get_object()
        form = CommentForm(request.POST)
        
        if form.is_valid():
            comment = form.save(commit=False)
            comment.article = self.object
            comment.author = request.user
            comment.save()
            return redirect('blog:article_detail', slug=self.object.slug)
        
        # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏
        context = self.get_context_data(**kwargs)
        context['comment_form'] = form
        return self.render_to_response(context)

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
class CategoryListView(ListView):
    template_name = 'blog/category_list.html'
    model = Category
    context_object_name = 'categories'
    
    def get_queryset(self):
        return Category.objects.annotate(
            article_count=Count('articles', 
                filter=Q(articles__status='published')  # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is_published
            )
        ).filter(article_count__gt=0).order_by('name')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
class CategoryDetailView(ListView):
    template_name = 'blog/category_detail.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        category_slug = self.kwargs['slug']
        self.category = get_object_or_404(Category, slug=category_slug)
        return Article.objects.filter(
            category=self.category,
            status='published'
        ).order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['category'] = self.category
        return context
EOF

# –ó–∞–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π views.py
cp /tmp/views_updated.py uch/apps/blog/views.py

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python -m py_compile uch/apps/blog/views.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ views.py: $?"
```

–ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ï—Å–ª–∏ `0`, –∑–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... EOF # –ó–∞–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π views.py cp /tmp/views\_updated.py uch/apps/blog/views.py # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å python -m py\_compile uch/apps/blog/views.py echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ views.py: $?" zsh: command not found: # zsh: command not found: # zsh: command not found: # –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ views.py: 0

‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤–µ—Ä–Ω—ã–π. –¢–µ–ø–µ—Ä—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

**–î–µ–π—Å—Ç–≤–∏–µ: –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª:**

bash

```
# –£–±–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f "python manage.py runserver"

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
python manage.py runserver 0.0.0.0:8000 &
SERVER_PID=$!
sleep 4

echo "=== 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É ==="
curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/

echo -e "\n=== 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ç–∞—Ç—å–∏ ==="
SLUG=$(python manage.py shell -c "
from uch.apps.blog.models import Article
article = Article.objects.filter(status='published').first()
print(article.slug if article else 'test-auto-import2')
")
echo "–û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—å—é: $SLUG"
curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http_code}\n" "http://localhost:8000/articles/$SLUG/"

echo -e "\n=== 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –±–ª–æ–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ==="
curl -s "http://localhost:8000/articles/$SLUG/" | grep -c "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"

echo -e "\n=== 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–æ—Ä–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –µ—Å—Ç—å (–¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö) ==="
# –°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–∏–º CSRF-—Ç–æ–∫–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∞
# –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º—É
curl -s "http://localhost:8000/articles/$SLUG/" | grep -c "–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"

kill $SERVER_PID
wait $SERVER_PID 2>/dev/null
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –ï—Å–ª–∏ —à–∞–≥–∏ 1-3 –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (—Å—Ç–∞—Ç—É—Å—ã 200, "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏" –Ω–∞–π–¥–µ–Ω—ã), —Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:

1. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (–≤ `HomeView` –∏ `ArticleListView` –µ—Å—Ç—å `paginate_by`). –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö.
2. **RSS —Ñ–∏–¥—ã** —Ä–∞–±–æ—Ç–∞—é—Ç (–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏).

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 –õ–∏–Ω–∏–∏ –ê –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω**. –ú—ã –º–æ–∂–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ **—Å—Ç–∞—Ä—Ç—É –õ–∏–Ω–∏–∏ –ë** –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... echo -e "\\n=== 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–æ—Ä–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –µ—Å—Ç—å (–¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö) ===" # –°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–∏–º CSRF-—Ç–æ–∫–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∞ # –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º—É curl -s "http://localhost:8000/articles/$SLUG/" | grep -c "–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" kill $SERVER\_PID wait $SERVER\_PID 2>/dev/null zsh: command not found: # zsh: command not found: # \[1\] 78863 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 19:24:29 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://0.0.0.0:8000/ Quit the server with CONTROL-C. === 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É === \[10/Dec/2025 19:24:31\] "GET / HTTP/1.1" 200 0 –°—Ç–∞—Ç—É—Å: 200 === 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ç–∞—Ç—å–∏ === –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—å—é: ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media test-auto-import2 –°—Ç–∞—Ç—É—Å: 000 === 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –±–ª–æ–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ === 0 === 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–æ—Ä–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –µ—Å—Ç—å (–¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö) === zsh: command not found: # zsh: command not found: # 0 \[1\] + done python manage.py runserver 0.0.0.0:8000

–ü—Ä–æ–±–ª–µ–º–∞: –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `200` –Ω–æ —Ä–∞–∑–º–µ—Ä `0` (–ø—É—Å—Ç–∞—è), –∞ —Å—Ç–∞—Ç—å—è –≤–æ–æ–±—â–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (`000`). –ó–Ω–∞—á–∏—Ç, –≤ `views.py` –≤—Å—ë –µ—â—ë –µ—Å—Ç—å –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—É—Å—Ç–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É.

**–ü—Ä–∏—á–∏–Ω–∞:** –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –æ—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `sidebar_context` –∏–ª–∏ –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º –ª–æ–≥–∏ –æ—à–∏–±–æ–∫, –∑–∞–ø—É—Å—Ç–∏–≤ —Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É—é –∏ –ø–æ—Å–º–æ—Ç—Ä–µ–≤ –≤—ã–≤–æ–¥.

**–î–µ–π—Å—Ç–≤–∏–µ: –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É—é –∏ —Å–º–æ—Ç—Ä–∏–º –æ—à–∏–±–∫–∏:**

bash

```
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å—ë
pkill -f "python manage.py runserver"

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤ foreground —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
python manage.py runserver
```

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ `http://localhost:8000/` –∏ –ø–æ—Å–º–æ—Ç—Ä–∏, –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ Django. –°–æ–æ–±—â–∏ –∏—Ö.

–ï—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é, –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç:

bash

```
python manage.py runserver > /tmp/django_full.log 2>&1 &
sleep 4
curl -s "http://localhost:8000/" > /dev/null
sleep 2
grep -A 10 -B 5 "ERROR\|Error\|Exception\|Traceback" /tmp/django_full.log
pkill -f "python manage.py runserver"
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python manage.py runserver ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 19:25:37 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. \[10/Dec/2025 19:25:41\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 19:25:42\] "GET / HTTP/1.1" 200 0

–°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–æ–∫, –Ω–æ –æ—Ç–¥–∞—ë—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —à–∞–±–ª–æ–Ω—ã —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É. –ü—Ä–æ–≤–µ—Ä–∏–º, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—É—Ç–∏ –∫ —à–∞–±–ª–æ–Ω–∞–º –∏ –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏.

**–î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω `base.html` –Ω–∞ –æ—à–∏–±–∫–∏.**

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ base.html –∏ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
ls -la templates/base.html
head -20 templates/base.html
```

**–î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ `sidebar_context` –¥–∞–Ω–Ω—ã–µ.**

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥.

–¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –≤ `settings.py` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω—ã `TEMPLATES['DIRS']`. –ü—Ä–æ–≤–µ—Ä–∏–º:

bash

```
grep -n "TEMPLATES" uch/settings.py -A 10
```

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % ls -la templates/base.html head -20 templates/base.html -rw-r--r-- 1 kirillkravcov staff 4788 Dec 9 17:17 templates/base.html <!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>{% block title %}Universal Creative Hub{% endblock %}</title> <!-- Bootstrap 5 CSS --> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <!-- Custom CSS --> <link rel="stylesheet" href="/static/css/style.css?v=1"> {% block extra\_css %}{% endblock %} </head> (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python manage.py shell -c " from uch.apps.blog.views import sidebar\_context from django.http import HttpRequest request = HttpRequest() result = sidebar\_context(request) print('–†–µ–∑—É–ª—å—Ç–∞—Ç sidebar\_context:', result) " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –†–µ–∑—É–ª—å—Ç–∞—Ç sidebar\_context: {'blog\_categories': \[\], 'blog\_recent\_articles': \[\]} <body> <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è --> <nav class="navbar navbar-expand-lg navbar-dark bg-dark"> <div class="container"> <a class="navbar-brand" href="/">UCH v0.3</a>

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!** –§—É–Ω–∫—Ü–∏—è `sidebar_context` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏: `{'blog_categories': [], 'blog_recent_articles': []}`. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –±–ª–æ–∫–µ `try`, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `except Exception:` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏.

–ü—Ä–∏—á–∏–Ω–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è: –≤–æ–∑–º–æ–∂–Ω–æ, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â—ë –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —ç—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤ —É—Å–ª–æ–≤–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ `Q(articles__status='published')`.

**–î–µ–π—Å—Ç–≤–∏–µ: –£–±–∏—Ä–∞–µ–º try-except –∏ —Å–º–æ—Ç—Ä–∏–º —Ä–µ–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É.** –û–±–Ω–æ–≤–∏–º —Ñ—É–Ω–∫—Ü–∏—é `sidebar_context` –≤ `views.py`:

bash

```
# –°–æ–∑–¥–∞—ë–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é sidebar_context
cat > /tmp/fix_sidebar.py << 'EOF'
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
    categories = Category.objects.annotate(
        article_count=Count('articles', 
            filter=Q(articles__status='published')
        )
    ).filter(article_count__gt=0)
    
    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
    recent_articles = Article.objects.filter(
        status='published'
    ).order_by('-created_at')[:5]
    
    return {
        'blog_categories': categories,
        'blog_recent_articles': recent_articles,
    }
EOF

# –í—Å—Ç–∞–≤–ª—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ views.py
# –°–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥—ë–º –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü —Ñ—É–Ω–∫—Ü–∏–∏ sidebar_context –≤ views.py
LINE_START=$(grep -n "def sidebar_context" uch/apps/blog/views.py | cut -d: -f1)
LINE_END=$((LINE_START + 20))
# –ü–æ–∫–∞–∂–µ–º, —á—Ç–æ –∑–∞–º–µ–Ω—è–µ–º
echo "=== –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è (—Å—Ç—Ä–æ–∫–∏ $LINE_START-$LINE_END): ==="
sed -n "${LINE_START},${LINE_END}p" uch/apps/blog/views.py

# –ó–∞–º–µ–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
sed -i "${LINE_START},${LINE_END}d" uch/apps/blog/views.py
sed -i "${LINE_START}r /tmp/fix_sidebar.py" uch/apps/blog/views.py

echo -e "\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å ==="
python -m py_compile uch/apps/blog/views.py
echo "–°—Ç–∞—Ç—É—Å: $?"
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥. –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å `0`, –∑–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∏–º.

–∞–¥–º–∏–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù–∞ —Å–∞–π—Ç–µ –ø—É—Å—Ç–æ (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % make run python manage.py runserver ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 22:28:42 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. \[10/Dec/2025 22:28:45\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:28:45\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:28:46\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:28:46\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:28:47\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:28:51\] "GET /admin/ HTTP/1.1" 200 11794 \[10/Dec/2025 22:28:57\] "GET / HTTP/1.1" 200 0

–ê–¥–º–∏–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å–∞–π—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (—Å—Ç–∞—Ç—É—Å 200, —Ä–∞–∑–º–µ—Ä 0). –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Django —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –Ω–æ —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É.

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `sidebar_context`, –∫–æ—Ç–æ—Ä—É—é –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∏. –ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Ç–æ—á–Ω—É—é –æ—à–∏–±–∫—É, –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –æ—à–∏–±–æ–∫.

–í–æ—Ç –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä** (–µ—Å–ª–∏ –æ–Ω –∑–∞–ø—É—â–µ–Ω), –Ω–∞–∂–∞–≤ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç.
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç–ª–∞–¥–æ—á–Ω—É—é —Å–µ—Å—Å–∏—é –∏ —Å—Ä–∞–∑—É –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.** –û—Ç–∫—Ä–æ–π—Ç–µ –¥–≤–∞ –æ–∫–Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
	**–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 1 (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∑–∞—Ö–≤–∞—Ç–∞ –ª–æ–≥–æ–≤):**
	bash
	```
	python manage.py runserver 2>&1 | tee /tmp/django_debug.log
	```
	**–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 2 (–¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞):**
	bash
	```
	sleep 3
	curl -s "http://127.0.0.1:8000/" > /tmp/test.html
	echo "–°–¥–µ–ª–∞–ª –∑–∞–ø—Ä–æ—Å. –ü—Ä–æ–≤–µ—Ä—è—é –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏..."
	grep -A 5 -B 2 "ERROR\|Error\|Exception\|Traceback" /tmp/django_debug.log | head -30
	```
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ª–æ–≥–æ–≤,** –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤–∏–ª–∏—Å—å –≤ –ø–µ—Ä–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∏ –≤ –≤—ã–≤–æ–¥–µ –≤—Ç–æ—Ä–æ–π –∫–æ–º–∞–Ω–¥—ã. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ —Å `ERROR`, `Error`, `Exception` –∏–ª–∏ `Traceback`.
4. **–ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ –≤–∏–¥–Ω–æ,** –≤–æ–∑–º–æ–∂–Ω–æ, –æ—à–∏–±–∫–∞ —Å–∫—Ä—ã—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ –æ–±–æ–ª–æ—á–∫–µ Django:
	bash
	```
	python manage.py shell
	```
	–ê –∑–∞—Ç–µ–º –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –æ–±–æ–ª–æ—á–∫–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
	–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –ø–∞–¥–∞–µ—Ç –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è —Å –æ—à–∏–±–∫–æ–π –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ —à–∞–≥–∏ –∏ —Å–æ–æ–±—â–∏—Ç–µ **–ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏** –∏–ª–∏ –≤—ã–≤–æ–¥ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –∏ –±—ã—Å—Ç—Ä–æ –µ—ë –∏—Å–ø—Ä–∞–≤–∏—Ç—å.

–∞ –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º?

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –Ω–∞–¥ —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º –≤–∞–∂–Ω–æ **–≤—Å–µ–≥–¥–∞** –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∏–Ω–∞—á–µ –∫–æ–º–∞–Ω–¥—ã Python –º–æ–≥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∞ –Ω–µ –Ω–∞ –Ω—É–∂–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞.

### üîß –ö–∞–∫ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –æ–±–æ–ª–æ—á–∫–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è.

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞**, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `venv` (–µ—Å–ª–∏ –≤—ã –µ—â–µ –Ω–µ —Ç–∞–º):
	bash
	```
	cd /Users/kirillkravcov/UniversalCreativeHub/uch-backend
	```
2. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
	- **–î–ª—è macOS/Linux (Bash/Zsh):**
		bash
		```
		source venv/bin/activate
		```
		–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ `(venv)` –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
		bash
		```
		(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend %
		```
	- **–î–ª—è Windows (PowerShell):**
		powershell
		```
		.\venv\Scripts\activate.ps1
		```
		–í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
		powershell
		```
		Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
		```
	- **–î–ª—è Windows (Command Prompt):**
		cmd
		```
		venv\Scripts\activate.bat
		```
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—é.** –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Python —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à `venv`:
	bash
	```
	which python
	# –∏–ª–∏ \`where python\` –Ω–∞ Windows
	```
	–í –æ—Ç–≤–µ—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Ç—å, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–π—Å—è –Ω–∞ `venv/bin/python`.

### üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è

–ß—Ç–æ–±—ã –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤ `Makefile` –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å.

–û—Ç–∫—Ä–æ–π—Ç–µ `Makefile` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ü–µ–ª–µ–≤—É—é –∫–æ–º–∞–Ω–¥—É `venv`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–∏–ª–∏ —Ö–æ—Ç—è –±—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç). –≠—Ç–æ –±—É–¥–µ—Ç —É–¥–æ–±–Ω–æ –¥–ª—è –∫–æ–º–∞–Ω–¥ –≤—Ä–æ–¥–µ `make run`.

### üöÄ –î–∞–ª–µ–µ: –ó–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥–∫–∏

–ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è **–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π.

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ—á–∫–∏ –ª–æ–≥–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –∏—Ö ‚Äî –º—ã —Å—Ä–∞–∑—É –ø–µ—Ä–µ–π–¥—ë–º –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é.

—É –º–µ–Ω—è phyton –≤—Å–µ–≥–¥–∞ —Å –∞–ª–∏–∞—Å–æ–º –∫–∞–∫ —ç—Ç–æ –ø–æ–º–µ–Ω—è—Ç—å, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–µ –ø–æ—è–≤–ª—è–ª—Å—è –∞–ª–∏–∞—Å? python: aliased to /usr/bin/python3

–ê–ª–∏–∞—Å (`python: aliased to /usr/bin/python3`) —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –≤–∞—à–µ–π –æ–±–æ–ª–æ—á–∫–∏ (Zsh, Bash –∏ —Ç.–¥.). –ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ **–≥–ª–æ–±–∞–ª—å–Ω–æ** –≤ —Ç–µ–∫—É—â–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –Ω—É–∂–Ω–æ:

### 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è –∞–ª–∏–∞—Å

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

bash

```
alias python
```

–û–Ω–∞ –ø–æ–∫–∞–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–ª–∏–∞—Å–∞. –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –≤ –∫–∞–∫–æ–º —Ñ–∞–π–ª–µ –ø—Ä–æ–ø–∏—Å–∞–Ω –∞–ª–∏–∞—Å.

### 2Ô∏è‚É£ –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–Ω–∞ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)

–ß—Ç–æ–±—ã **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ** —É–±—Ä–∞—Ç—å –∞–ª–∏–∞—Å —Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

bash

```
unalias python
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–º–∞–Ω–¥–∞ `python` –±—É–¥–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –∫–∞–∫ –æ–±—ã—á–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è –ø—É—Ç—å –∏–∑ `$PATH` (–≤ –≤–∞—à–µ–º —Å–ª—É—á–∞–µ ‚Äî –∏–∑ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ `venv`).

### 3Ô∏è‚É£ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—É–±—Ä–∞—Ç—å –∞–ª–∏–∞—Å –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)

1. –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª, –≥–¥–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –∞–ª–∏–∞—Å (—Å–º. –ø.1).
2. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:
	bash
	```
	nano ~/.zshrc
	```
3. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞:
	bash
	```
	alias python="/usr/bin/python3"
	```
	–ò–ª–∏
	bash
	```
	alias python='python3'
	```
4. **–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** –µ—ë, –¥–æ–±–∞–≤–∏–≤ `#` –≤ –Ω–∞—á–∞–ª–æ:
	bash
	```
	# alias python="/usr/bin/python3"
	```
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (`Ctrl+O`, –∑–∞—Ç–µ–º `Ctrl+X` –≤ nano).
6. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–±–æ–ª–æ—á–∫–∏:
	bash
	```
	source ~/.zshrc
	```

### ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–π—á–∞—Å

–í —Ç–µ–∫—É—â–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

bash

```
unalias python
which python
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—É—Ç—å –∫ `venv/bin/python`, –∑–Ω–∞—á–∏—Ç, –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –¥–ª—è —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `python3` –≤ –∞–ª–∏–∞—Å–µ, –Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤–Ω—É—Ç—Ä–∏ `venv` –∫–æ–º–∞–Ω–¥–∞ `python` —É–∫–∞–∑—ã–≤–∞–ª–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä. –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ `venv` —ç—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Ç–∞–∫ –∫–∞–∫ –ø—É—Ç—å `venv/bin` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ `$PATH`.

---

**–¢–µ–ø–µ—Ä—å –≤–µ—Ä–Ω—ë–º—Å—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–¥–∞—á–µ:**

1. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: `source venv/bin/activate`
2. –£–±–µ—Ä–∏—Ç–µ –∞–ª–∏–∞—Å –≤ —ç—Ç–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: `unalias python`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `python` —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `venv`: `which python`
4. **–ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã**:

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º –ø–æ–Ω—è—Ç—å, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ `sidebar_context` –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π ‚Äî —á—Ç–æ –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

–≥–¥–µ –Ω–∞–π—Ç–∏ /Users/kirillkravcov/.zshrc:1:alias python=/usr/bin/python3

–û—Ç–ª–∏—á–Ω–æ! –ú—ã –Ω–∞—à–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–±–ª–µ–º—ã. –ê–ª–∏–∞—Å `python` –∑–∞–¥–∞–Ω –≤ **–ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ** —Ñ–∞–π–ª–∞ `~/.zshrc`. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –µ–≥–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å.

## üîß –®–∞–≥–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é:

### 1\. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª.zshrc –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

bash

```
nano ~/.zshrc
```

### 2\. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –∞–ª–∏–∞—Å–æ–º:

–û–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ (—Å—Ç—Ä–æ–∫–∞ 1):

text

```
alias python=/usr/bin/python3
```

### 3\. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É:

- **–í–∞—Ä–∏–∞–Ω—Ç A (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)** ‚Äî –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, –¥–æ–±–∞–≤–∏–≤ `#` –≤ –Ω–∞—á–∞–ª–æ:
	text
	```
	# alias python=/usr/bin/python3
	```
- **–í–∞—Ä–∏–∞–Ω—Ç B** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É

### 4\. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

- –í nano: `Ctrl+O` (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å), –∑–∞—Ç–µ–º `Enter`, –∑–∞—Ç–µ–º `Ctrl+X` (–≤—ã—Ö–æ–¥)

### 5\. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Zsh:

bash

```
source ~/.zshrc
```

### 6\. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–ª–∏–∞—Å —É–¥–∞–ª—ë–Ω:

bash

```
alias python
```

–ö–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å `python not found` –∏–ª–∏ –ø—É—Å—Ç–æ–π –≤—ã–≤–æ–¥.

### 7\. –¢–µ–ø–µ—Ä—å –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ python:

bash

```
cd /Users/kirillkravcov/UniversalCreativeHub/uch-backend
source venv/bin/activate
which python
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**`/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/bin/python`

---

## üö® –í–ê–ñ–ù–û: –ü–æ—Å–ª–µ —ç—Ç–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

**–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ `sidebar_context` –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π ‚Äî —á—Ç–æ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ —Å–∞–π—Ç–µ.

—è –æ—Ç–∫—Ä—ã–≤—é —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –≤—Å–µ–≥–¥–∞ —á–µ—Ä–µ–∑ vscode. –≥–¥–µ –Ω–∞–π—Ç–∏?.zshrc

–§–∞–π–ª `.zshrc` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–∞—à–µ–π –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`/Users/kirillkravcov`). –≠—Ç–æ **—Å–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–æ—á–∫–∏).

## üìç –ö–∞–∫ –Ω–∞–π—Ç–∏ –∏ –æ—Ç–∫—Ä—ã—Ç—å.zshrc —á–µ—Ä–µ–∑ VS Code:

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (—É–∂–µ –æ—Ç–∫—Ä—ã—Ç)
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
	bash
	```
	code ~/.zshrc
	```
	–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç —Ñ–∞–π–ª `.zshrc` –≤ VS Code.

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ VS Code GUI

1. –û—Ç–∫—Ä–æ–π—Ç–µ VS Code
2. –ù–∞–∂–º–∏—Ç–µ `Cmd+Shift+P` (macOS) –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Command Palette
3. –í–≤–µ–¥–∏—Ç–µ `File: Open File`
4. –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –Ω–∞–∂–º–∏—Ç–µ `Cmd+Shift+.` (–ø–æ–∫–∞–∑–∞—Ç—å —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã)
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (`/Users/kirillkravcov`)
6. –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª `.zshrc` –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º

bash

```
cd ~
ls -la | grep .zshrc  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
code .zshrc
```

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ —Ñ–∞–π–ª–µ:

1. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞):
	text
	```
	alias python=/usr/bin/python3
	```
2. **–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –µ—ë**, –¥–æ–±–∞–≤–∏–≤ `#` –≤ –Ω–∞—á–∞–ª–æ:
	text
	```
	# alias python=/usr/bin/python3
	```
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (`Cmd+S`)

## üîÑ –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

bash

```
source ~/.zshrc
which python
```

–¢–µ–ø–µ—Ä—å `which python` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `python not found` (–¥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ venv) –∏–ª–∏ –ø—É—Ç—å –∫ `venv/bin/python` (–ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏).

## üéØ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–ª–∏–∞—Å–∞ **–≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `sidebar_context` –∏ –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–í–∞–∂–Ω–æ:** –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤–æ–µ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `.zshrc`, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É.

kirillkravcov@MacBook-Pro-Kirill ~ % ls -la | grep.zshrc # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç grep: #: No such file or directory grep: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å,: No such file or directory grep: —á—Ç–æ: No such file or directory grep: —Ñ–∞–π–ª: No such file or directory grep: —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: No such file or directory

–û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è `#` –≤ –∫–æ–º–∞–Ω–¥–µ. –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ `#` –∏ –≤—Å—ë –ø–æ—Å–ª–µ –Ω–µ–≥–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –∞ `grep` –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª—ã —Å —Ç–∞–∫–∏–º–∏ –∏–º–µ–Ω–∞–º–∏.

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:

bash

```
ls -la | grep .zshrc
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ:

bash

```
ls -la ~/.zshrc
```

## üìÅ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞:

bash

```
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ .zshrc
ls -la .zshrc

# –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ VS Code
code .zshrc
```

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–ª–∏–∞—Å–∞ (–∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è):

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª**: `code ~/.zshrc`
2. **–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É**: `alias python=/usr/bin/python3`
3. **–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ**: –¥–æ–±–∞–≤—å—Ç–µ `#` –≤ –Ω–∞—á–∞–ª–æ ‚Üí `# alias python=/usr/bin/python3`
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** (`Cmd+S`)
5. **–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: `source ~/.zshrc`

## üéØ –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

bash

```
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞–ª–∏–∞—Å —É–±—Ä–∞–Ω
alias python 2>/dev/null || echo "‚úÖ –ê–ª–∏–∞—Å 'python' –Ω–µ –Ω–∞–π–¥–µ–Ω"

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/kirillkravcov/UniversalCreativeHub/uch-backend
source venv/bin/activate

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ python —Ç–µ–ø–µ—Ä—å –∏–∑ venv
which python
```

**–ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–º–∞–Ω–¥**, –æ—Å–æ–±–µ–Ω–Ω–æ `which python`. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞.

kirillkravcov@MacBook-Pro-Kirill ~ % ls -la | grep.zshrc -rw-r--r-- 1 kirillkravcov staff 182 Dec 26 2024.zshrc kirillkravcov@MacBook-Pro-Kirill ~ % code.zshrc zsh: command not found: code

–ö–æ–º–∞–Ω–¥–∞ `code` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –≤–∞—à–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—É—Å–∫ VS Code –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä.

## üìù –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–∫—Ä—ã—Ç–∏—è.zshrc:

### üîß –°–ø–æ—Å–æ–± 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã

- **nano** (–ø—Ä–æ—Å—Ç–æ–π, –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω):
	bash
	```
	nano ~/.zshrc
	```
	- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
	- –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É: `alias python=/usr/bin/python3`
	- –î–æ–±–∞–≤—å—Ç–µ `#` –≤ –Ω–∞—á–∞–ª–æ: `# alias python=/usr/bin/python3`
	- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, –∑–∞—Ç–µ–º `Enter`
	- –í—ã–π–¥–∏—Ç–µ: `Ctrl+X`
- **vim** (–µ—Å–ª–∏ –∑–Ω–∞–∫–æ–º—ã):
	bash
	```
	vim ~/.zshrc
	```

### üîå –°–ø–æ—Å–æ–± 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–∞–Ω–¥—É code –¥–ª—è VS Code

1. –û—Ç–∫—Ä–æ–π—Ç–µ VS Code (`Cmd+Space`, –≤–≤–µ–¥–∏—Ç–µ "Visual Studio Code")
2. –ù–∞–∂–º–∏—Ç–µ `Cmd+Shift+P`, –≤–≤–µ–¥–∏—Ç–µ "Shell Command"
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Shell Command: Install 'code' command in PATH"**
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª

### üåê –°–ø–æ—Å–æ–± 3: –û—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ Finder

1. –û—Ç–∫—Ä–æ–π—Ç–µ Finder
2. –ù–∞–∂–º–∏—Ç–µ `Cmd+Shift+G`
3. –í–≤–µ–¥–∏—Ç–µ `~` (—Ç–∏–ª—å–¥–∞) –∏ –Ω–∞–∂–º–∏—Ç–µ Go
4. –ù–∞–∂–º–∏—Ç–µ `Cmd+Shift+.` (–ø–æ–∫–∞–∑–∞—Ç—å —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã)
5. –ù–∞–π–¥–∏—Ç–µ `.zshrc`
6. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí –û—Ç–∫—Ä—ã—Ç—å —Å –ø–æ–º–æ—â—å—é ‚Üí VS Code

## üéØ –ë—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ nano

bash

```
cd ~
nano .zshrc
```

–í nano:

1. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É: `alias python=/usr/bin/python3`
2. –î–æ–±–∞–≤—å—Ç–µ `#` –≤ –Ω–∞—á–∞–ª–æ: `# alias python=/usr/bin/python3`
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, –∑–∞—Ç–µ–º `Enter`
4. –í—ã–π–¥–∏—Ç–µ: `Ctrl+X`

## üîÑ –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

bash

```
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
source ~/.zshrc

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞–ª–∏–∞—Å —É–±—Ä–∞–Ω
alias python 2>/dev/null || echo "‚úÖ –ê–ª–∏–∞—Å —É–¥–∞–ª–µ–Ω"

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv
cd /Users/kirillkravcov/UniversalCreativeHub/uch-backend
source venv/bin/activate

# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
which python
```

**–ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã `which python` –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ venv.** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, —É–∫–∞–∑—ã–≤–∞–µ—Ç –ª–∏ —Ç–µ–ø–µ—Ä—å `python` –Ω–∞ –≤–∞—à –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

–æ—Ç–∫—Ä—ã–ª—Å—è –Ω–æ —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π

–ï—Å–ª–∏ —Ñ–∞–π–ª `.zshrc` –ø—É—Å—Ç–æ–π, –∑–Ω–∞—á–∏—Ç –∞–ª–∏–∞—Å `python` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è **–≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ**. –î–∞–≤–∞–π—Ç–µ –Ω–∞–π–¥–µ–º, –≥–¥–µ –∏–º–µ–Ω–Ω–æ.

## üîç –ü–æ–∏—Å–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∞–ª–∏–∞—Å–∞:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã Zsh:

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º, –≥–¥–µ —Å–µ–π—á–∞—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–ª–∏–∞—Å:

bash

```
# –ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –∞–ª–∏–∞—Å
type -a python
```

–∏–ª–∏

bash

```
which -a python
```

## üéØ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–Ω–∞ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é):

–í **—Ç–µ–∫—É—â–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ** –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ –∞–ª–∏–∞—Å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏–º —Ä–∞–±–æ—Ç—É:

bash

```
# –£–±—Ä–∞—Ç—å –∞–ª–∏–∞—Å —Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
unalias python

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /Users/kirillkravcov/UniversalCreativeHub/uch-backend

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv
source venv/bin/activate

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ python —Ç–µ–ø–µ—Ä—å –∏–∑ venv
which python
echo "–ü—É—Ç—å –∫ python: $(which python)"
```

## üîß –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –Ω–∞–π–¥–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫ –∞–ª–∏–∞—Å–∞ (—à–∞–≥ 1), –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª. –ù–æ –¥–ª—è **—Å—Ä–æ—á–Ω–æ–≥–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã** –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —à–∞–≥–∞ –≤—ã—à–µ.

## üìã –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç `sidebar_context`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–∏—á–∏–Ω—É –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞:

**–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ –∏ –ø–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥:**

1. –†–µ–∑—É–ª—å—Ç–∞—Ç `which python` –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ venv
2. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ `sidebar_context`

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—É—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–∞–π—Ç–∞.

–û—Ç–ª–∏—á–Ω–æ! **sidebar\_context –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫**, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏**. –≠—Ç–æ –∏ –µ—Å—Ç—å –ø—Ä–∏—á–∏–Ω–∞ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞ ‚Äî –≤ —à–∞–±–ª–æ–Ω–µ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã:

–§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. **–ù–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π** (`status='published'`)
2. **–ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π** —Å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—å—è–º–∏
3. **–û—à–∏–±–∫–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏** (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ `status`)

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ:

bash

```
python manage.py shell -c "
from uch.apps.blog.models import Article, Category
print('=== –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ ===')
articles = Article.objects.filter(status='published')
print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {articles.count()}')
for a in articles[:3]:
    print(f'- {a.title} (—Å—Ç–∞—Ç—É—Å: {a.status})')

print('\\n=== –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ===')
categories = Category.objects.all()
print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {categories.count()}')
for c in categories:
    count = c.articles.filter(status='published').count()
    print(f'- {c.name}: {count} –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π')
"
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω–æ –ø–æ–ª–µ status:

bash

```
python manage.py shell -c "
from uch.apps.blog.models import Article
# –ü–æ—Å–º–æ—Ç—Ä–∏–º –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è status —Å—É—â–µ—Å—Ç–≤—É—é—Ç
print('=== –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ ===')
values = Article.objects.values_list('status', flat=True).distinct()
for v in values:
    print(f'- {v}')
"
```

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:

### A. –ï—Å–ª–∏ —Å—Ç–∞—Ç—å–∏ –µ—Å—Ç—å, –Ω–æ —Å—Ç–∞—Ç—É—Å –Ω–µ 'published':

- –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ –∞–¥–º–∏–Ω–∫–µ (`/admin/blog/article/`)
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –≤ `sidebar_context` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å

### B. –ï—Å–ª–∏ —Å—Ç–∞—Ç–µ–π –Ω–µ—Ç –≤–æ–æ–±—â–µ:

–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç–∞—Ç—å—é —á–µ—Ä–µ–∑ Django shell:

bash

```
python manage.py shell -c "
from django.contrib.auth.models import User
from uch.apps.blog.models import Article, Category
from taggit.models import Tag

# –°–æ–∑–¥–∞—ë–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é –µ—Å–ª–∏ –Ω–µ—Ç
cat, created = Category.objects.get_or_create(
    name='–¢–µ—Å—Ç–æ–≤–∞—è',
    defaults={'slug': 'testovaya', 'description': '–¢–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è'}
)

# –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–¥–º–∏–Ω–∞)
user = User.objects.filter(is_superuser=True).first()

# –°–æ–∑–¥–∞—ë–º —Å—Ç–∞—Ç—å—é
article = Article.objects.create(
    title='–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è',
    slug='testovaya-statya',
    content='–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞.',
    status='published',  # –í–ê–ñ–ù–û: –∏–º–µ–Ω–Ω–æ published!
    category=cat,
    author=user
)
print(f'‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç–∞—Ç—å—è: {article.title} (—Å—Ç–∞—Ç—É—Å: {article.status})')
"
```

## üìã –ü–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö** (–ø—É–Ω–∫—Ç 1 –≤—ã—à–µ)
2. **–ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥**
3. **–ï—Å–ª–∏ —Å—Ç–∞—Ç–µ–π –Ω–µ—Ç** ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é (–ø—É–Ω–∫—Ç B)

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print('\\\\n=== –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ===') categories = Category.objects.all() print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {categories.count()}') for c in categories: count = c.articles.filter(status='published').count() print(f'- {c.name}: {count} –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media === –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ === –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 7 - test-auto-import2 (—Å—Ç–∞—Ç—É—Å: published) - –¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ (—Å—Ç–∞—Ç—É—Å: published) - –¢–µ—Å—Ç –ø—É—Ç–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Å—Ç–∞—Ç—É—Å: published) === –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ === –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 6 Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 13, in <module> AttributeError: 'Category' object has no attribute 'articles'

–û—à–∏–±–∫–∞! –£ –º–æ–¥–µ–ª–∏ `Category` –Ω–µ—Ç –∞—Ç—Ä–∏–±—É—Ç–∞ `articles`. –°–≤—è–∑—å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–∞—á–µ. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å–≤—è–∑—å –≤ –º–æ–¥–µ–ª–∏ `Article`.

## üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤—è–∑—å –≤ –º–æ–¥–µ–ª—è—Ö:

## üéØ –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Å–≤—è–∑—å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ articles, –∞:

1. **`article_set`** (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω `related_name`)
2. **–î—Ä—É–≥–æ–µ –∏–º—è**, –µ—Å–ª–∏ –≤ –º–æ–¥–µ–ª–∏ `Article` –ø–æ–ª–µ `category` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —Å `related_name`

### –ü—Ä–æ–≤–µ—Ä–∏–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞:

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ sidebar\_context:

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —É–∑–Ω–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Å–≤—è–∑–∏, –Ω—É–∂–Ω–æ **–∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `sidebar_context` –≤ `views.py`**.

**–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±** ‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ñ–∞–π–ª–µ `uch/apps/blog/models.py`:

bash

```
grep -n "category = models.ForeignKey" uch/apps/blog/models.py -A 1 -B 1
```

–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã, –∏ —è —Å–∫–∞–∂—É, –∫–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å `sidebar_context`.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... # –°–º–æ—Ç—Ä–∏–º –ø–æ–ª—è –º–æ–¥–µ–ª–∏ Category print('\\\\n=== –ü–æ–ª—è Category ===') import inspect for name, value in inspect.getmembers(Category): if not name.startswith('\_'): print(f'{name}: {type(value).\_\_name\_\_}') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –°—Ç–∞—Ç—å—è: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å—Ç–∞—Ç—å–∏: Imported === –ü–æ–ª—è Category === DoesNotExist: type MultipleObjectsReturned: type adelete: function arefresh\_from\_db: function article\_set: ReverseManyToOneDescriptor asave: function category\_set: ReverseManyToOneDescriptor check: method clean: function clean\_fields: function date\_error\_message: function delete: function description: DeferredAttribute from\_db: method full\_clean: function get\_absolute\_url: function get\_constraints: function get\_deferred\_fields: function id: DeferredAttribute is\_active: DeferredAttribute name: DeferredAttribute objects: Manager order: DeferredAttribute parent: ForwardManyToOneDescriptor parent\_id: ForeignKeyDeferredAttribute pk: property prepare\_database\_save: function refresh\_from\_db: function save: function save\_base: function serializable\_value: function slug: DeferredAttribute unique\_error\_message: function validate\_constraints: function validate\_unique: function

‚úÖ –û—Ç–ª–∏—á–Ω–æ! –ú—ã –Ω–∞—à–ª–∏ —Å–≤—è–∑—å: **`article_set`** (`ReverseManyToOneDescriptor`). –ó–Ω–∞—á–∏—Ç, –≤ –º–æ–¥–µ–ª–∏ `Article` –ø–æ–ª–µ `category` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ **–±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `related_name`**, –ø–æ—ç—Ç–æ–º—É Django —Å–æ–∑–¥–∞–ª–æ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `article_set`.

## üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é sidebar\_context –≤ views.py:

–§—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è `articles` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ), –∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `article_set`.

### 1\. –°–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥—ë–º —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏:

### 2\. –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é. –°–æ–∑–¥–∞–¥–∏–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é:

### 3\. –ó–∞–º–µ–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤ views.py:

### 4\. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

bash

```
python -m py_compile uch/apps/blog/views.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: $?"
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

**–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥ —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞.** –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω—ë—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å—Ç–∞—Ç—å–∏, —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å.

## üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –ü—Ä–æ–≤–µ—Ä–∏–º —à–∞–±–ª–æ–Ω—ã

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è sidebar\_context —Å–∞–π—Ç –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —à–∞–±–ª–æ–Ω–µ. –ü—Ä–æ–≤–µ—Ä–∏–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω:

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤ base.html –≤—ã–≤–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
grep -n "block content\|{% endblock %}" templates/base.html
```

–°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏ —Ç–µ—Å—Ç sidebar\_context –∏ –ø–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ò—Å–ø—Ä–∞–≤—å —Ñ–∞–π–ª from django.shortcuts import render, get\_object\_or\_404, redirect from django.views.generic import ListView, DetailView from django.db.models import Count, Q from django.contrib.auth.decorators import login\_required from django.utils.decorators import method\_decorator from.models import Article, Category, Comment from.forms import CommentForm # Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ def sidebar\_context(request): """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)""" try: # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π categories = Category.objects.annotate( article\_count=Count('articles', filter=Q(articles\_\_status='published') # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is\_published ) ).filter(article\_count\_\_gt=0) # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ recent\_articles = Article.objects.filter( status='published' # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is\_published ).order\_by('-created\_at')\[:5\] return { 'blog\_categories': categories, 'blog\_recent\_articles': recent\_articles, } except Exception: # –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞ return { 'blog\_categories': \[\], 'blog\_recent\_articles': \[\], } # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ class HomeView(ListView): template\_name = 'blog/home.html' model = Article context\_object\_name = 'articles' paginate\_by = 5 def get\_queryset(self): return Article.objects.filter(status='published').order\_by('-created\_at') def get\_context\_data(self, \*\*kwargs): context = super().get\_context\_data(\*\*kwargs) context.update(sidebar\_context(self.request)) return context # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π class ArticleListView(ListView): template\_name = 'blog/article\_list.html' model = Article context\_object\_name = 'articles' paginate\_by = 10 def get\_queryset(self): queryset = Article.objects.filter(status='published').order\_by('-created\_at') # –ü–æ–∏—Å–∫ search\_query = self.request.GET.get('search', '') if search\_query: queryset = queryset.filter( Q(title\_\_icontains=search\_query) | Q(content\_\_icontains=search\_query) ) # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É tag = self.request.GET.get('tag', '') if tag: queryset = queryset.filter(tags\_\_name\_\_in=\[tag\]) return queryset def get\_context\_data(self, \*\*kwargs): context = super().get\_context\_data(\*\*kwargs) context.update(sidebar\_context(self.request)) context\['search\_query'\] = self.request.GET.get('search', '') return context # –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ class ArticleDetailView(DetailView): template\_name = 'blog/article\_detail.html' model = Article context\_object\_name = 'article' def get\_queryset(self): # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ return Article.objects.filter(status='published') def get\_context\_data(self, \*\*kwargs): context = super().get\_context\_data(\*\*kwargs) context.update(sidebar\_context(self.request)) # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è) article = self.object context\['previous\_article'\] = Article.objects.filter( status='published', created\_at\_\_lt=article.created\_at ).order\_by('-created\_at').first() context\['next\_article'\] = Article.objects.filter( status='published', created\_at\_\_gt=article.created\_at ).order\_by('created\_at').first() # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ) context\['comments'\] = Comment.objects.filter( article=article, is\_approved=True ).order\_by('-created\_at') # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è if self.request.user.is\_authenticated: context\['comment\_form'\] = CommentForm() else: context\['comment\_form'\] = None return context @method\_decorator(login\_required) def post(self, request, \*args, \*\*kwargs): """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è""" self.object = self.get\_object() form = CommentForm(request.POST) if form.is\_valid(): comment = form.save(commit=False) comment.article = self.object comment.author = request.user comment.save() return redirect('blog:article\_detail', slug=self.object.slug) # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏ context = self.get\_context\_data(\*\*kwargs) context\['comment\_form'\] = form return self.render\_to\_response(context) # –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π class CategoryListView(ListView): template\_name = 'blog/category\_list.html' model = Category context\_object\_name = 'categories' def get\_queryset(self): return Category.objects.annotate( article\_count=Count('articles', filter=Q(articles\_\_status='published') # –ò—Å–ø–æ–ª—å–∑—É–µ–º status –≤–º–µ—Å—Ç–æ is\_published ) ).filter(article\_count\_\_gt=0).order\_by('name') def get\_context\_data(self, \*\*kwargs): context = super().get\_context\_data(\*\*kwargs) context.update(sidebar\_context(self.request)) return context # –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ class CategoryDetailView(ListView): template\_name = 'blog/category\_detail.html' model = Article context\_object\_name = 'articles' paginate\_by = 10 def get\_queryset(self): category\_slug = self.kwargs\['slug'\] self.category = get\_object\_or\_404(Category, slug=category\_slug) return Article.objects.filter( category=self.category, status='published' ).order\_by('-created\_at') def get\_context\_data(self, \*\*kwargs): context = super().get\_context\_data(\*\*kwargs) context.update(sidebar\_context(self.request)) context\['category'\] = self.category return context

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª `views.py`**. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `sidebar_context` –∏ –∫–ª–∞—Å—Å–µ `CategoryListView`: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `'articles'`, –∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `'article_set'`.

python

```
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from .models import Article, Category, Comment
from .forms import CommentForm

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    try:
        # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
        # –ò–°–ü–†–ê–í–õ–ï–ù–û: 'article_set' –≤–º–µ—Å—Ç–æ 'articles'
        categories = Category.objects.annotate(
            article_count=Count('article_set', 
                filter=Q(article_set__status='published')
            )
        ).filter(article_count__gt=0)
        
        # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        recent_articles = Article.objects.filter(
            status='published'
        ).order_by('-created_at')[:5]
        
        return {
            'blog_categories': categories,
            'blog_recent_articles': recent_articles,
        }
    except Exception:
        # –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞
        return {
            'blog_categories': [],
            'blog_recent_articles': [],
        }

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
class HomeView(ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 5
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
class ArticleListView(ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        queryset = Article.objects.filter(status='published').order_by('-created_at')
        
        # –ü–æ–∏—Å–∫
        search_query = self.request.GET.get('search', '')
        if search_query:
            queryset = queryset.filter(
                Q(title__icontains=search_query) | 
                Q(content__icontains=search_query)
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
        tag = self.request.GET.get('tag', '')
        if tag:
            queryset = queryset.filter(tags__name__in=[tag])
        
        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['search_query'] = self.request.GET.get('search', '')
        return context

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)
        context['comments'] = Comment.objects.filter(
            article=article,
            is_approved=True
        ).order_by('-created_at')
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        if self.request.user.is_authenticated:
            context['comment_form'] = CommentForm()
        else:
            context['comment_form'] = None
        
        return context

    @method_decorator(login_required)
    def post(self, request, *args, **kwargs):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"""
        self.object = self.get_object()
        form = CommentForm(request.POST)
        
        if form.is_valid():
            comment = form.save(commit=False)
            comment.article = self.object
            comment.author = request.user
            comment.save()
            return redirect('blog:article_detail', slug=self.object.slug)
        
        # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏
        context = self.get_context_data(**kwargs)
        context['comment_form'] = form
        return self.render_to_response(context)

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
class CategoryListView(ListView):
    template_name = 'blog/category_list.html'
    model = Category
    context_object_name = 'categories'
    
    def get_queryset(self):
        # –ò–°–ü–†–ê–í–õ–ï–ù–û: 'article_set' –≤–º–µ—Å—Ç–æ 'articles'
        return Category.objects.annotate(
            article_count=Count('article_set', 
                filter=Q(article_set__status='published')
            )
        ).filter(article_count__gt=0).order_by('name')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
class CategoryDetailView(ListView):
    template_name = 'blog/category_detail.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        category_slug = self.kwargs['slug']
        self.category = get_object_or_404(Category, slug=category_slug)
        return Article.objects.filter(
            category=self.category,
            status='published'
        ).order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['category'] = self.category
        return context
```

## üìã –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

1. **–°–æ–∑–¥–∞–π—Ç–µ backup —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞:**

bash

```
cp uch/apps/blog/views.py uch/apps/blog/views.py.backup_now
```

1. **–ó–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:**

bash

```
cat > uch/apps/blog/views.py << 'EOF'
[–í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –í–ï–°–¨ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ö–û–î –í–´–®–ï]
EOF
```

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**

bash

```
python -m py_compile uch/apps/blog/views.py
echo "–°—Ç–∞—Ç—É—Å: $?"
```

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π—Ç:**

bash

```
python manage.py runserver
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç.** –ï—Å–ª–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –ø—Ä–æ–±–ª–µ–º—ã ‚Äî –ø–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... from django.test import RequestFactory rf = RequestFactory() request = rf.get('/') result = sidebar\_context(request) print('–†–µ–∑—É–ª—å—Ç–∞—Ç:') print(f' –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: {len(result\[\\"blog\_categories\\"\])} —à—Ç') print(f' –°—Ç–∞—Ç—å–∏: {len(result\[\\"blog\_recent\_articles\\"\])} —à—Ç') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: 0 —à—Ç –°—Ç–∞—Ç—å–∏: 0 —à—Ç (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python manage.py runserver ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 10, 2025 - 22:55:18 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. \[10/Dec/2025 22:55:23\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:55:24\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:55:24\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:55:25\] "GET / HTTP/1.1" 200 0 \[10/Dec/2025 22:55:25\] "GET / HTTP/1.1" 200 0

–ü—Ä–æ–±–ª–µ–º–∞: `sidebar_context` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ 0 —Å—Ç–∞—Ç–µ–π, —Ö–æ—Ç—è –º—ã –∑–Ω–∞–µ–º, —á—Ç–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –µ—Å—Ç—å (7 —à—Ç—É–∫). –ó–Ω–∞—á–∏—Ç, –æ—à–∏–±–∫–∞ –≤ **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Å—Ç–∞—Ç–µ–π –Ω–∞–ø—Ä—è–º—É—é:

bash

```
python manage.py shell -c "
from uch.apps.blog.models import Article

# –í—Å–µ —Å—Ç–∞—Ç—å–∏
all_articles = Article.objects.all()
print(f'–í—Å–µ–≥–æ —Å—Ç–∞—Ç–µ–π: {all_articles.count()}')

# –°—Ç–∞—Ç—å–∏ —Å–æ status='published'
published = Article.objects.filter(status='published')
print(f'–°—Ç–∞—Ç—É—Å published: {published.count()}')

# –ü–æ—Å–º–æ—Ç—Ä–∏–º –∑–Ω–∞—á–µ–Ω–∏—è status
print('\\n–ó–Ω–∞—á–µ–Ω–∏—è status:')
for a in Article.objects.values('status').distinct():
    print(f'- {a[\"status\"]}')
"
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π:

## üéØ –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

- **–û–ø–µ—á–∞—Ç–∫–∞ –≤ –∑–Ω–∞—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞**: –º–æ–∂–µ—Ç –±—ã—Ç—å `'published'` —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã –∏–ª–∏ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- **–û—à–∏–±–∫–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–µ `Q(article_set__status='published')`**

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

bash

```
python manage.py shell -c "
from uch.apps.blog.models import Article

# –ü–æ—Å–º–æ—Ç—Ä–∏–º –ø–µ—Ä–≤—ã–µ 3 —Å—Ç–∞—Ç—å–∏ —Å –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏
for a in Article.objects.all()[:3]:
    print(f'–°—Ç–∞—Ç—å—è: \"{a.title}\", —Å—Ç–∞—Ç—É—Å: \"{a.status}\" (—Ç–∏–ø: {type(a.status).__name__})')
    
# –ü—Ä–æ–≤–µ—Ä–∏–º —Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
first = Article.objects.first()
print(f'\\n–ü–µ—Ä–≤–∞—è —Å—Ç–∞—Ç—å—è status == \"published\": {first.status == \"published\"}')
print(f'–†–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: \"{first.status}\"')
"
```

## üîß –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É):

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –≤—Ä–µ–º–µ–Ω–Ω–æ —É–ø—Ä–æ—Å—Ç–∏–º `sidebar_context`, —É–±—è–≤ `try-except` –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é:

**–ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**`python manage.py runserver` –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000/`

–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (–ø—É–Ω–∫—Ç—ã 1-3), —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É.

1 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... published = Article.objects.filter(status='published') print(f'–°—Ç–∞—Ç—É—Å published: {published.count()}') # –ü–æ—Å–º–æ—Ç—Ä–∏–º –∑–Ω–∞—á–µ–Ω–∏—è status print('\\\\n–ó–Ω–∞—á–µ–Ω–∏—è status:') for a in Article.objects.values('status').distinct(): print(f'- {a\[\\"status\\"\]}') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –í—Å–µ–≥–æ —Å—Ç–∞—Ç–µ–π: 32 –°—Ç–∞—Ç—É—Å published: 7 –ó–Ω–∞—á–µ–Ω–∏—è status: - archived - archived - archived - published - published - published - archived - published - archived - archived - archived - archived - archived - archived - archived - archived - archived - published - archived - archived - archived - archived - archived - archived - archived - archived - archived - archived - published - published - archived - archived 2 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... article\_count=Count('article\_set', filter=Q(article\_set\_\_status='published') ) ) print('\\\\n–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:') for c in categories: print(f'- {c.name}: {c.article\_count} —Å—Ç–∞—Ç–µ–π') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –ü–µ—Ä–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: Imported –í—Å–µ —Å—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: 23 –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏: 7 Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 13, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/manager.py", line 87, in manager\_method return getattr(self.get\_queryset(), name)(\*args, \*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/query.py", line 1590, in annotate return self.\_annotate(args, kwargs, select=True) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/query.py", line 1638, in \_annotate clone.query.add\_annotation( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1133, in add\_annotation annotation = annotation.resolve\_expression(self, allow\_joins=True, reuse=None) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/aggregates.py", line 64, in resolve\_expression c = super().resolve\_expression(query, allow\_joins, reuse, summarize) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/expressions.py", line 950, in resolve\_expression c.source\_expressions\[pos\] = arg.resolve\_expression( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/expressions.py", line 829, in resolve\_expression return query.resolve\_ref(self.name, allow\_joins, reuse, summarize) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1976, in resolve\_ref join\_info = self.setup\_joins( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1823, in setup\_joins path, final\_field, targets, rest = self.names\_to\_path( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1724, in names\_to\_path raise FieldError( django.core.exceptions.FieldError: Cannot resolve keyword 'article\_set' into field. Choices are: article, category, description, id, is\_active, name, order, parent, parent\_id, slug

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!** –û—à–∏–±–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç: `Cannot resolve keyword 'article_set' into field`. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤ –º–æ–¥–µ–ª–∏ `Category` –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–Ω–µ `article_set`**, –∞ –∫–∞–∫-—Ç–æ –∏–Ω–∞—á–µ.

–ò–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –º—ã –≤–∏–¥–µ–ª–∏, —á—Ç–æ —É `Category` –µ—Å—Ç—å –ø–æ–ª–µ `article_set` (`ReverseManyToOneDescriptor`), –Ω–æ Django –ø–æ—á–µ–º—É-—Ç–æ –µ–≥–æ –Ω–µ –≤–∏–¥–∏—Ç –≤ –∑–∞–ø—Ä–æ—Å–µ. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º —Ç–æ—á–Ω–æ–µ –∏–º—è.

## üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Å–≤—è–∑–∏:

## üéØ –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—á—Ç–æ–±—ã —Å–∞–π—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–ª):

–ò–∑–º–µ–Ω–∏–º `sidebar_context`, –∏—Å–ø–æ–ª—å–∑—É—è –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥ ‚Äî –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `Count`:

bash

```
cat > /tmp/fixed_views.py << 'EOF'
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from .models import Article, Category, Comment
from .forms import CommentForm

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è - —Å–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–µ–º —Å–∞–π—Ç —Ä–∞–±–æ—á–∏–º
    categories = Category.objects.all()
    
    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
    recent_articles = Article.objects.filter(
        status='published'
    ).order_by('-created_at')[:5]
    
    return {
        'blog_categories': categories,
        'blog_recent_articles': recent_articles,
    }

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
class HomeView(ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 5
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
class ArticleListView(ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        queryset = Article.objects.filter(status='published').order_by('-created_at')
        
        # –ü–æ–∏—Å–∫
        search_query = self.request.GET.get('search', '')
        if search_query:
            queryset = queryset.filter(
                Q(title__icontains=search_query) | 
                Q(content__icontains=search_query)
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
        tag = self.request.GET.get('tag', '')
        if tag:
            queryset = queryset.filter(tags__name__in=[tag])
        
        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['search_query'] = self.request.GET.get('search', '')
        return context

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)
        context['comments'] = Comment.objects.filter(
            article=article,
            is_approved=True
        ).order_by('-created_at')
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        if self.request.user.is_authenticated:
            context['comment_form'] = CommentForm()
        else:
            context['comment_form'] = None
        
        return context

    @method_decorator(login_required)
    def post(self, request, *args, **kwargs):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"""
        self.object = self.get_object()
        form = CommentForm(request.POST)
        
        if form.is_valid():
            comment = form.save(commit=False)
            comment.article = self.object
            comment.author = request.user
            comment.save()
            return redirect('blog:article_detail', slug=self.object.slug)
        
        # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏
        context = self.get_context_data(**kwargs)
        context['comment_form'] = form
        return self.render_to_response(context)

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
class CategoryListView(ListView):
    template_name = 'blog/category_list.html'
    model = Category
    context_object_name = 'categories'
    
    def get_queryset(self):
        # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è - –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        return Category.objects.all().order_by('name')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
class CategoryDetailView(ListView):
    template_name = 'blog/category_detail.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        category_slug = self.kwargs['slug']
        self.category = get_object_or_404(Category, slug=category_slug)
        return Article.objects.filter(
            category=self.category,
            status='published'
        ).order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['category'] = self.category
        return context
EOF

# –ó–∞–º–µ–Ω—è–µ–º –≤–µ—Å—å —Ñ–∞–π–ª views.py
cp /tmp/fixed_views.py uch/apps/blog/views.py
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º:

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å.** –ü–æ–∫–∞–∂–∏—Ç–µ:

1. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ `sidebar_context`
2. –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ü–æ–∑–∂–µ –º—ã –Ω–∞–π–¥–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Å–≤—è–∑–∏ –∏ –≤–µ—Ä–Ω–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å—Ç–∞—Ç–µ–π.

–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! Django –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ `related_name` –Ω–µ —É–∫–∞–∑–∞–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `article_set`), –∏ –º—ã –≤–∏–¥–∏–º –∞—Ç—Ä–∏–±—É—Ç `article_set` —É –º–æ–¥–µ–ª–∏ `Category`. –ù–æ –≤ –∑–∞–ø—Ä–æ—Å–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `Count('article_set', ...)` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞.

**–ü—Ä–æ–±–ª–µ–º–∞**: –í Django ORM –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `Count` —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `Q()` –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–¥–≤–æ–π–Ω–æ–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ** –¥–ª—è —Å–≤—è–∑–∏ —á–µ—Ä–µ–∑ ForeignKey, –¥–∞–∂–µ –µ—Å–ª–∏ `related_name` –Ω–µ —É–∫–∞–∑–∞–Ω.

## üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º sidebar\_context:

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `Count` —Å —Ñ–∏–ª—å—Ç—Ä–æ–º:

### –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è sidebar\_context:

## üöÄ –ü—Ä–∏–º–µ–Ω—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º—É views.py:

bash

```
# –°–æ–∑–¥–∞–µ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π views.py
cat > uch/apps/blog/views.py << 'EOF'
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from .models import Article, Category, Comment
from .forms import CommentForm

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
    categories = Category.objects.annotate(
        article_count=Count('article', 
            filter=Q(article__status='published')
        )
    ).filter(article_count__gt=0)
    
    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
    recent_articles = Article.objects.filter(
        status='published'
    ).order_by('-created_at')[:5]
    
    return {
        'blog_categories': categories,
        'blog_recent_articles': recent_articles,
    }

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
class HomeView(ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 5
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
class ArticleListView(ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        queryset = Article.objects.filter(status='published').order_by('-created_at')
        
        # –ü–æ–∏—Å–∫
        search_query = self.request.GET.get('search', '')
        if search_query:
            queryset = queryset.filter(
                Q(title__icontains=search_query) | 
                Q(content__icontains=search_query)
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
        tag = self.request.GET.get('tag', '')
        if tag:
            queryset = queryset.filter(tags__name__in=[tag])
        
        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['search_query'] = self.request.GET.get('search', '')
        return context

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)
        context['comments'] = Comment.objects.filter(
            article=article,
            is_approved=True
        ).order_by('-created_at')
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        if self.request.user.is_authenticated:
            context['comment_form'] = CommentForm()
        else:
            context['comment_form'] = None
        
        return context

    @method_decorator(login_required)
    def post(self, request, *args, **kwargs):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"""
        self.object = self.get_object()
        form = CommentForm(request.POST)
        
        if form.is_valid():
            comment = form.save(commit=False)
            comment.article = self.object
            comment.author = request.user
            comment.save()
            return redirect('blog:article_detail', slug=self.object.slug)
        
        # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏
        context = self.get_context_data(**kwargs)
        context['comment_form'] = form
        return self.render_to_response(context)

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
class CategoryListView(ListView):
    template_name = 'blog/category_list.html'
    model = Category
    context_object_name = 'categories'
    
    def get_queryset(self):
        return Category.objects.annotate(
            article_count=Count('article', 
                filter=Q(article__status='published')
            )
        ).filter(article_count__gt=0).order_by('name')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
class CategoryDetailView(ListView):
    template_name = 'blog/category_detail.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        category_slug = self.kwargs['slug']
        self.category = get_object_or_404(Category, slug=category_slug)
        return Article.objects.filter(
            category=self.category,
            status='published'
        ).order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['category'] = self.category
        return context
EOF
```

## üìã –¢–µ—Å—Ç–∏—Ä—É–µ–º:

**–ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞.** –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ, `sidebar_context` –≤–µ—Ä–Ω—ë—Ç –¥–∞–Ω–Ω—ã–µ, –∏ —Å–∞–π—Ç –Ω–∞—á–Ω—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print('\\\\n–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏:') for art in result\['blog\_recent\_articles'\]: print(f' - {art.title}') " # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä echo -e "\\n=== –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä ===" python manage.py runserver zsh: command not found: # –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: 0 zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media === –†–µ–∑—É–ª—å—Ç–∞—Ç sidebar\_context === –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—å—è–º–∏: 1 —à—Ç –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏: 5 —à—Ç –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: - Imported: 7 —Å—Ç–∞—Ç–µ–π –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏: - test-auto-import2 - –¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ - –¢–µ—Å—Ç –ø—É—Ç–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π - –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è - deploy-test zsh: command not found: # === –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä === ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 11, 2025 - 08:39:20 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. \[11/Dec/2025 08:39:23\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 08:39:24\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 08:39:24\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 08:39:25\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 08:39:25\] "GET / HTTP/1.1" 200 0

‚úÖ **–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ!**`sidebar_context` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

- **1 –∫–∞—Ç–µ–≥–æ—Ä–∏—è** —Å 7 —Å—Ç–∞—Ç—å—è–º–∏
- **5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π**

–ù–æ —Å–∞–π—Ç –≤—Å—ë –µ—â—ë –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (—Å—Ç–∞—Ç—É—Å 200, —Ä–∞–∑–º–µ—Ä 0). –ó–Ω–∞—á–∏—Ç, –ø—Ä–æ–±–ª–µ–º–∞ **–Ω–µ –≤ –¥–∞–Ω–Ω—ã—Ö**, –∞ –≤ **—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ —à–∞–±–ª–æ–Ω–æ–≤**.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —à–∞–±–ª–æ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
ls -la templates/base.html
head -5 templates/base.html

# –ü—Ä–æ–≤–µ—Ä–∏–º —à–∞–±–ª–æ–Ω –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
ls -la uch/apps/blog/templates/blog/home.html
head -10 uch/apps/blog/templates/blog/home.html
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º, —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ª–∏ —à–∞–±–ª–æ–Ω –≤–æ–æ–±—â–µ:

bash

```
python manage.py shell -c "
from django.template.loader import render_to_string
from django.test import RequestFactory
from uch.apps.blog.views import HomeView

rf = RequestFactory()
request = rf.get('/')
view = HomeView()
view.setup(request)

try:
    # –ü—Ä–æ–±—É–µ–º —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —à–∞–±–ª–æ–Ω
    html = render_to_string('blog/home.html', view.get_context_data())
    print(f'‚úÖ –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è. –†–∞–∑–º–µ—Ä HTML: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
    print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(html[:200])
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: {type(e).__name__} - {e}')
"
```

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ TEMPLATES –≤ settings.py:

bash

```
grep -n "TEMPLATES\|DIRS\|APP_DIRS" uch/settings.py -A 10
```

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—É—Å—Ç–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:

1. **–í –±–∞–∑–æ–≤–æ–º —à–∞–±–ª–æ–Ω–µ `base.html` –Ω–µ—Ç –±–ª–æ–∫–∞ `{% block content %}`**
2. **–®–∞–±–ª–æ–Ω `home.html` –Ω–µ —Ä–∞—Å—à–∏—Ä—è–µ—Ç `base.html`**
3. **–û—à–∏–±–∫–∞ –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤**
4. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Ç—è–º–∏ –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º (CSS/JS)**

### 4\. –ü—Ä–æ–≤–µ—Ä–∏–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –±–ª–æ–∫–∞ content:

bash

```
grep -n "block content\|endblock" templates/base.html
```

## üîß –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

–°–æ–∑–¥–∞–¥–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

bash

```
# –°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ç–µ—Å—Ç–∞
cat > /tmp/test_template.html << 'EOF'
<!DOCTYPE html>
<html>
<head><title>Test</title></head>
<body>
<h1>–¢–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!</h1>
<p>–í—Ä–µ–º—è: {{ now }}</p>
</body>
</html>
EOF

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
python manage.py shell -c "
from django.template import Template, Context
import datetime

with open('/tmp/test_template.html', 'r') as f:
    template_content = f.read()

t = Template(template_content)
c = Context({'now': datetime.datetime.now()})
result = t.render(c)
print(f'–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ ({len(result)} —Å–∏–º–≤–æ–ª–æ–≤):')
print(result[:500])
"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥**, –æ—Å–æ–±–µ–Ω–Ω–æ –∏–∑ –ø—É–Ω–∫—Ç–∞ 2 (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ home.html). –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ª–∏ —à–∞–±–ª–æ–Ω –≤–æ–æ–±—â–µ.

1 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % # –ü—Ä–æ–≤–µ—Ä–∏–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω ls -la templates/base.html head -5 templates/base.html # –ü—Ä–æ–≤–µ—Ä–∏–º —à–∞–±–ª–æ–Ω –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ls -la uch/apps/blog/templates/blog/home.html head -10 uch/apps/blog/templates/blog/home.html zsh: command not found: # -rw-r--r-- 1 kirillkravcov staff 4788 Dec 9 17:17 templates/base.html <!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> zsh: command not found: # -rw-r--r--@ 1 kirillkravcov staff 1968 Dec 8 12:50 uch/apps/blog/templates/blog/home.html {% extends "blog/base.html" %} {% load static %} {% block content %} <h1>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h1> <hr> {% for article in article\_list %} <article class="mb-5"> <h3> 2 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... # –ü—Ä–æ–±—É–µ–º —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —à–∞–±–ª–æ–Ω html = render\_to\_string('blog/home.html', view.get\_context\_data()) print(f'‚úÖ –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è. –†–∞–∑–º–µ—Ä HTML: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤') print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:') print(html\[:200\]) except Exception as e: print(f'‚ùå –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: {type(e).\_\_name\_\_} - {e}') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: AttributeError - 'HomeView' object has no attribute 'object\_list' 3 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % grep -n "TEMPLATES\\|DIRS\\|APP\_DIRS" uch/settings.py -A 10 65:TEMPLATES = \[ 66- { 67- 'BACKEND': 'django.template.backends.django.DjangoTemplates', 68: 'DIRS': \[ 69- BASE\_DIR / 'templates', # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã 70- \], 71: 'APP\_DIRS': True, 72- 'OPTIONS': { 73- 'context\_processors': \[ 74- 'django.template.context\_processors.debug', 75- 'django.template.context\_processors.request', 76- 'django.contrib.auth.context\_processors.auth', 77- 'django.contrib.messages.context\_processors.messages', 78- 'django.template.context\_processors.media', 79- # Custom context processors 80- 'uch.apps.blog.views.sidebar\_context', 81- \], -- 137:STATICFILES\_DIRS = \[ 138- BASE\_DIR / 'static', # –í–∞—à–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã 139-\] 140- 141-# Media files (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏) 142-MEDIA\_URL = 'media/' 143-MEDIA\_ROOT = BASE\_DIR / 'media' 144- 145-# Default primary key field type 146-# https://docs.djangoproject.com/en/4.2/ref/settings/#default-auto-field 147- 4 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % grep -n "block content\\|endblock" templates/base.html 6: <title>{% block title %}Universal Creative Hub{% endblock %}</title> 14: {% block extra\_css %}{% endblock %} 45: {% block content %}{% endblock %} 57: {% block extra\_js %}{% endblock %}

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!**

1. ‚úÖ **–®–∞–±–ª–æ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç** –∏ `base.html` –∏–º–µ–µ—Ç –±–ª–æ–∫ `{% block content %}` (—Å—Ç—Ä–æ–∫–∞ 45)
2. ‚ùå **–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞**: `'HomeView' object has no attribute 'object_list'`
3. ‚ö†Ô∏è **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –®–∞–±–ª–æ–Ω `home.html` —Ä–∞—Å—à–∏—Ä—è–µ—Ç `"blog/base.html"`, –Ω–æ –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—à–∏—Ä—è—Ç—å `"base.html"`!

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### 1\. –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —à–∞–±–ª–æ–Ω home.html (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ):

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ home.html
cat uch/apps/blog/templates/blog/home.html | head -20

# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º: –º–µ–Ω—è–µ–º "blog/base.html" –Ω–∞ "base.html"
sed -i 's|{% extends "blog/base.html" %}|{% extends "base.html" %}|' uch/apps/blog/templates/blog/home.html
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º –¥—Ä—É–≥–∏–µ —à–∞–±–ª–æ–Ω—ã –±–ª–æ–≥–∞ –Ω–∞ —Ç—É –∂–µ –æ—à–∏–±–∫—É:

bash

```
grep -l "extends.*blog/base" uch/apps/blog/templates/blog/*.html
```

### 3\. –°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç–æ–≤—ã–π view –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

bash

```
# –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
python manage.py shell -c "
from django.test import RequestFactory
from uch.apps.blog.views import HomeView

rf = RequestFactory()
request = rf.get('/')
view = HomeView()
view.request = request
view.object_list = view.get_queryset()

try:
    # –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
    context = view.get_context_data()
    print('‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—É—á–µ–Ω')
    print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π: {len(context[\"articles\"])}')
    
    # –†–µ–Ω–¥–µ—Ä–∏–º —à–∞–±–ª–æ–Ω
    from django.template.loader import render_to_string
    html = render_to_string('blog/home.html', context)
    print(f'‚úÖ –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è. –†–∞–∑–º–µ—Ä: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
    print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤ HTML:')
    print(html[:300])
    
except Exception as e:
    import traceback
    print(f'‚ùå –û—à–∏–±–∫–∞: {type(e).__name__}')
    traceback.print_exc()
"
```

### 4\. –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–æ–≤ –±–ª–æ–≥–∞:

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —à–∞–±–ª–æ–Ω—ã –±–ª–æ–≥–∞
for file in uch/apps/blog/templates/blog/*.html; do
    echo "=== $(basename $file) ==="
    grep -n "extends" "$file" || echo "–ù–µ—Ç extends"
done
```

## üöÄ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**:

bash

```
python manage.py runserver
```

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ** `http://localhost:8000/`

**–ü–æ–∫–∞–∂–∏—Ç–µ:**

1. –†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞
2. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (–ø—É–Ω–∫—Ç 3)
3. –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø—Ä–æ–±–ª–µ–º–∞ –∏–º–µ–Ω–Ω–æ –≤ `extends "blog/base.html"` –≤–º–µ—Å—Ç–æ `extends "base.html"`. –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å!

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —à–∞–±–ª–æ–Ω—ã –±–ª–æ–≥–∞ for file in uch/apps/blog/templates/blog/\*.html; do echo "=== $(basename $file) ===" grep -n "extends" "$file" || echo "–ù–µ—Ç extends" done zsh: command not found: # === article\_detail.html === 1:{% extends "base.html" %} === article\_list.html === 1:{% extends "base.html" %} === category\_detail.html === 1:{% extends "base.html" %} === category\_list.html === 1:{% extends "base.html" %} === home.html === 1:{% extends "base.html" %} === index.html === 1:{% extends "base.html" %} === sidebar.html === –ù–µ—Ç extends (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤ HTML:') print(html\[:300\]) except Exception as e: import traceback print(f'‚ùå –û—à–∏–±–∫–∞: {type(e).\_\_name\_\_}') traceback.print\_exc() " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚ùå –û—à–∏–±–∫–∞: AttributeError Traceback (most recent call last): File "<string>", line 13, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/views.py", line 40, in get\_context\_data context = super().get\_context\_data(\*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 128, in get\_context\_data paginator, page, queryset, is\_paginated = self.paginate\_queryset( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 62, in paginate\_queryset page = self.kwargs.get(page\_kwarg) or self.request.GET.get(page\_kwarg) or 1 AttributeError: 'HomeView' object has no attribute 'kwargs'

**–ü—Ä–æ–±–ª–µ–º–∞**: –£ –æ–±—ä–µ–∫—Ç–∞ `HomeView` –Ω–µ—Ç –∞—Ç—Ä–∏–±—É—Ç–∞ `kwargs`, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –Ω–µ –±—ã–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ç–µ—Å—Ç–∞. –ù–æ –≥–ª–∞–≤–Ω–æ–µ ‚Äî **–≤—Å–µ —à–∞–±–ª–æ–Ω—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `extends "base.html"`**, —Ç–∞–∫ —á—Ç–æ —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞.

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç**, –∞ –Ω–µ —á–µ—Ä–µ–∑ —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ view.

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç Django:

bash

```
python manage.py shell -c "
from django.test import Client
import sys

client = Client()
response = client.get('/')

print(f'–°—Ç–∞—Ç—É—Å –∫–æ–¥: {response.status_code}')
print(f'–†–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: {len(response.content)} –±–∞–π—Ç')

if response.status_code == 200:
    if len(response.content) > 0:
        print('‚úÖ –°–∞–π—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç!')
        print('\\n–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤ HTML:')
        print(response.content[:500].decode('utf-8', errors='ignore'))
    else:
        print('‚ö†Ô∏è –°–∞–π—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç (0 –±–∞–π—Ç)')
        print('\\n–ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞:')
        for key, value in response.items():
            print(f'  {key}: {value}')
else:
    print(f'‚ùå –û—à–∏–±–∫–∞ HTTP: {response.status_code}')
    print('\\n–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–≤–µ—Ç–∞:')
    print(response.content.decode('utf-8', errors='ignore'))
"
```

## üîç –ï—Å–ª–∏ —Å–∞–π—Ç –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π, –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

1. **–û—à–∏–±–∫–∞ –≤ —à–∞–±–ª–æ–Ω–µ `base.html`** (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞)
2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏** (CSS/JS –ª–æ–º–∞—é—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
3. **–û—à–∏–±–∫–∞ –≤ context processor `sidebar_context`**

### –ü—Ä–æ–≤–µ—Ä–∏–º —à–∞–±–ª–æ–Ω base.html –Ω–∞ –æ—à–∏–±–∫–∏:

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—á–µ–≤–∏–¥–Ω—ã—Ö –æ—à–∏–±–æ–∫
python manage.py shell -c "
from django.template import Template, TemplateSyntaxError
import os

template_path = 'templates/base.html'
try:
    with open(template_path, 'r') as f:
        template_content = f.read()
    
    Template(template_content)
    print('‚úÖ –®–∞–±–ª–æ–Ω base.html —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω')
except TemplateSyntaxError as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ base.html: {e}')
except Exception as e:
    print(f'‚ùå –î—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞: {type(e).__name__} - {e}')
"
```

### –ü—Ä–æ–≤–µ—Ä–∏–º —Ä–∞–±–æ—Ç—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç–∏–∫–∏
python manage.py shell -c "
from django.test import Client
client = Client()

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª CSS
response = client.get('/static/css/style.css')
print(f'–°—Ç–∞—Ç—É—Å CSS —Ñ–∞–π–ª–∞: {response.status_code} ({len(response.content)} –±–∞–π—Ç)')

# –ü—Ä–æ–≤–µ—Ä–∏–º Bootstrap CDN –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
import requests
try:
    r = requests.get('https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css', timeout=3)
    print(f'Bootstrap CDN –¥–æ—Å—Ç—É–ø–µ–Ω: {r.status_code}')
except:
    print('‚ö†Ô∏è Bootstrap CDN –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω')
"
```

## üéØ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

–°–æ–∑–¥–∞–¥–∏–º **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω**, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Django –≤–æ–æ–±—â–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —á—Ç–æ-—Ç–æ:

bash

```
# –°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–µ–π—à–∏–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ç–µ—Å—Ç–∞
cat > /tmp/minimal.html << 'EOF'
<!DOCTYPE html>
<html>
<head><title>–¢–µ—Å—Ç</title></head>
<body>
<h1>–¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç!</h1>
<p>–í—Ä–µ–º—è: {% now "H:i:s" %}</p>
<p>–°—Ç–∞—Ç–µ–π: {{ articles|length }}</p>
</body>
</html>
EOF

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –µ–≥–æ
python manage.py shell -c "
from django.template.loader import render_to_string
from uch.apps.blog.models import Article

context = {
    'articles': Article.objects.filter(status='published')[:5]
}

with open('/tmp/minimal.html', 'r') as f:
    template_content = f.read()

from django.template import Template, Context
t = Template(template_content)
result = t.render(Context(context))
print(f'–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ ({len(result)} —Å–∏–º–≤–æ–ª–æ–≤):')
print(result)
"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ –≤—Å–µ—Ö —ç—Ç–∏—Ö —Ç–µ—Å—Ç–æ–≤**, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–µ—Ä–≤–æ–≥–æ (—Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç). –≠—Ç–æ –¥–∞—Å—Ç –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... Template(template\_content) print('‚úÖ –®–∞–±–ª–æ–Ω base.html —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω') except TemplateSyntaxError as e: print(f'‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ base.html: {e}') except Exception as e: print(f'‚ùå –î—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞: {type(e).\_\_name\_\_} - {e}') " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úÖ –®–∞–±–ª–æ–Ω base.html —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... import requests try: r = requests.get('https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css', timeout=3) print(f'Bootstrap CDN –¥–æ—Å—Ç—É–ø–µ–Ω: {r.status\_code}') except: print('‚ö†Ô∏è Bootstrap CDN –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω') " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Invalid HTTP\_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED\_HOSTS. Traceback (most recent call last): File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner response = get\_response(request) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 133, in \_\_call\_\_ response = self.process\_request(request) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/middleware/common.py", line 48, in process\_request host = request.get\_host() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/http/request.py", line 150, in get\_host raise DisallowedHost(msg) django.core.exceptions.DisallowedHost: Invalid HTTP\_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED\_HOSTS. Bad Request: /static/css/style.css –°—Ç–∞—Ç—É—Å CSS —Ñ–∞–π–ª–∞: 400 (58954 –±–∞–π—Ç) Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 10, in <module> ModuleNotFoundError: No module named 'requests' (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... template\_content = f.read() from django.template import Template, Context t = Template(template\_content) result = t.render(Context(context)) print(f'–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ ({len(result)} —Å–∏–º–≤–æ–ª–æ–≤):') print(result) " zsh: command not found: # zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (154 —Å–∏–º–≤–æ–ª–æ–≤): <!DOCTYPE html> <html> <head><title>–¢–µ—Å—Ç</title></head> <body> <h1>–¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç!</h1> <p>–í—Ä–µ–º—è: 08:54:07</p> <p>–°—Ç–∞—Ç–µ–π: 5</p> </body> </html>

**–ù–∞–π–¥–µ–Ω–∞ –∫–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞!** –û—à–∏–±–∫–∞: `Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.`

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ Django –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞. –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å `ALLOWED_HOSTS` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.

## üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ALLOWED\_HOSTS:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
grep -n "ALLOWED_HOSTS\|DEBUG" uch/settings.py

# –û–±–Ω–æ–≤–∏–º ALLOWED_HOSTS –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
cat >> uch/settings.py << 'EOF'

# –†–∞–∑—Ä–µ—à–∞–µ–º –≤—Å–µ —Ö–æ—Å—Ç—ã –ø—Ä–∏ DEBUG=True
if DEBUG:
    ALLOWED_HOSTS = ['*', 'localhost', '127.0.0.1', 'testserver']
else:
    ALLOWED_HOSTS = ['–≤–∞—à-–¥–æ–º–µ–Ω.com']  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
EOF
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º `uch/settings.py`, –¥–æ–±–∞–≤–∏–≤ `'testserver'` –≤ `ALLOWED_HOSTS`:

bash

```
# –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –¥–æ–±–∞–≤–∏—Ç—å testserver –≤ ALLOWED_HOSTS
sed -i "s/ALLOWED_HOSTS = \[\]/ALLOWED_HOSTS = ['localhost', '127.0.0.1', 'testserver']/" uch/settings.py
```

## üöÄ –¢–µ–ø–µ—Ä—å —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Å–Ω–æ–≤–∞:

bash

```
python manage.py shell -c "
from django.test import Client
client = Client()

# –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
response = client.get('/')
print(f'–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: —Å—Ç–∞—Ç—É—Å {response.status_code}, —Ä–∞–∑–º–µ—Ä {len(response.content)} –±–∞–π—Ç')

if response.status_code == 200 and len(response.content) > 0:
    print('‚úÖ –°–ê–ô–¢ –†–ê–ë–û–¢–ê–ï–¢!')
    print('\\n–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤ HTML:')
    print(response.content[:500].decode('utf-8', errors='ignore'))
else:
    print('‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è')
    print('\\n–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–≤–µ—Ç–∞:')
    print(response.content.decode('utf-8', errors='ignore'))
    
# –¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
response = client.get('/static/css/style.css')
print(f'\\nCSS —Ñ–∞–π–ª: —Å—Ç–∞—Ç—É—Å {response.status_code}, —Ä–∞–∑–º–µ—Ä {len(response.content)} –±–∞–π—Ç')
"
```

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

–ï—Å–ª–∏ —Å–∞–π—Ç –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π, –ø—Ä–æ–≤–µ—Ä–∏–º middleware –∏ context processors:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º middleware
python manage.py shell -c "
from django.conf import settings
print('=== MIDDLEWARE ===')
for m in settings.MIDDLEWARE:
    print(f'- {m}')

print('\\n=== CONTEXT PROCESSORS ===')
for cp in settings.TEMPLATES[0]['OPTIONS']['context_processors']:
    print(f'- {cp}')
"
```

## üìã –ö—Ä–∞—Ç–∫–∏–π —á–µ–∫–ª–∏—Å—Ç —Ä–µ—à–µ–Ω–∏—è:

1. ‚úÖ **–®–∞–±–ª–æ–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –≤–µ—Ä–Ω—ã**
2. ‚úÖ **–î–∞–Ω–Ω—ã–µ –µ—Å—Ç—å** (7 —Å—Ç–∞—Ç–µ–π, 1 –∫–∞—Ç–µ–≥–æ—Ä–∏—è)
3. ‚úÖ `sidebar_context` —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**: `ALLOWED_HOSTS` –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç

**–ò—Å–ø—Ä–∞–≤—å—Ç–µ `ALLOWED_HOSTS` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç —Å–Ω–æ–≤–∞.** –ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è `ALLOWED_HOSTS` —Å–∞–π—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç –º—ã —Ä–µ—à–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É —Å –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∏ –º–æ–∂–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ **–∑–∞–≤–µ—Ä—à–µ–Ω–∏—é –õ–∏–Ω–∏–∏ –ê** –∏ **—Å—Ç–∞—Ä—Ç—É –õ–∏–Ω–∏–∏ –ë**.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print('\\\\n–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–≤–µ—Ç–∞:') print(response.content.decode('utf-8', errors='ignore')) # –¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ response = client.get('/static/css/style.css') print(f'\\\\nCSS —Ñ–∞–π–ª: —Å—Ç–∞—Ç—É—Å {response.status\_code}, —Ä–∞–∑–º–µ—Ä {len(response.content)} –±–∞–π—Ç') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: —Å—Ç–∞—Ç—É—Å 200, —Ä–∞–∑–º–µ—Ä 0 –±–∞–π—Ç ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–≤–µ—Ç–∞: Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 20, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/http/response.py", line 458, in content raise AttributeError( AttributeError: This FileResponse instance has no \`content\` attribute. Use \`streaming\_content\` instead.

–û—à–∏–±–∫–∞ `FileResponse` —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª CSS –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ –ø–æ—Ç–æ–∫–æ–≤—ã–π –æ—Ç–≤–µ—Ç, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π. –ù–æ –≥–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: **–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å—ë –µ—â—ë –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 –±–∞–π—Ç**.

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ **–Ω–µ –≤ ALLOWED\_HOSTS**, –∞ –≤ **—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ —à–∞–±–ª–æ–Ω–∞**.

## üîç –ì–ª—É–±–æ–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ view –≤–æ–æ–±—â–µ –∫–∞–∫–æ–π-—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç:

bash

```
python manage.py shell -c "
from django.test import RequestFactory
from django.http import HttpResponse
from uch.apps.blog.views import HomeView

rf = RequestFactory()
request = rf.get('/')
view = HomeView()

# –ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –æ—Ç view
response = view.dispatch(request)
print(f'–¢–∏–ø –æ—Ç–≤–µ—Ç–∞: {type(response)}')
print(f'–°—Ç–∞—Ç—É—Å –∫–æ–¥: {response.status_code}')

if hasattr(response, 'content'):
    print(f'–†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞: {len(response.content)} –±–∞–π—Ç')
    if len(response.content) > 0:
        print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(response.content[:300].decode('utf-8', errors='ignore'))
elif hasattr(response, 'render'):
    print('–û—Ç–≤–µ—Ç —è–≤–ª—è–µ—Ç—Å—è TemplateResponse, –Ω—É–∂–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å')
    response.render()
    print(f'–†–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: {len(response.content)} –±–∞–π—Ç')
    if len(response.content) > 0:
        print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(response.content[:300].decode('utf-8', errors='ignore'))
else:
    print('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –æ—Ç–≤–µ—Ç–∞')
    print(dir(response))
"
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω django.template.context\_processors.request:

–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π context processor, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç `request` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞. –ë–µ–∑ –Ω–µ–≥–æ –º–Ω–æ–≥–∏–µ —Ç–µ–≥–∏ —à–∞–±–ª–æ–Ω–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ context processors
grep -n "context_processors" uch/settings.py -A 15
```

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º, –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∞ –≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤:

## üéØ –ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

–í `settings.py` –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å `'django.template.context_processors.request'` –≤ `TEMPLATES['OPTIONS']['context_processors']`.

### 4\. –ü—Ä–æ–≤–µ—Ä–∏–º –∏ –∏—Å–ø—Ä–∞–≤–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

bash

```
# –°–º–æ—Ç—Ä–∏–º —Ç–µ–∫—É—â–∏–µ context processors
python manage.py shell -c "
from django.conf import settings
cps = settings.TEMPLATES[0]['OPTIONS']['context_processors']
print('–¢–µ–∫—É—â–∏–µ context processors:')
for cp in cps:
    print(f'- {cp}')
    
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ request processor
has_request = any('request' in cp for cp in cps)
print(f'\\n–ï—Å—Ç—å –ª–∏ request processor? {has_request}')
"
```

### 5\. –ï—Å–ª–∏ –Ω–µ—Ç request processor, –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ:

bash

```
# –°–æ–∑–¥–∞–µ–º backup settings.py
cp uch/settings.py uch/settings.py.backup

# –î–æ–±–∞–≤–ª—è–µ–º request context processor
sed -i "s/'django.template.context_processors.debug',/&\n                'django.template.context_processors.request',/" uch/settings.py
```

## üöÄ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º
pkill -f "python manage.py runserver"

python manage.py runserver &
sleep 3

curl -s "http://localhost:8000/" | head -5
echo "–†–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –∏–∑ –ø—É–Ω–∫—Ç–æ–≤ 1 –∏ 3.** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ª–∏ —à–∞–±–ª–æ–Ω –∏ –ø–æ—á–µ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 0 –±–∞–π—Ç.

1 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'–†–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: {len(response.content)} –±–∞–π—Ç') if len(response.content) > 0: print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤:') print(response.content\[:300\].decode('utf-8', errors='ignore')) else: print('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –æ—Ç–≤–µ—Ç–∞') print(dir(response)) " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 11, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 143, in dispatch return handler(request, \*args, \*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 174, in get context = self.get\_context\_data() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/views.py", line 40, in get\_context\_data context = super().get\_context\_data(\*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 128, in get\_context\_data paginator, page, queryset, is\_paginated = self.paginate\_queryset( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 62, in paginate\_queryset page = self.kwargs.get(page\_kwarg) or self.request.GET.get(page\_kwarg) or 1 AttributeError: 'HomeView' object has no attribute 'kwargs' 2(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % # –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ context processors grep -n "context\_processors" uch/settings.py -A 15 zsh: command not found: # 73: 'context\_processors': \[ 74: 'django.template.context\_processors.debug', 75: 'django.template.context\_processors.request', 76: 'django.contrib.auth.context\_processors.auth', 77: 'django.contrib.messages.context\_processors.messages', 78: 'django.template.context\_processors.media', 79- # Custom context processors 80- 'uch.apps.blog.views.sidebar\_context', 81- \], 82- }, 83- }, 84-\] 85- 86-WSGI\_APPLICATION = 'uch.wsgi.application' 87- 88-# Database 89-# https://docs.djangoproject.com/en/4.2/ref/settings/#databases 90- 91-DATABASES = { 92- 'default': { 93- 'ENGINE': 'django.db.backends.sqlite3', 3 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'‚úÖ –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è! –†–∞–∑–º–µ—Ä: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤') print('\\\\n–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:') print(html\[:500\]) except Exception as e: print(f'‚ùå –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: {type(e).\_\_name\_\_}') import traceback traceback.print\_exc() " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úÖ –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è! –†–∞–∑–º–µ—Ä: 0 —Å–∏–º–≤–æ–ª–æ–≤ –ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤: 4 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print('–¢–µ–∫—É—â–∏–µ context processors:') for cp in cps: print(f'- {cp}') # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ request processor has\_request = any('request' in cp for cp in cps) print(f'\\\\n–ï—Å—Ç—å –ª–∏ request processor? {has\_request}') " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –¢–µ–∫—É—â–∏–µ context processors: - django.template.context\_processors.debug - django.template.context\_processors.request - django.contrib.auth.context\_processors.auth - django.contrib.messages.context\_processors.messages - django.template.context\_processors.media - uch.apps.blog.views.sidebar\_context –ï—Å—Ç—å –ª–∏ request processor? True

**–ö–ª—é—á–µ–≤–∞—è –Ω–∞—Ö–æ–¥–∫–∞!** –¢–µ—Å—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: **"–®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è! –†–∞–∑–º–µ—Ä: 0 —Å–∏–º–≤–æ–ª–æ–≤"**.

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî **–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞**. –¢–∞–∫–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ, –µ—Å–ª–∏ —à–∞–±–ª–æ–Ω **—Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–≥–∏ Django –±–µ–∑ –æ–±—ã—á–Ω–æ–≥–æ HTML**, –∏–ª–∏ –µ—Å–ª–∏ –µ—Å—Ç—å **–æ—à–∏–±–∫–∞ –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤**.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞ home.html:

bash

```
# –ü–æ—Å–º–æ—Ç—Ä–∏–º –ø–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞
cat uch/apps/blog/templates/blog/home.html
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º, –µ—Å—Ç—å –ª–∏ –≤ —à–∞–±–ª–æ–Ω–µ –æ–±—ã—á–Ω—ã–π HTML (–Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–≥–∏ Django):

bash

```
# –£–±–∏—Ä–∞–µ–º —Ç–µ–≥–∏ Django –∏ —Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è
sed 's/{%.*%}//g; s/{{.*}}//g' uch/apps/blog/templates/blog/home.html | grep -v '^$' | head -10
```

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:

bash

```
python manage.py shell -c "
from django.template.loader import get_template
from django.test import RequestFactory

rf = RequestFactory()
request = rf.get('/')

# –†–µ–Ω–¥–µ—Ä–∏–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –Ω–∞–ø—Ä—è–º—É—é
template = get_template('base.html')
try:
    html = template.render({'request': request})
    print(f'‚úÖ –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è! –†–∞–∑–º–µ—Ä: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
    if len(html) > 0:
        print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(html[:200])
    else:
        print('‚ö†Ô∏è –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ç–æ–∂–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É!')
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞: {type(e).__name__}')
    import traceback
    traceback.print_exc()
"
```

## üéØ –ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

1. **–í —à–∞–±–ª–æ–Ω–µ `home.html` –Ω–µ—Ç –æ–±—ã—á–Ω–æ–≥–æ HTML** ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ–≥–∏ Django
2. **–ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω `base.html` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É**
3. **–û—à–∏–±–∫–∞ –≤ –∫–∞–∫–æ–º-—Ç–æ —Ç–µ–≥–µ —à–∞–±–ª–æ–Ω–∞**, –∫–æ—Ç–æ—Ä—ã–π "—Å—ä–µ–¥–∞–µ—Ç" –≤–µ—Å—å –≤—ã–≤–æ–¥

### 4\. –ü—Ä–æ–≤–µ—Ä–∏–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É base.html
grep -n "DOCTYPE\|html\|body\|block" templates/base.html
```

### 5\. –°–æ–∑–¥–∞–¥–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ç–µ—Å—Ç–∞:

bash

```
# –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω
cat > /tmp/test_simple.html << 'EOF'
<!DOCTYPE html>
<html>
<head><title>–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç</title></head>
<body>
<h1>–ü—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω</h1>
<p>–°—Ç–∞—Ç–µ–π: {{ articles_count }}</p>
</body>
</html>
EOF

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
python manage.py shell -c "
from django.template.loader import render_to_string
html = render_to_string('/tmp/test_simple.html', {'articles_count': 5})
print(f'–ü—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
print(html)
"
```

## üîß –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ `home.html`, —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Ä–∞–±–æ—á–∏–π —à–∞–±–ª–æ–Ω:

bash

```
# –°–æ–∑–¥–∞–µ–º backup —Ç–µ–∫—É—â–µ–≥–æ home.html
cp uch/apps/blog/templates/blog/home.html uch/apps/blog/templates/blog/home.html.backup

# –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Ä–∞–±–æ—á–∏–π —à–∞–±–ª–æ–Ω
cat > uch/apps/blog/templates/blog/home.html << 'EOF'
{% extends "base.html" %}
{% load static %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h1>
    <hr>
    
    {% if articles %}
        {% for article in articles %}
        <article class="card mb-4">
            <div class="card-body">
                <h3 class="card-title">
                    <a href="{% url 'blog:article_detail' article.slug %}">{{ article.title }}</a>
                </h3>
                <p class="text-muted">
                    –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ article.created_at|date:"d.m.Y" }} | 
                    –ö–∞—Ç–µ–≥–æ—Ä–∏—è: <span class="badge bg-primary">{{ article.category.name }}</span>
                </p>
                <p class="card-text">{{ article.content|truncatewords:50 }}</p>
                <a href="{% url 'blog:article_detail' article.slug %}" class="btn btn-primary">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
            </div>
        </article>
        {% endfor %}
    {% else %}
        <p>–ü–æ–∫–∞ –Ω–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π.</p>
    {% endif %}
</div>
{% endblock %}
EOF
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

# –¢–µ—Å—Ç–∏—Ä—É–µ–º
curl -s "http://localhost:8000/" | head -10
echo "–†–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `home.html` (–ø—É–Ω–∫—Ç 1).** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –ø–æ—á–µ–º—É —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % # –ü–æ—Å–º–æ—Ç—Ä–∏–º –ø–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞ cat uch/apps/blog/templates/blog/home.html zsh: command not found: # {% extends "base.html" %} {% load static %} {% block content %} <h1>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h1> <hr> {% for article in article\_list %} <article class="mb-5"> <h3> <a href="{{ article.get\_absolute\_url }}" class="text-decoration-none"> {{ article.title }} </a> </h3> <p class="text-muted"> {{ article.publish\_date }} | <a href="{{ article.category.get\_absolute\_url }}">{{ article.category.name }}</a> </p> <div class="article-excerpt"> {{ article.get\_excerpt|safe }} </div> </article> {% endfor %} <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è --> {% if is\_paginated %} <nav aria-label="Page navigation"> <ul class="pagination"> {% if page\_obj.has\_previous %} <li class="page-item"> <a class="page-link" href="?page=1">&laquo; –ü–µ—Ä–≤–∞—è</a> </li> <li class="page-item"> <a class="page-link" href="?page={{ page\_obj.previous\_page\_number }}">–ù–∞–∑–∞–¥</a> </li> {% endif %} <li class="page-item disabled"> <span class="page-link">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page\_obj.number }} –∏–∑ {{ page\_obj.paginator.num\_pages }}</span> </li> {% if page\_obj.has\_next %} <li class="page-item"> <a class="page-link" href="?page={{ page\_obj.next\_page\_number }}">–í–ø–µ—Ä—ë–¥</a> </li> <li class="page-item"> <a class="page-link" href="?page={{ page\_obj.paginator.num\_pages }}">–ü–æ—Å–ª–µ–¥–Ω—è—è &raquo;</a> </li> {% endif %} </ul> </nav> {% endif %} {% endblock %}

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!** –í —à–∞–±–ª–æ–Ω–µ `home.html` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –∏ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç** –≤ –º–æ–¥–µ–ª–∏ `Article`:

1. `article.get_absolute_url()` ‚Äî –Ω–æ –≤ URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `'blog:article_detail'` —Å `slug`
2. `article.publish_date` ‚Äî –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –ø–æ–ª—è, –µ—Å—Ç—å `published_at` –∏ `created_at`
3. `article.get_excerpt()` ‚Äî –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞
4. `article.category.get_absolute_url()` ‚Äî –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ —à–∞–±–ª–æ–Ω –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã/–ø–æ–ª—è –∏, –≤–æ–∑–º–æ–∂–Ω–æ, —Ç–∏—Ö–æ –ø–∞–¥–∞–µ—Ç.

## üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —à–∞–±–ª–æ–Ω home.html:

bash

```
# –°–æ–∑–¥–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω
cat > uch/apps/blog/templates/blog/home.html << 'EOF'
{% extends "base.html" %}
{% load static %}
{% load markdownify %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | Universal Creative Hub{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h1>
    <hr>
    
    {% if articles %}
        {% for article in articles %}
        <article class="card mb-4">
            <div class="card-body">
                <h3 class="card-title">
                    <a href="{% url 'blog:article_detail' article.slug %}" class="text-decoration-none">
                        {{ article.title }}
                    </a>
                </h3>
                <p class="text-muted">
                    –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ article.published_at|date:"d.m.Y H:i"|default:article.created_at|date:"d.m.Y H:i" }} | 
                    –ö–∞—Ç–µ–≥–æ—Ä–∏—è: <span class="badge bg-primary">{{ article.category.name }}</span>
                </p>
                <div class="article-excerpt">
                    {{ article.content|truncatewords:50|markdownify|striptags }}
                </div>
                <a href="{% url 'blog:article_detail' article.slug %}" class="btn btn-primary mt-2">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
            </div>
        </article>
        {% endfor %}
    {% else %}
        <div class="alert alert-info">
            <p>–ü–æ–∫–∞ –Ω–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π.</p>
        </div>
    {% endif %}

    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
    {% if is_paginated %}
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page=1">&laquo; –ü–µ—Ä–≤–∞—è</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">–ù–∞–∑–∞–¥</a>
                    </li>
                {% endif %}

                <li class="page-item disabled">
                    <span class="page-link">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}</span>
                </li>

                {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}">–í–ø–µ—Ä—ë–¥</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">–ü–æ—Å–ª–µ–¥–Ω—è—è &raquo;</a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    {% endif %}
</div>
{% endblock %}
EOF
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º `{% url 'blog:article_detail' article.slug %}`** –≤–º–µ—Å—Ç–æ `article.get_absolute_url()`
2. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º `article.published_at|default:article.created_at`** –≤–º–µ—Å—Ç–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `publish_date`
3. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º `article.content|truncatewords:50|markdownify|striptags`** –≤–º–µ—Å—Ç–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `get_excerpt()`
4. ‚úÖ **–£–±—Ä–∞–ª–∏ `article.category.get_absolute_url()`** (–ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
5. ‚úÖ **–î–æ–±–∞–≤–∏–ª–∏ `{% load markdownify %}`** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —à–∞–±–ª–æ–Ω–∞
python manage.py shell -c "
from django.template.loader import render_to_string
from uch.apps.blog.models import Article
from django.test import RequestFactory

rf = RequestFactory()
request = rf.get('/')
context = {
    'request': request,
    'articles': Article.objects.filter(status='published').order_by('-created_at')[:5],
    'is_paginated': False,
    'page_obj': type('Obj', (), {'has_previous': False, 'has_next': False, 'number': 1})(),
}

html = render_to_string('blog/home.html', context)
print(f'–†–∞–∑–º–µ—Ä HTML: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
if len(html) > 0:
    print('‚úÖ –®–ê–ë–õ–û–ù –†–ï–ù–î–ï–†–ò–¢–°–Ø –ù–û–†–ú–ê–õ–¨–ù–û!')
    print('\\n–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(html[:500])
else:
    print('‚ùå –®–∞–±–ª–æ–Ω –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π')
"
```

## üìã –ï—Å–ª–∏ —à–∞–±–ª–æ–Ω –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π:

–ü—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ –≤ –±–∞–∑–æ–≤–æ–º —à–∞–±–ª–æ–Ω–µ `base.html`:

bash

```
# –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º
cat > /tmp/test_inheritance.html << 'EOF'
{% extends "base.html" %}
{% block content %}<h1>–¢–ï–°–¢ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</h1>{% endblock %}
EOF

python manage.py shell -c "
from django.template.loader import render_to_string
html = render_to_string('/tmp/test_inheritance.html', {})
print(f'–¢–µ—Å—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
if len(html) > 0:
    print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(html[:200])
"
```

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–∏ —Ç–µ—Å—Ç—ã –∏ –ø–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å!

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'–†–∞–∑–º–µ—Ä HTML: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤') if len(html) > 0: print('‚úÖ –®–ê–ë–õ–û–ù –†–ï–ù–î–ï–†–ò–¢–°–Ø –ù–û–†–ú–ê–õ–¨–ù–û!') print('\\\\n–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:') print(html\[:500\]) else: print('‚ùå –®–∞–±–ª–æ–Ω –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π') " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –†–∞–∑–º–µ—Ä HTML: 0 —Å–∏–º–≤–æ–ª–æ–≤ ‚ùå –®–∞–±–ª–æ–Ω –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... python manage.py shell -c " from django.template.loader import render\_to\_string html = render\_to\_string('/tmp/test\_inheritance.html', {}) print(f'–¢–µ—Å—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤') if len(html) > 0: print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:') print(html\[:200\]) " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 3, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/template/loader.py", line 61, in render\_to\_string template = get\_template(template\_name, using=using) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/template/loader.py", line 19, in get\_template raise TemplateDoesNotExist(template\_name, chain=chain) django.template.exceptions.TemplateDoesNotExist: /tmp/test\_inheritance.html

**–ü—Ä–æ–±–ª–µ–º–∞:** –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É –¥–∞–∂–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π. –¢–µ–ø–µ—Ä—å –ø–æ–Ω—è—Ç–Ω–æ ‚Äî **–±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω `base.html` —Å–∞–º —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É** –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –æ—à–∏–±–∫—É.

## üîç –ì–ª—É–±–æ–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º base.html –Ω–∞ –Ω–∞–ª–∏—á–∏–µ "–ø–æ–∂–∏—Ä–∞—é—â–∏—Ö" —Ç–µ–≥–æ–≤:

bash

```
# –ò—â–µ–º –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ç–µ–≥–∏ –≤ base.html
cat templates/base.html | grep -n "{%\|{{" | head -20
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ—Ç –ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ –∏–ª–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ —Ä–∞—Å—à–∏—Ä—è–µ—Ç –ª–∏ base.html —Å–∞–º —Å–µ–±—è
grep "extends" templates/base.html
```

### 3\. –°–æ–∑–¥–∞–¥–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ç–µ—Å—Ç–∞:

bash

```
cat > /tmp/minimal_base.html << 'EOF'
<!DOCTYPE html>
<html>
<head><title>MINIMAL TEST</title></head>
<body>
<h1>–ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô –®–ê–ë–õ–û–ù –†–ê–ë–û–¢–ê–ï–¢</h1>
<p>–ï—Å–ª–∏ —ç—Ç–æ –≤–∏–¥–Ω–æ, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º base.html</p>
</body>
</html>
EOF

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω
python manage.py shell -c "
with open('/tmp/minimal_base.html', 'r') as f:
    template_content = f.read()

from django.template import Template, Context
t = Template(template_content)
result = t.render(Context({}))
print(f'–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω: {len(result)} —Å–∏–º–≤–æ–ª–æ–≤')
print(result)
"
```

### 4\. –ü—Ä–æ–≤–µ—Ä–∏–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π base.html –Ω–∞ –æ—à–∏–±–∫–∏:

bash

```
# –ü–æ–∫–∞–∂–µ–º –ø–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ base.html
cat templates/base.html | wc -l
echo "base.html –∏–º–µ–µ—Ç $(cat templates/base.html | wc -l) —Å—Ç—Ä–æ–∫"

# –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–µ–ø–∞—Ä–Ω—ã—Ö —Ç–µ–≥–æ–≤
cat templates/base.html | grep -n "{% block\|{% endblock\|{% if\|{% endif\|{% for\|{% endfor" | head -30
```

### 5\. –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π base.html –Ω–∞–ø—Ä—è–º—É—é:

bash

```
python manage.py shell -c "
from django.template.loader import get_template
try:
    template = get_template('base.html')
    html = template.render({})
    print(f'–ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
    if len(html) > 0:
        print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(html[:200])
    else:
        print('‚ö†Ô∏è –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ü–£–°–¢–û–¢–£!')
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞: {type(e).__name__}')
    import traceback
    traceback.print_exc()
"
```

## üéØ –ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ base.html:

1. **–û—à–∏–±–∫–∞ –≤ —Ç–µ–≥–∞—Ö Django** (–Ω–µ–ø–∞—Ä–Ω—ã–µ `{% block %}/{% endblock %}`)
2. **–û—à–∏–±–∫–∞ –≤ JavaScript/CSS**, –∫–æ—Ç–æ—Ä–∞—è –ª–æ–º–∞–µ—Ç –≤–µ—Å—å –≤—ã–≤–æ–¥
3. **–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** (–±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Å–∞–º —Å–µ–±—è)
4. **–û—à–∏–±–∫–∞ –≤ context processor**, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ

### 6\. –°–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Ä–∞–±–æ—á–∏–π base.html:

bash

```
# –°–æ–∑–¥–∞–µ–º backup –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ base.html
cp templates/base.html templates/base.html.backup

# –°–æ–∑–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π base.html
cat > templates/base.html << 'EOF'
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Universal Creative Hub{% endblock %}</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">UCH v0.3</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/">–ì–ª–∞–≤–Ω–∞—è</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/articles/">–í—Å–µ —Å—Ç–∞—Ç—å–∏</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/categories/">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
```

<!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>{% block title %}Universal Creative Hub{% endblock %}</title> <!-- Bootstrap 5 CSS --> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <!-- Custom CSS --> <link rel="stylesheet" href="/static/css/style.css?v=1"> {% block extra\_css %}{% endblock %} </head> <body> <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è --> <nav class="navbar navbar-expand-lg navbar-dark bg-dark"> <div class="container"> <a class="navbar-brand" href="/">UCH v0.3</a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarNav"> <ul class="navbar-nav me-auto"> <li class="nav-item"> <a class="nav-link" href="/">–ì–ª–∞–≤–Ω–∞—è</a> </li> <li class="nav-item"> <a class="nav-link" href="{% url 'blog:article\_list' %}">–°—Ç–∞—Ç—å–∏</a> </li> <li class="nav-item"> <a class="nav-link" href="{% url 'blog:category\_list' %}">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a> </li> </ul> </div> </div> </nav> <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç --> <div class="container mt-4"> <div class="row"> <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ --> <main class="col-md-8"> {% block content %}{% endblock %} </main> <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å --> <aside class="col-md-4"> {% include 'blog/sidebar.html' %} </aside> </div> </div> <!-- Bootstrap JS --> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> {% block extra\_js %}{% endblock %} <!-- –í base.html –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º </body> –¥–æ–±–∞–≤—å—Ç–µ: --> <script> // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π document.addEventListener('DOMContentLoaded', function() { const images = document.querySelectorAll('.markdown-content img'); images.forEach(img => { // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —à–∏—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ const containerWidth = img.parentElement.clientWidth; const imgWidth = img.naturalWidth; if (imgWidth > containerWidth) { // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π img.classList.add('large-image'); // –î–æ–±–∞–≤–ª—è–µ–º –æ–±–µ—Ä—Ç–∫—É –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑—É–º–∞ const wrapper = document.createElement('div'); wrapper.className = 'image-wrapper'; img.parentNode.insertBefore(wrapper, img); wrapper.appendChild(img); // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ const zoomBtn = document.createElement('button'); zoomBtn.className = 'image-zoom-btn'; zoomBtn.innerHTML = 'üì± –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å'; zoomBtn.onclick = function() { img.classList.toggle('full-size'); this.textContent = img.classList.contains('full-size')? 'üì± –í–µ—Ä–Ω—É—Ç—å': 'üì± –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å'; }; wrapper.appendChild(zoomBtn); } }); }); </script> <style> /\* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è JavaScript \*/.image-wrapper { position: relative; margin: 1rem 0; }.large-image { cursor: zoom-in; transition: transform 0.3s ease; }.large-image.full-size { max-width: none!important; width: auto!important; cursor: zoom-out; }.image-zoom-btn { position: absolute; bottom: 10px; right: 10px; background: rgba(0, 0, 0, 0.7); color: white; border: none; padding: 5px 10px; border-radius: 4px; font-size: 12px; cursor: pointer; z-index: 10; }.image-zoom-btn:hover { background: rgba(0, 0, 0, 0.9); } </style> </body> </html>

–û—Ç–ª–∏—á–Ω–æ! –í–∏–¥–∏–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π `base.html`. –í –Ω—ë–º –µ—Å—Ç—å —Å–ª–æ–∂–Ω—ã–π JavaScript –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã.

**–ü—Ä–æ–±–ª–µ–º–∞:** JavaScript –±–ª–æ–∫ –≤ `base.html` –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

## üîß –£–ø—Ä–æ—Å—Ç–∏–º base.html, —É–±—Ä–∞–≤ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π JavaScript:

bash

```
# –°–æ–∑–¥–∞–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é base.html
cat > templates/base.html << 'EOF'
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Universal Creative Hub{% endblock %}</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/style.css?v=1">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">UCH v0.3</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">–ì–ª–∞–≤–Ω–∞—è</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'blog:article_list' %}">–°—Ç–∞—Ç—å–∏</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'blog:category_list' %}">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container mt-4">
        <div class="row">
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
            <main class="col-md-8">
                {% block content %}{% endblock %}
            </main>
            
            <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
            <aside class="col-md-4">
                {% include 'blog/sidebar.html' %}
            </aside>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock %}

</body>
</html>
EOF
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π base.html:

bash

```
# –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ base.html
python manage.py shell -c "
from django.template.loader import get_template
try:
    template = get_template('base.html')
    html = template.render({})
    print(f'‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π base.html —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
    if len(html) > 0:
        print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(html[:300])
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞: {type(e).__name__}')
    import traceback
    traceback.print_exc()
"

# –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä—è–µ–º home.html —Å –Ω–æ–≤—ã–º base.html
python manage.py shell -c "
from django.template.loader import render_to_string
from uch.apps.blog.models import Article
from django.test import RequestFactory

rf = RequestFactory()
request = rf.get('/')
context = {
    'request': request,
    'articles': Article.objects.filter(status='published').order_by('-created_at')[:3],
}

html = render_to_string('blog/home.html', context)
print(f'\\n‚úÖ home.html —Å –Ω–æ–≤—ã–º base.html: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
if len(html) > 100:
    print('–ü–µ—Ä–≤—ã–µ 400 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(html[:400])
else:
    print('‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–∞–ª–æ —Å–∏–º–≤–æ–ª–æ–≤')
    print('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:')
    print(html)
"
```

## üìã –ï—Å–ª–∏ —à–∞–±–ª–æ–Ω –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π:

–ü—Ä–æ–≤–µ—Ä–∏–º —à–∞–±–ª–æ–Ω `sidebar.html`, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ `base.html`:

## üéØ –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ/curl
curl -s "http://localhost:8000/" | head -20
echo -e "\n–†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤.** –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ JavaScript –∏–∑ `base.html` —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å. –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –ø—Ä–æ–±–ª–µ–º—ã, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `sidebar.html` –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... if len(html) > 100: print('–ü–µ—Ä–≤—ã–µ 400 —Å–∏–º–≤–æ–ª–æ–≤:') print(html\[:400\]) else: print('‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–∞–ª–æ —Å–∏–º–≤–æ–ª–æ–≤') print('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:') print(html) " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π base.html —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è: 2561 —Å–∏–º–≤–æ–ª–æ–≤ –ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤: <!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Universal Creative Hub</title> <!-- Bootstrap 5 CSS --> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.mi zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úÖ home.html —Å –Ω–æ–≤—ã–º base.html: 0 —Å–∏–º–≤–æ–ª–æ–≤ ‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–∞–ª–æ —Å–∏–º–≤–æ–ª–æ–≤ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ: (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... from django.template.loader import render\_to\_string html = render\_to\_string('/tmp/test\_without\_sidebar.html', {}) print(f'–¢–µ—Å—Ç –±–µ–∑ sidebar.html: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤') if len(html) > 0: print('‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ sidebar.html') print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:') print(html\[:200\]) " zsh: command not found: # <div class="card sidebar-card mb-4"> <div class="card-header bg-primary text-white"> <h5 class="mb-0">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h5> </div> <div class="card-body"> <ul class="list-unstyled mb-0"> {% for category in blog\_categories %} <li class="mb-2"> <a href="{% url 'blog:category\_detail' category.slug %}" class="text-decoration-none d-flex justify-content-between"> <span>{{ category.name }}</span> <span class="badge bg-primary rounded-pill">{{ category.article\_count }}</span> </a> </li> {% empty %} <li class="text-muted">–ö–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</li> {% endfor %} </ul> </div> </div> <div class="card sidebar-card"> <div class="card-header bg-primary text-white"> <h5 class="mb-0">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h5> </div> <div class="card-body"> <ul class="list-unstyled mb-0"> {% for article in blog\_recent\_articles %} <li class="mb-3 pb-2 border-bottom"> <a href="{% url 'blog:article\_detail' article.slug %}" class="text-decoration-none"> <h6 class="mb-1">{{ article.title|truncatechars:50 }}</h6> </a> <div class="d-flex justify-content-between"> <small class="text-muted">{{ article.created\_at|date:"d.m.Y" }}</small> <span class="badge bg-secondary">{{ article.category.name }}</span> </div> </li> {% empty %} <li class="text-muted">–°—Ç–∞—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</li> {% endfor %} </ul> </div> </div>zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 3, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/template/loader.py", line 61, in render\_to\_string template = get\_template(template\_name, using=using) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/template/loader.py", line 19, in get\_template raise TemplateDoesNotExist(template\_name, chain=chain) django.template.exceptions.TemplateDoesNotExist: /tmp/test\_without\_sidebar.html

**–û—Ç–ª–∏—á–Ω–æ! –ú—ã –Ω–∞—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—É:**

1. ‚úÖ **`base.html` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ** (2561 —Å–∏–º–≤–æ–ª–æ–≤)
2. ‚ùå **`home.html` —Å `base.html` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ 0 —Å–∏–º–≤–æ–ª–æ–≤**
3. ‚ùå **`sidebar.html` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `blog_categories` –∏ `blog_recent_articles`**, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∏–∑ `sidebar_context`

**–ü—Ä–æ–±–ª–µ–º–∞:** –®–∞–±–ª–æ–Ω `home.html` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –≤ —Å–∞–º–æ–º —à–∞–±–ª–æ–Ω–µ –∏–ª–∏ –≤ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤ –Ω–µ–≥–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ home.html:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ home.html:

bash

```
python manage.py shell -c "
from django.test import RequestFactory
from uch.apps.blog.views import HomeView

rf = RequestFactory()
request = rf.get('/')
view = HomeView()
view.request = request

# –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
context = view.get_context_data()
print('=== –ö–ª—é—á–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ home.html ===')
for key in sorted(context.keys()):
    if not key.startswith('_'):
        value = context[key]
        if hasattr(value, '__len__'):
            print(f'- {key}: {len(value)} —ç–ª–µ–º–µ–Ω—Ç–æ–≤')
        else:
            print(f'- {key}: {type(value).__name__}')

print('\\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º articles ===')
if 'articles' in context:
    print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π: {len(context[\"articles\"])}')
    for article in context['articles'][:2]:
        print(f'  - {article.title} (slug: {article.slug})')
else:
    print('‚ùå articles –Ω–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ!')
"
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º —Å–∞–º —à–∞–±–ª–æ–Ω home.html –Ω–∞ –æ—à–∏–±–∫–∏:

bash

```
# –°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
cat > /tmp/simple_home_test.html << 'EOF'
{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1>–¢–ï–°–¢–û–í–´–ô –®–ê–ë–õ–û–ù</h1>
    <p>–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.</p>
    <p>–°—Ç–∞—Ç–µ–π –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: {{ articles|length }}</p>
    
    {% if articles %}
        <ul>
        {% for article in articles|slice:":3" %}
            <li>{{ article.title }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>–ù–µ—Ç —Å—Ç–∞—Ç–µ–π</p>
    {% endif %}
</div>
{% endblock %}
EOF

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω
python manage.py shell -c "
from django.template.loader import render_to_string
from uch.apps.blog.models import Article
from django.test import RequestFactory

rf = RequestFactory()
request = rf.get('/')
context = {
    'request': request,
    'articles': Article.objects.filter(status='published').order_by('-created_at')[:5],
}

with open('/tmp/simple_home_test.html', 'r') as f:
    template_content = f.read()

from django.template import Template, Context
t = Template(template_content)
result = t.render(Context(context))
print(f'–¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω: {len(result)} —Å–∏–º–≤–æ–ª–æ–≤')
if len(result) > 0:
    print('‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç!')
    print('–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(result[:500])
else:
    print('‚ùå –¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ç–æ–∂–µ –ø—É—Å—Ç–æ–π!')
"
```

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ç–µ–∫—É—â–∏–π home.html –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:

bash

```
python manage.py shell -c "
from django.template import Template, TemplateSyntaxError

with open('uch/apps/blog/templates/blog/home.html', 'r') as f:
    template_content = f.read()

try:
    Template(template_content)
    print('‚úÖ home.html —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω')
except TemplateSyntaxError as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ home.html: {e}')
    print(f'–°—Ç—Ä–æ–∫–∞ —Å –æ—à–∏–±–∫–æ–π: {e.template_debug_info}')
"
```

## üéØ –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

–ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π `home.html` ‚Äî –Ω–µ—Ç, –∑–Ω–∞—á–∏—Ç –≤ `home.html` –µ—Å—Ç—å **–æ—à–∏–±–∫–∞ –≤ —Ç–µ–≥–∞—Ö Django** –∏–ª–∏ **–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ template tags**.

### 4\. –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞–ª–∏—á–∏–µ markdownify template tag:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ django-markdownify
python manage.py shell -c "
try:
    from markdownify.templatetags import markdownify
    print('‚úÖ django-markdownify —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')
except ImportError:
    print('‚ùå django-markdownify –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')
    
# –ü—Ä–æ–≤–µ—Ä–∏–º, –µ—Å—Ç—å –ª–∏ load markdownify –≤ —à–∞–±–ª–æ–Ω–µ
with open('uch/apps/blog/templates/blog/home.html', 'r') as f:
    content = f.read()
    if 'load markdownify' in content:
        print('‚úÖ –í —à–∞–±–ª–æ–Ω–µ –µ—Å—Ç—å {% load markdownify %}')
    else:
        print('‚ùå –í —à–∞–±–ª–æ–Ω–µ –ù–ï–¢ {% load markdownify %}')
"
```

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ `markdownify`, —É–¥–∞–ª–∏–º –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑ `home.html`:

bash

```
# –°–æ–∑–¥–∞–µ–º home.html –±–µ–∑ markdownify
cat > uch/apps/blog/templates/blog/home.html << 'EOF'
{% extends "base.html" %}
{% load static %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | Universal Creative Hub{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h1>
    <hr>
    
    {% if articles %}
        {% for article in articles %}
        <article class="card mb-4">
            <div class="card-body">
                <h3 class="card-title">
                    <a href="{% url 'blog:article_detail' article.slug %}" class="text-decoration-none">
                        {{ article.title }}
                    </a>
                </h3>
                <p class="text-muted">
                    –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ article.published_at|date:"d.m.Y H:i"|default:article.created_at|date:"d.m.Y H:i" }} | 
                    –ö–∞—Ç–µ–≥–æ—Ä–∏—è: <span class="badge bg-primary">{{ article.category.name }}</span>
                </p>
                <div class="article-excerpt">
                    {{ article.content|truncatewords:50 }}
                </div>
                <a href="{% url 'blog:article_detail' article.slug %}" class="btn btn-primary mt-2">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
            </div>
        </article>
        {% endfor %}
    {% else %}
        <div class="alert alert-info">
            <p>–ü–æ–∫–∞ –Ω–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π.</p>
        </div>
    {% endif %}
</div>
{% endblock %}
EOF
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

bash

```
# –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π home.html
python manage.py shell -c "
from django.template.loader import render_to_string
from uch.apps.blog.models import Article
from django.test import RequestFactory

rf = RequestFactory()
request = rf.get('/')
context = {
    'request': request,
    'articles': Article.objects.filter(status='published').order_by('-created_at')[:3],
}

html = render_to_string('blog/home.html', context)
print(f'home.html –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
if len(html) > 100:
    print('‚úÖ –†–ê–ë–û–¢–ê–ï–¢!')
    print('–ü–µ—Ä–≤—ã–µ 400 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(html[:400])
else:
    print('‚ùå –í—Å–µ –µ—â—ë –ø—É—Å—Ç–æ–π')
    print('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:', html)
"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç—Ç–∏—Ö —Ç–µ—Å—Ç–æ–≤.** –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è `markdownify` –∏–∑ —à–∞–±–ª–æ–Ω–∞ –æ–Ω –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å.

1 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print('\\\\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º articles ===') if 'articles' in context: print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π: {len(context\[\\"articles\\"\])}') for article in context\['articles'\]\[:2\]: print(f' - {article.title} (slug: {article.slug})') else: print('‚ùå articles –Ω–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ!') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 11, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/views.py", line 40, in get\_context\_data context = super().get\_context\_data(\*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 124, in get\_context\_data queryset = object\_list if object\_list is not None else self.object\_list AttributeError: 'HomeView' object has no attribute 'object\_list' 2 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'–¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω: {len(result)} —Å–∏–º–≤–æ–ª–æ–≤') if len(result) > 0: print('‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç!') print('–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:') print(result\[:500\]) else: print('‚ùå –¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ç–æ–∂–µ –ø—É—Å—Ç–æ–π!') " zsh: command not found: # zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω: 2905 —Å–∏–º–≤–æ–ª–æ–≤ ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤: <!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Universal Creative Hub</title> <!-- Bootstrap 5 CSS --> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <!-- Custom CSS --> <link rel="stylesheet" href="/static/css/style.css?v=1"> </head> <body> <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è --> <nav class="navbar navbar-expand- 3 kend/media ‚úÖ home.html —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω 4 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... # –ü—Ä–æ–≤–µ—Ä–∏–º, –µ—Å—Ç—å –ª–∏ load markdownify –≤ —à–∞–±–ª–æ–Ω–µ with open('uch/apps/blog/templates/blog/home.html', 'r') as f: content = f.read() if 'load markdownify' in content: print('‚úÖ –í —à–∞–±–ª–æ–Ω–µ –µ—Å—Ç—å {% load markdownify %}') else: print('‚ùå –í —à–∞–±–ª–æ–Ω–µ –ù–ï–¢ {% load markdownify %}') " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úÖ django-markdownify —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ –í —à–∞–±–ª–æ–Ω–µ –µ—Å—Ç—å {% load markdownify %}

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!**

1. ‚ùå **–û—à–∏–±–∫–∞ –≤ `HomeView`**: `'HomeView' object has no attribute 'object_list'`
2. ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç** (2905 —Å–∏–º–≤–æ–ª–æ–≤) ‚Äî –∑–Ω–∞—á–∏—Ç, –±–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤ –∏—Å–ø—Ä–∞–≤–Ω–∞
3. ‚úÖ `home.html` —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
4. ‚úÖ `markdownify` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–ª–∞—Å—Å `HomeView` –Ω–µ –∏–º–µ–µ—Ç –∞—Ç—Ä–∏–±—É—Ç–∞ `object_list`, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç—Å—è Django –¥–ª—è —Ä–∞–±–æ—Ç—ã `get_context_data()`.

## üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º HomeView –≤ views.py:

–ù—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `object_list` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `get_context_data()` –∏–ª–∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –º–µ—Ç–æ–¥.

### 1\. –°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Ç–µ–∫—É—â–∏–π HomeView:

bash

```
grep -n "class HomeView" uch/apps/blog/views.py -A 20
```

### 2\. –ò—Å–ø—Ä–∞–≤–ª—è–µ–º HomeView, –¥–æ–±–∞–≤–ª—è—è —è–≤–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ object\_list:

bash

```
# –°–æ–∑–¥–∞–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π views.py
cat > /tmp/fixed_views.py << 'EOF'
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from .models import Article, Category, Comment
from .forms import CommentForm

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
    categories = Category.objects.annotate(
        article_count=Count('article', 
            filter=Q(article__status='published')
        )
    ).filter(article_count__gt=0)
    
    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
    recent_articles = Article.objects.filter(
        status='published'
    ).order_by('-created_at')[:5]
    
    return {
        'blog_categories': categories,
        'blog_recent_articles': recent_articles,
    }

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
class HomeView(ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 5
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º object_list –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º super()
        self.object_list = self.get_queryset()
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
class ArticleListView(ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        queryset = Article.objects.filter(status='published').order_by('-created_at')
        
        # –ü–æ–∏—Å–∫
        search_query = self.request.GET.get('search', '')
        if search_query:
            queryset = queryset.filter(
                Q(title__icontains=search_query) | 
                Q(content__icontains=search_query)
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
        tag = self.request.GET.get('tag', '')
        if tag:
            queryset = queryset.filter(tags__name__in=[tag])
        
        return queryset
    
    def get_context_data(self, **kwargs):
        self.object_list = self.get_queryset()
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['search_query'] = self.request.GET.get('search', '')
        return context

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)
        context['comments'] = Comment.objects.filter(
            article=article,
            is_approved=True
        ).order_by('-created_at')
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        if self.request.user.is_authenticated:
            context['comment_form'] = CommentForm()
        else:
            context['comment_form'] = None
        
        return context

    @method_decorator(login_required)
    def post(self, request, *args, **kwargs):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"""
        self.object = self.get_object()
        form = CommentForm(request.POST)
        
        if form.is_valid():
            comment = form.save(commit=False)
            comment.article = self.object
            comment.author = request.user
            comment.save()
            return redirect('blog:article_detail', slug=self.object.slug)
        
        # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏
        context = self.get_context_data(**kwargs)
        context['comment_form'] = form
        return self.render_to_response(context)

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
class CategoryListView(ListView):
    template_name = 'blog/category_list.html'
    model = Category
    context_object_name = 'categories'
    
    def get_queryset(self):
        return Category.objects.annotate(
            article_count=Count('article', 
                filter=Q(article__status='published')
            )
        ).filter(article_count__gt=0).order_by('name')
    
    def get_context_data(self, **kwargs):
        self.object_list = self.get_queryset()
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
class CategoryDetailView(ListView):
    template_name = 'blog/category_detail.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        category_slug = self.kwargs['slug']
        self.category = get_object_or_404(Category, slug=category_slug)
        return Article.objects.filter(
            category=self.category,
            status='published'
        ).order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        self.object_list = self.get_queryset()
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['category'] = self.category
        return context
EOF

# –ó–∞–º–µ–Ω—è–µ–º views.py
cp /tmp/fixed_views.py uch/apps/blog/views.py
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python -m py_compile uch/apps/blog/views.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: $?"

# –¢–µ—Å—Ç–∏—Ä—É–µ–º HomeView
python manage.py shell -c "
from django.test import RequestFactory
from uch.apps.blog.views import HomeView

rf = RequestFactory()
request = rf.get('/')
view = HomeView()
view.request = request

try:
    context = view.get_context_data()
    print('‚úÖ HomeView.get_context_data() —Ä–∞–±–æ—Ç–∞–µ—Ç!')
    print(f'–ö–ª—é—á–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ: {list(context.keys())}')
    print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π: {len(context[\"articles\"])}')
    
    # –†–µ–Ω–¥–µ—Ä–∏–º —à–∞–±–ª–æ–Ω
    from django.template.loader import render_to_string
    html = render_to_string('blog/home.html', context)
    print(f'–†–∞–∑–º–µ—Ä HTML: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
    if len(html) > 100:
        print('‚úÖ –°–ê–ô–¢ –†–ê–ë–û–¢–ê–ï–¢!')
        print('\\n–ü–µ—Ä–≤—ã–µ 400 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(html[:400])
    else:
        print('‚ùå –í—Å–µ –µ—â—ë –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º')
        
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞: {type(e).__name__}')
    import traceback
    traceback.print_exc()
"
```

## üìã –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä:

bash

```
# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

# –¢–µ—Å—Ç–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ curl
curl -s "http://localhost:8000/" | head -30
echo -e "\n–†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤.** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è `HomeView` —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... else: print('‚ùå –í—Å–µ –µ—â—ë –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º') except Exception as e: print(f'‚ùå –û—à–∏–±–∫–∞: {type(e).\_\_name\_\_}') import traceback traceback.print\_exc() " zsh: command not found: # –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: 0 zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚ùå –û—à–∏–±–∫–∞: AttributeError Traceback (most recent call last): File "<string>", line 11, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/views.py", line 42, in get\_context\_data context = super().get\_context\_data(\*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 128, in get\_context\_data paginator, page, queryset, is\_paginated = self.paginate\_queryset( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 62, in paginate\_queryset page = self.kwargs.get(page\_kwarg) or self.request.GET.get(page\_kwarg) or 1 AttributeError: 'HomeView' object has no attribute 'kwargs'

**–ü—Ä–æ–±–ª–µ–º–∞**: `HomeView` –Ω–µ –∏–º–µ–µ—Ç –∞—Ç—Ä–∏–±—É—Ç–∞ `kwargs`, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã —Å–æ–∑–¥–∞–ª–∏ –µ–≥–æ –≤—Ä—É—á–Ω—É—é, –∞ –Ω–µ —á–µ—Ä–µ–∑ Django URL dispatcher. –ù–æ —ç—Ç–æ –Ω–µ –≥–ª–∞–≤–Ω–æ–µ ‚Äî –Ω—É–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å `HomeView`, —á—Ç–æ–±—ã –æ–Ω —Ä–∞–±–æ—Ç–∞–ª –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

## üîß –£–ø—Ä–æ—â–∞–µ–º HomeView, —É–±–∏—Ä–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏–∑ get\_context\_data:

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ `super().get_context_data()` –≤—ã–∑—ã–≤–∞–µ—Ç `paginate_queryset()`, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç `self.kwargs`. –í —Ä–µ–∞–ª—å–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ Django —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `kwargs`, –Ω–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º ‚Äî –Ω–µ—Ç.

### 1\. –ò—Å–ø—Ä–∞–≤–ª—è–µ–º HomeView, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—è get\_context\_data –±–µ–∑ –≤—ã–∑–æ–≤–∞ super() –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:

### 2\. –ó–∞–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å HomeView –≤ views.py:

bash

```
# –ù–∞—Ö–æ–¥–∏–º –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü HomeView
START=$(grep -n "class HomeView" uch/apps/blog/views.py | cut -d: -f1)
END=$(($START + 20))

# –ó–∞–º–µ–Ω—è–µ–º HomeView
sed -i "${START},${END}d" uch/apps/blog/views.py
sed -i "${START}r /tmp/simple_homeview.py" uch/apps/blog/views.py
```

### 3\. –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
python -m py_compile uch/apps/blog/views.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: $?"

# –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É HomeView
python manage.py shell -c "
from django.test import RequestFactory
from uch.apps.blog.views import HomeView

rf = RequestFactory()
request = rf.get('/')
view = HomeView()
view.request = request

try:
    context = view.get_context_data()
    print('‚úÖ HomeView.get_context_data() —Ä–∞–±–æ—Ç–∞–µ—Ç!')
    print(f'–ö–ª—é—á–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ: {list(context.keys())}')
    print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π (articles): {len(context[\"articles\"])}')
    print(f'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π (object_list): {len(context[\"object_list\"])}')
    
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞: {type(e).__name__}')
    import traceback
    traceback.print_exc()
"

# –¢–µ—Å—Ç 2: –†–µ–Ω–¥–µ—Ä–∏–º —à–∞–±–ª–æ–Ω
python manage.py shell -c "
from django.template.loader import render_to_string
from uch.apps.blog.models import Article
from django.test import RequestFactory

rf = RequestFactory()
request = rf.get('/')
context = {
    'request': request,
    'articles': Article.objects.filter(status='published').order_by('-created_at')[:5],
    'object_list': Article.objects.filter(status='published').order_by('-created_at')[:5],
    'is_paginated': False,
    'page_obj': None,
    'paginator': None,
}

html = render_to_string('blog/home.html', context)
print(f'\\n–†–∞–∑–º–µ—Ä HTML: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
if len(html) > 100:
    print('‚úÖ –®–ê–ë–õ–û–ù –†–ï–ù–î–ï–†–ò–¢–°–Ø!')
    print('–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(html[:500])
else:
    print('‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å —à–∞–±–ª–æ–Ω–æ–º')
    print('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:', html[:200])
"
```

## üéØ –ï—Å–ª–∏ —à–∞–±–ª–æ–Ω –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π:

–ü—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–∫–∏ –≤ —Å–∞–º–æ–º —à–∞–±–ª–æ–Ω–µ `home.html`:

bash

```
# –°–æ–∑–¥–∞–¥–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ç–µ—Å—Ç–∞
cat > /tmp/absolute_minimal.html << 'EOF'
MINIMAL CONTENT WITHOUT TEMPLATE TAGS
EOF

python manage.py shell -c "
with open('/tmp/absolute_minimal.html', 'r') as f:
    content = f.read()
print(f'–ê–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç: {len(content)} —Å–∏–º–≤–æ–ª–æ–≤')
print(content)
"
```

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å home.html –Ω–∞ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é:

bash

```
# –°–æ–∑–¥–∞–µ–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é home.html
cat > uch/apps/blog/templates/blog/home.html << 'EOF'
{% extends "base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | Universal Creative Hub{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h1>
    <hr>
    
    {% if articles %}
        <div class="row">
        {% for article in articles %}
            <div class="col-md-6 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ article.title }}</h5>
                        <p class="card-text">
                            <small class="text-muted">
                                {{ article.created_at|date:"d.m.Y" }} | {{ article.category.name }}
                            </small>
                        </p>
                        <p class="card-text">{{ article.content|truncatechars:150 }}</p>
                        <a href="{% url 'blog:article_detail' article.slug %}" class="btn btn-primary">–ß–∏—Ç–∞—Ç—å</a>
                    </div>
                </div>
            </div>
        {% endfor %}
        </div>
    {% else %}
        <p class="alert alert-info">–ü–æ–∫–∞ –Ω–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π.</p>
    {% endif %}
</div>
{% endblock %}
EOF
```

## üìã –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä:

bash

```
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"

# –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–π
python manage.py runserver &
sleep 3

# –ü—Ä–æ–≤–µ—Ä—è–µ–º
curl -s "http://localhost:8000/" | head -20
echo -e "\n–†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –∏–∑ –¢–µ—Å—Ç–∞ 2.** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ª–∏ —à–∞–±–ª–æ–Ω –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... if len(html) > 100: print('‚úÖ –®–ê–ë–õ–û–ù –†–ï–ù–î–ï–†–ò–¢–°–Ø!') print('–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:') print(html\[:500\]) else: print('‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å —à–∞–±–ª–æ–Ω–æ–º') print('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:', html\[:200\]) " zsh: command not found: # –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: 0 zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚ùå –û—à–∏–±–∫–∞: AttributeError Traceback (most recent call last): File "<string>", line 11, in <module> File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/views.py", line 62, in get\_context\_data context = super().get\_context\_data(\*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 128, in get\_context\_data paginator, page, queryset, is\_paginated = self.paginate\_queryset( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/views/generic/list.py", line 62, in paginate\_queryset page = self.kwargs.get(page\_kwarg) or self.request.GET.get(page\_kwarg) or 1 AttributeError: 'HomeView' object has no attribute 'kwargs' zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –†–∞–∑–º–µ—Ä HTML: 0 —Å–∏–º–≤–æ–ª–æ–≤ ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å —à–∞–±–ª–æ–Ω–æ–º –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–º–µ–Ω–∞ `HomeView` –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞ ‚Äî –≤ —Ñ–∞–π–ª–µ –≤—Å—ë –µ—â—ë –æ—Å—Ç–∞–ª—Å—è —Å—Ç–∞—Ä—ã–π –∫–æ–¥. –ù—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å `views.py` —Å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏.

## üîß –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º views.py —Å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏:

bash

```
# –°–æ–∑–¥–∞–µ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤—ã–π views.py
cat > uch/apps/blog/views.py << 'EOF'
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from .models import Article, Category, Comment
from .forms import CommentForm

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
    categories = Category.objects.annotate(
        article_count=Count('article', 
            filter=Q(article__status='published')
        )
    ).filter(article_count__gt=0)
    
    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
    recent_articles = Article.objects.filter(
        status='published'
    ).order_by('-created_at')[:5]
    
    return {
        'blog_categories': categories,
        'blog_recent_articles': recent_articles,
    }

# –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π ListView –±–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
class SimpleListView:
    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö ListView –±–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏"""
    template_name = ''
    model = None
    context_object_name = 'object_list'
    
    def get_queryset(self):
        return self.model.objects.all()
    
    def get_context_data(self, **kwargs):
        queryset = self.get_queryset()
        context = {
            self.context_object_name: queryset,
            'object_list': queryset,
            'is_paginated': False,
        }
        context.update(kwargs)
        return context
    
    def dispatch(self, request, *args, **kwargs):
        self.request = request
        self.args = args
        self.kwargs = kwargs
        return super().dispatch(request, *args, **kwargs) if hasattr(super(), 'dispatch') else None
    
    def get(self, request, *args, **kwargs):
        context = self.get_context_data()
        return render(request, self.template_name, context)

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
class HomeView(SimpleListView, ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
class ArticleListView(SimpleListView, ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    
    def get_queryset(self):
        queryset = Article.objects.filter(status='published').order_by('-created_at')
        
        # –ü–æ–∏—Å–∫
        search_query = self.request.GET.get('search', '')
        if search_query:
            queryset = queryset.filter(
                Q(title__icontains=search_query) | 
                Q(content__icontains=search_query)
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
        tag = self.request.GET.get('tag', '')
        if tag:
            queryset = queryset.filter(tags__name__in=[tag])
        
        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['search_query'] = self.request.GET.get('search', '')
        return context

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)
        context['comments'] = Comment.objects.filter(
            article=article,
            is_approved=True
        ).order_by('-created_at')
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        if self.request.user.is_authenticated:
            context['comment_form'] = CommentForm()
        else:
            context['comment_form'] = None
        
        return context

    @method_decorator(login_required)
    def post(self, request, *args, **kwargs):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"""
        self.object = self.get_object()
        form = CommentForm(request.POST)
        
        if form.is_valid():
            comment = form.save(commit=False)
            comment.article = self.object
            comment.author = request.user
            comment.save()
            return redirect('blog:article_detail', slug=self.object.slug)
        
        # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏
        context = self.get_context_data(**kwargs)
        context['comment_form'] = form
        return self.render_to_response(context)

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
class CategoryListView(SimpleListView, ListView):
    template_name = 'blog/category_list.html'
    model = Category
    context_object_name = 'categories'
    
    def get_queryset(self):
        return Category.objects.annotate(
            article_count=Count('article', 
                filter=Q(article__status='published')
            )
        ).filter(article_count__gt=0).order_by('name')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
class CategoryDetailView(SimpleListView, ListView):
    template_name = 'blog/category_detail.html'
    model = Article
    context_object_name = 'articles'
    
    def get_queryset(self):
        category_slug = self.kwargs['slug']
        self.category = get_object_or_404(Category, slug=category_slug)
        return Article.objects.filter(
            category=self.category,
            status='published'
        ).order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['category'] = self.category
        return context
EOF
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º —É–ø—Ä–æ—â—ë–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
python -m py_compile uch/apps/blog/views.py
echo "‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: $?"

# –¢–µ—Å—Ç: –ü—Ä–æ—Å—Ç–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –±–µ–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π
python manage.py shell -c "
from django.test import RequestFactory
from uch.apps.blog.views import sidebar_context

rf = RequestFactory()
request = rf.get('/')

# –ü—Ä–æ—Å—Ç–æ —Ä–µ–Ω–¥–µ—Ä–∏–º —à–∞–±–ª–æ–Ω —Å –¥–∞–Ω–Ω—ã–º–∏
from django.template.loader import render_to_string
from uch.apps.blog.models import Article

context = {
    'request': request,
    'articles': Article.objects.filter(status='published').order_by('-created_at')[:3],
    'object_list': Article.objects.filter(status='published').order_by('-created_at')[:3],
    'is_paginated': False,
}
context.update(sidebar_context(request))

html = render_to_string('blog/home.html', context)
print(f'–†–∞–∑–º–µ—Ä HTML: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')

if len(html) > 100:
    print('‚úÖ –®–ê–ë–õ–û–ù –†–ê–ë–û–¢–ê–ï–¢!')
    print('\\n–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(html[:500])
else:
    print('‚ùå –í—Å–µ –µ—â—ë –ø—Ä–æ–±–ª–µ–º—ã')
    print('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ HTML:', html[:200])
    
    # –ü—Ä–æ–≤–µ—Ä–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
    print('\\n–ö–ª—é—á–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:')
    for key in context.keys():
        if not key.startswith('_'):
            print(f'- {key}')
"
```

## üéØ –ï—Å–ª–∏ —à–∞–±–ª–æ–Ω –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ–π ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–∞–º–æ–º —à–∞–±–ª–æ–Ω–µ:

–°–æ–∑–¥–∞–¥–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—á–∏–π —à–∞–±–ª–æ–Ω:

bash

```
# –°–æ–∑–¥–∞—ë–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—Ç–∞—é—â–∏–π home.html
cat > uch/apps/blog/templates/blog/home.html << 'EOF'
<!DOCTYPE html>
<html>
<head><title>–ì–ª–∞–≤–Ω–∞—è</title></head>
<body>
<h1>Universal Creative Hub</h1>
<p>–°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!</p>
<p>–°—Ç–∞—Ç–µ–π: {{ articles|length }}</p>
<ul>
{% for article in articles %}
<li>{{ article.title }}</li>
{% endfor %}
</ul>
</body>
</html>
EOF

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω
python manage.py shell -c "
from django.template.loader import render_to_string
from uch.apps.blog.models import Article

context = {
    'articles': Article.objects.filter(status='published')[:5],
}

html = render_to_string('blog/home.html', context)
print(f'–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
print(html)
"
```

## üìã –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–∞–±–æ—á–∏–º —à–∞–±–ª–æ–Ω–æ–º:

bash

```
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"

# –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–π
python manage.py runserver &
sleep 3

# –ü—Ä–æ–≤–µ—Ä—è–µ–º
curl -s "http://localhost:8000/"
echo -e "\n\n–†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ—Å—Ç–∞.** –ï—Å–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º `home.html`. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Django –∏–ª–∏ –≤ —á—ë–º-—Ç–æ –¥—Ä—É–≥–æ–º.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ HTML:', html\[:200\]) # –ü—Ä–æ–≤–µ—Ä–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç print('\\\\n–ö–ª—é—á–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:') for key in context.keys(): if not key.startswith('\_'): print(f'- {key}') " zsh: command not found: # ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: 0 zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –†–∞–∑–º–µ—Ä HTML: 0 —Å–∏–º–≤–æ–ª–æ–≤ ‚ùå –í—Å–µ –µ—â—ë –ø—Ä–æ–±–ª–µ–º—ã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ HTML: –ö–ª—é—á–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ: - request - articles - object\_list - is\_paginated - blog\_categories - blog\_recent\_articles

**–ü—Ä–æ–±–ª–µ–º–∞**: –î–∞–∂–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É (0 —Å–∏–º–≤–æ–ª–æ–≤). –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ **–Ω–µ –≤ –¥–∞–Ω–Ω—ã—Ö**, –∞ –≤ **—Å–∏—Å—Ç–µ–º–µ —à–∞–±–ª–æ–Ω–æ–≤ Django**.

## üîç –ì–ª—É–±–æ–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã —à–∞–±–ª–æ–Ω–æ–≤:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º –±–∞–∑–æ–≤—É—é —Ä–∞–±–æ—Ç—É —à–∞–±–ª–æ–Ω–æ–≤ Django:

bash

```
python manage.py shell -c "
from django.template import Template, Context

# –ê–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç
template = Template('Hello {{ name }}!')
result = template.render(Context({'name': 'World'}))
print(f'–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç —à–∞–±–ª–æ–Ω–æ–≤: \"{result}\" ({len(result)} —Å–∏–º–≤–æ–ª–æ–≤)')

# –¢–µ—Å—Ç —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º
template2 = Template('{% extends \"base.html\" %}{% block content %}TEST{% endblock %}')
try:
    result2 = template2.render(Context({}))
    print(f'–¢–µ—Å—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: {len(result2)} —Å–∏–º–≤–æ–ª–æ–≤')
    if len(result2) > 0:
        print(result2[:100])
except Exception as e:
    print(f'–û—à–∏–±–∫–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: {type(e).__name__} - {e}')
"
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ TEMPLATES –≤ settings.py:

bash

```
python manage.py shell -c "
from django.conf import settings
import os

print('=== –ü–†–û–í–ï–†–ö–ê –ù–ê–°–¢–†–û–ï–ö –®–ê–ë–õ–û–ù–û–í ===')
print(f'DEBUG: {settings.DEBUG}')
print(f'BASE_DIR: {settings.BASE_DIR}')

# –ü—Ä–æ–≤–µ—Ä—è–µ–º TEMPLATES
templates_config = settings.TEMPLATES[0]
print(f'\\nBACKEND: {templates_config[\"BACKEND\"]}')
print(f'DIRS: {templates_config[\"DIRS\"]}')
print(f'APP_DIRS: {templates_config[\"APP_DIRS\"]}')

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
for dir_path in templates_config['DIRS']:
    exists = os.path.exists(dir_path)
    print(f'–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è {dir_path}: {'‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç' if exists else '‚ùå –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç'}')
"
```

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º –∑–∞–≥—Ä—É–∑–∫—É —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞–ø—Ä—è–º—É—é:

bash

```
python manage.py shell -c "
from django.template.loader import get_template

print('=== –ü–†–û–í–ï–†–ö–ê –ó–ê–ì–†–£–ó–ö–ò –®–ê–ë–õ–û–ù–û–í ===')

# –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å base.html
try:
    template = get_template('base.html')
    print('‚úÖ base.html –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è')
    
    # –ü—Ä–æ–±—É–µ–º –µ–≥–æ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å
    result = template.render({})
    print(f'base.html —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è: {len(result)} —Å–∏–º–≤–æ–ª–æ–≤')
    if len(result) > 0:
        print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(result[:200])
    
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ base.html: {type(e).__name__} - {e}')
    import traceback
    traceback.print_exc()

print('\\n---')

# –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å home.html
try:
    template = get_template('blog/home.html')
    print('‚úÖ home.html –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è')
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ home.html: {type(e).__name__} - {e}')
"
```

## üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –ï—Å–ª–∏ base.html —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É –ø—Ä–∏ –ø—Ä—è–º–æ–º –≤—ã–∑–æ–≤–µ, –∑–Ω–∞—á–∏—Ç –≤ –Ω—ë–º –µ—Å—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.

### 4\. –ü—Ä–æ–≤–µ—Ä–∏–º base.html –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º base.html –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
python manage.py shell -c "
with open('templates/base.html', 'r') as f:
    lines = f.readlines()

print('=== –ê–ù–ê–õ–ò–ó base.html ===')
print(f'–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫: {len(lines)}')

# –ò—â–µ–º –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
problem_lines = []
for i, line in enumerate(lines, 1):
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –Ω–µ–ø–∞—Ä–Ω—ã–µ —Ç–µ–≥–∏
    if '{% block' in line and '% endblock' not in line:
        # –ò—â–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π endblock
        has_endblock = any('% endblock' in l for l in lines[i:])
        if not has_endblock:
            problem_lines.append((i, '–ù–µ–ø–∞—Ä–Ω—ã–π block'))
    
    if '{% if' in line and '% endif' not in line:
        problem_lines.append((i, '–ù–µ–ø–∞—Ä–Ω—ã–π if'))
    
    if '{% for' in line and '% endfor' not in line:
        problem_lines.append((i, '–ù–µ–ø–∞—Ä–Ω—ã–π for'))

if problem_lines:
    print('‚ùå –ù–∞–π–¥–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:')
    for line_num, problem in problem_lines:
        print(f'  –°—Ç—Ä–æ–∫–∞ {line_num}: {problem}')
        print(f'    –¢–µ–∫—Å—Ç: {lines[line_num-1].strip()}')
else:
    print('‚úÖ –ù–µ–ø–∞—Ä–Ω—ã—Ö —Ç–µ–≥–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ')
"
```

### 5\. –°–æ–∑–¥–∞–¥–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ —á–∏—Å—Ç—ã–π base.html:

bash

```
# –°–æ–∑–¥–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω–æ —á–∏—Å—Ç—ã–π base.html
cat > templates/base.html << 'EOF'
<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}Test{% endblock %}</title>
</head>
<body>
    <h1>–¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω</h1>
    {% block content %}{% endblock %}
</body>
</html>
EOF

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –µ–≥–æ
python manage.py shell -c "
from django.template import Template, Context

with open('templates/base.html', 'r') as f:
    content = f.read()

template = Template(content)
result = template.render(Context({}))
print(f'–ß–∏—Å—Ç—ã–π base.html: {len(result)} —Å–∏–º–≤–æ–ª–æ–≤')
print(result)
"
```

## üöÄ –ï—Å–ª–∏ —á–∏—Å—Ç—ã–π base.html —Ä–∞–±–æ—Ç–∞–µ—Ç:

bash

```
# –°–æ–∑–¥–∞–µ–º —á–∏—Å—Ç—ã–π home.html —Å —á–∏—Å—Ç—ã–º base.html
cat > uch/apps/blog/templates/blog/home.html << 'EOF'
{% extends "base.html" %}
{% block title %}–ì–ª–∞–≤–Ω–∞—è{% endblock %}
{% block content %}
<h2>–°—Ç–∞—Ç—å–∏</h2>
{% for article in articles %}
<p>{{ article.title }}</p>
{% endfor %}
{% endblock %}
EOF

# –¢–µ—Å—Ç–∏—Ä—É–µ–º
python manage.py shell -c "
from django.template.loader import render_to_string
from uch.apps.blog.models import Article

context = {'articles': Article.objects.all()[:3]}
html = render_to_string('blog/home.html', context)
print(f'–¢–µ—Å—Ç —Å —á–∏—Å—Ç—ã–º base.html: {len(html)} —Å–∏–º–≤–æ–ª–æ–≤')
print(html[:300])
"
```

## üìã –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä:

bash

```
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

curl -s "http://localhost:8000/"
echo -e "\n\n–†–∞–∑–º–µ—Ä: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –∏–∑ –ø—É–Ω–∫—Ç–æ–≤ 3 –∏ 5.** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ª–æ–º–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤.

1 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... try: result2 = template2.render(Context({})) print(f'–¢–µ—Å—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: {len(result2)} —Å–∏–º–≤–æ–ª–æ–≤') if len(result2) > 0: print(result2\[:100\]) except Exception as e: print(f'–û—à–∏–±–∫–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: {type(e).\_\_name\_\_} - {e}') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç —à–∞–±–ª–æ–Ω–æ–≤: "Hello World!" (12 —Å–∏–º–≤–æ–ª–æ–≤) –¢–µ—Å—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: 2565 —Å–∏–º–≤–æ–ª–æ–≤ <!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content 2 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'APP\_DIRS: {templates\_config\[\\"APP\_DIRS\\"\]}') # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π for dir\_path in templates\_config\['DIRS'\]: exists = os.path.exists(dir\_path) print(f'–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è {dir\_path}: {'‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç' if exists else '‚ùå –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç'}') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 18 print(f'–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è {dir\_path}: {'‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç' if exists else '‚ùå –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç'}') ^ SyntaxError: invalid character in identifier 3 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... # –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å home.html try: template = get\_template('blog/home.html') print('‚úÖ home.html –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è') except Exception as e: print(f'‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ home.html: {type(e).\_\_name\_\_} - {e}') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media === –ü–†–û–í–ï–†–ö–ê –ó–ê–ì–†–£–ó–ö–ò –®–ê–ë–õ–û–ù–û–í === ‚úÖ base.html –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è base.html —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è: 2561 —Å–∏–º–≤–æ–ª–æ–≤ –ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤: <!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Universal Creative Hub</title> <!-- Bo --- ‚úÖ home.html –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è 4 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... if problem\_lines: print('‚ùå –ù–∞–π–¥–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:') for line\_num, problem in problem\_lines: print(f' –°—Ç—Ä–æ–∫–∞ {line\_num}: {problem}') print(f' –¢–µ–∫—Å—Ç: {lines\[line\_num-1\].strip()}') else: print('‚úÖ –ù–µ–ø–∞—Ä–Ω—ã—Ö —Ç–µ–≥–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ') " zsh: command not found: # ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media === –ê–ù–ê–õ–ò–ó base.html === –í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫: 60 ‚úÖ –ù–µ–ø–∞—Ä–Ω—ã—Ö —Ç–µ–≥–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

**–û—Ç–ª–∏—á–Ω–æ! –ö–ª—é—á–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**

1. ‚úÖ **–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç —à–∞–±–ª–æ–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Äî "Hello World!" —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è
2. ‚úÖ **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Äî —Ç–µ—Å—Ç —Å `{% extends "base.html" %}` —Ä–µ–Ω–¥–µ—Ä–∏—Ç 2565 —Å–∏–º–≤–æ–ª–æ–≤
3. ‚úÖ **`base.html` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è** (2561 —Å–∏–º–≤–æ–ª)
4. ‚úÖ **`home.html` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è**
5. ‚úÖ **–í `base.html` –Ω–µ—Ç –Ω–µ–ø–∞—Ä–Ω—ã—Ö —Ç–µ–≥–æ–≤**

**–ó–Ω–∞—á–∏—Ç, —Å–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤ Django —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!**

## üéØ –ü—Ä–æ–±–ª–µ–º–∞: home.html —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ render\_to\_string(), –Ω–æ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ.

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞:

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** –≤ —Ä–µ–∞–ª—å–Ω–æ–º view
2. **–û—à–∏–±–∫–∏ –≤ `HomeView.get_context_data()`**
3. **–ü—Ä–æ–±–ª–µ–º—ã —Å middleware** –∏–ª–∏ **context processors**

### 6\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ Django test client:

bash

```
python manage.py shell -c "
from django.test import Client

client = Client()
response = client.get('/')

print(f'–°—Ç–∞—Ç—É—Å: {response.status_code}')
print(f'–¢–∏–ø –æ—Ç–≤–µ—Ç–∞: {type(response)}')
print(f'–ò–º–µ–µ—Ç content: {hasattr(response, \"content\")}')

if hasattr(response, 'content'):
    print(f'–î–ª–∏–Ω–∞ content: {len(response.content)} –±–∞–π—Ç')
    if len(response.content) > 0:
        print('–ü–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(response.content[:500].decode('utf-8', errors='ignore'))
    else:
        print('‚ö†Ô∏è content –ø—É—Å—Ç–æ–π')
        
        # –ü—Ä–æ–≤–µ—Ä–∏–º, –º–æ–∂–µ—Ç —ç—Ç–æ TemplateResponse?
        if hasattr(response, 'template_name'):
            print(f'–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —à–∞–±–ª–æ–Ω: {response.template_name}')
        if hasattr(response, 'context_data'):
            print(f'–ò–º–µ–µ—Ç context_data: {list(response.context_data.keys())}')
"
```

### 7\. –ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ HomeView –≤–æ–æ–±—â–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:

### 8\. –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º:

bash

```
python manage.py shell -c "
from django.test import Client
import sys

# –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º stdout, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å debug –≤—ã–≤–æ–¥
class TeeOutput:
    def __init__(self):
        self.content = []
    
    def write(self, text):
        self.content.append(text)
        sys.__stdout__.write(text)
    
    def get_output(self):
        return ''.join(self.content)

old_stdout = sys.stdout
tee = TeeOutput()
sys.stdout = tee

client = Client()
response = client.get('/')

sys.stdout = old_stdout

print(f'\\n=== –†–ï–ó–£–õ–¨–¢–ê–¢ –ó–ê–ü–†–û–°–ê ===')
print(f'–°—Ç–∞—Ç—É—Å: {response.status_code}')
print(f'–î–ª–∏–Ω–∞: {len(response.content) if hasattr(response, \"content\") else \"no content attr\"}')

if hasattr(response, 'content') and len(response.content) > 0:
    print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(response.content[:300].decode('utf-8', errors='ignore'))
"
```

### 9\. –°–æ–∑–¥–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π view –¥–ª—è —Ç–µ—Å—Ç–∞:

bash

```
# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π URL –Ω–∞–ø—Ä—è–º—É—é
cat > /tmp/test_view.py << 'EOF'
from django.http import HttpResponse
from django.template.loader import render_to_string
from uch.apps.blog.models import Article

def test_view(request):
    """–ê–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–æ—Å—Ç–æ–π view –¥–ª—è —Ç–µ—Å—Ç–∞"""
    articles = Article.objects.filter(status='published')[:3]
    context = {
        'articles': articles,
        'request': request,
    }
    html = render_to_string('blog/home.html', context)
    return HttpResponse(html)
EOF

# –î–æ–±–∞–≤–ª—è–µ–º URL –¥–ª—è —Ç–µ—Å—Ç–∞
echo "
# –¢–µ—Å—Ç–æ–≤—ã–π URL
from .test_view import test_view
urlpatterns += [path('test/', test_view, name='test')]
" >> uch/urls.py

# –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª test_view.py
cat /tmp/test_view.py > uch/apps/blog/test_view.py
```

## üìã –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ curl:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–±—ã—á–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
echo "=== –¢–µ—Å—Ç / ==="
curl -s "http://localhost:8000/" | head -5
echo "–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"

# –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏–ª–∏)
echo -e "\n=== –¢–µ—Å—Ç /test/ ==="
curl -s "http://localhost:8000/test/" 2>/dev/null | head -5
echo "–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/test/" 2>/dev/null | wc -c) –±–∞–π—Ç"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –∏–∑ –ø—É–Ω–∫—Ç–∞ 6 (—Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç).** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Django –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å.

6 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print('‚ö†Ô∏è content –ø—É—Å—Ç–æ–π') # –ü—Ä–æ–≤–µ—Ä–∏–º, –º–æ–∂–µ—Ç —ç—Ç–æ TemplateResponse? if hasattr(response, 'template\_name'): print(f'–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —à–∞–±–ª–æ–Ω: {response.template\_name}') if hasattr(response, 'context\_data'): print(f'–ò–º–µ–µ—Ç context\_data: {list(response.context\_data.keys())}') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media –°—Ç–∞—Ç—É—Å: 200 –¢–∏–ø –æ—Ç–≤–µ—Ç–∞: <class 'django.http.response.HttpResponse'> –ò–º–µ–µ—Ç content: True –î–ª–∏–Ω–∞ content: 0 –±–∞–π—Ç ‚ö†Ô∏è content –ø—É—Å—Ç–æ–π 7 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... return context EOF # –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º HomeView START=$(grep -n "class HomeView" uch/apps/blog/views.py | cut -d: -f1) END=$(($START + 20)) sed -i "${START},${END}d" uch/apps/blog/views.py sed -i "${START}r /tmp/debug\_homeview.py" uch/apps/blog/views.py zsh: command not found: # zsh: command not found: # sed: 1: "uch/apps/blog/views.py": invalid command code u sed: 1: "uch/apps/blog/views.py": invalid command code u 8 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'–°—Ç–∞—Ç—É—Å: {response.status\_code}') print(f'–î–ª–∏–Ω–∞: {len(response.content) if hasattr(response, \\"content\\") else \\"no content attr\\"}') if hasattr(response, 'content') and len(response.content) > 0: print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤:') print(response.content\[:300\].decode('utf-8', errors='ignore')) " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media === –†–ï–ó–£–õ–¨–¢–ê–¢ –ó–ê–ü–†–û–°–ê === –°—Ç–∞—Ç—É—Å: 200 –î–ª–∏–Ω–∞: 0

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: Django –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP 200 —Å –ø—É—Å—Ç—ã–º content (0 –±–∞–π—Ç), –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Å–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–∞–∫ –º—ã –≤–∏–¥–µ–ª–∏ –≤ —Ç–µ—Å—Ç–∞—Ö).

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **view –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π HttpResponse**. –¢–∞–∫–æ–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏, –µ—Å–ª–∏:

1. **View –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `HttpResponse()` –±–µ–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**
2. **–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ, –Ω–æ –æ–Ω–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**
3. **Middleware "—Å—ä–µ–¥–∞–µ—Ç" –∫–æ–Ω—Ç–µ–Ω—Ç**

## üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –î–æ–±–∞–≤–∏–º middleware –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 1\. –°–æ–∑–¥–∞–µ–º middleware –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤:

bash

```
cat > uch/middleware.py << 'EOF'
import time

class DebugMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response

    def __call__(self, request):
        print(f'[MIDDLEWARE] –ó–∞–ø—Ä–æ—Å: {request.path}')
        
        response = self.get_response(request)
        
        print(f'[MIDDLEWARE] –û—Ç–≤–µ—Ç: —Å—Ç–∞—Ç—É—Å {response.status_code}, —Ä–∞–∑–º–µ—Ä {len(getattr(response, "content", 0))} –±–∞–π—Ç')
        print(f'[MIDDLEWARE] –¢–∏–ø –æ—Ç–≤–µ—Ç–∞: {type(response).__name__}')
        
        # –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –ø—É—Å—Ç–æ–π, –ø–æ–ø—Ä–æ–±—É–µ–º –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
        if hasattr(response, 'content') and len(response.content) == 0:
            print(f'[MIDDLEWARE] –í–ù–ò–ú–ê–ù–ò–ï: –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –¥–ª—è {request.path}')
            
        return response
EOF
```

### 2\. –î–æ–±–∞–≤–ª—è–µ–º middleware –≤ settings.py:

bash

```
# –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞ MIDDLEWARE
sed -i "s/MIDDLEWARE = \[/MIDDLEWARE = \[\n    'uch.middleware.DebugMiddleware',/" uch/settings.py
```

### 3\. –°–æ–∑–¥–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π view –¥–ª—è —Ç–µ—Å—Ç–∞, –æ–±—Ö–æ–¥—è –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã:

bash

```
# –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π view –ø—Ä—è–º–æ –≤ urls.py
cat > /tmp/simple_view.py << 'EOF'
from django.http import HttpResponse
from django.template.loader import render_to_string
from uch.apps.blog.models import Article

def simplest_view(request):
    """–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π view, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å"""
    html = "<!DOCTYPE html><html><body><h1>–ü–†–Ø–ú–û–ô HTML</h1><p>–¢–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç</p></body></html>"
    return HttpResponse(html)

def test_template_view(request):
    """View —Å —à–∞–±–ª–æ–Ω–æ–º, –Ω–æ –±–µ–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π"""
    articles = Article.objects.filter(status='published')[:2]
    
    # –†–µ–Ω–¥–µ—Ä–∏–º –≤—Ä—É—á–Ω—É—é, –±–µ–∑ view –∫–ª–∞—Å—Å–æ–≤
    from django.template import Template, Context
    template_content = """
    <!DOCTYPE html>
    <html>
    <body>
        <h1>–†—É—á–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥</h1>
        <p>–°—Ç–∞—Ç–µ–π: {{ articles|length }}</p>
        {% for article in articles %}
        <p>{{ article.title }}</p>
        {% endfor %}
    </body>
    </html>
    """
    
    t = Template(template_content)
    c = Context({'articles': articles})
    html = t.render(c)
    return HttpResponse(html)
EOF
```

### 4\. –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ URL:

bash

```
# –°–Ω–∞—á–∞–ª–∞ backup urls.py
cp uch/urls.py uch/urls.py.backup

# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
cat > uch/urls.py << 'EOF'
from django.contrib import admin
from django.urls import path, include
from django.conf import settings
from django.conf.urls.static import static

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ view
from django.http import HttpResponse
from uch.apps.blog.models import Article

def simplest_view(request):
    html = "<!DOCTYPE html><html><body><h1>–ü–†–Ø–ú–û–ô HTML</h1><p>–¢–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç</p></body></html>"
    return HttpResponse(html)

def test_template_view(request):
    articles = Article.objects.filter(status='published')[:2]
    from django.template import Template, Context
    template_content = """
    <!DOCTYPE html>
    <html>
    <body>
        <h1>–†—É—á–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥</h1>
        <p>–°—Ç–∞—Ç–µ–π: {{ articles|length }}</p>
        {% for article in articles %}
        <p>{{ article.title }}</p>
        {% endfor %}
    </body>
    </html>
    """
    t = Template(template_content)
    c = Context({'articles': articles})
    html = t.render(c)
    return HttpResponse(html)

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('uch.apps.blog.urls')),
    path('test-simple/', simplest_view, name='test_simple'),
    path('test-template/', test_template_view, name='test_template'),
]

if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
EOF
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"
python manage.py runserver > /tmp/server.log 2>&1 &
SERVER_PID=$!
sleep 4

echo "=== –¢–µ—Å—Ç 1: –ü—Ä—è–º–æ–π HTML (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ–≥–¥–∞) ==="
curl -s "http://localhost:8000/test-simple/"
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/test-simple/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –¢–µ—Å—Ç 2: –†—É—á–Ω–æ–π —à–∞–±–ª–æ–Ω (–ø—Ä–æ—Å—Ç–æ–π) ==="
curl -s "http://localhost:8000/test-template/" | head -10
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/test-template/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –¢–µ—Å—Ç 3: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è) ==="
curl -s "http://localhost:8000/" | head -5
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫) ==="
tail -20 /tmp/server.log

kill $SERVER_PID 2>/dev/null
```

## üéØ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

1. **–ï—Å–ª–∏ `/test-simple/` —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –∑–Ω–∞—á–∏—Ç —Å–µ—Ä–≤–µ—Ä –≤–æ–æ–±—â–µ —Å–ø–æ—Å–æ–±–µ–Ω –æ—Ç–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
2. **–ï—Å–ª–∏ `/test-template/` —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –∑–Ω–∞—á–∏—Ç —à–∞–±–ª–æ–Ω—ã Django —Ä–∞–±–æ—Ç–∞—é—Ç
3. **–ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω–∞—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –∏–º–µ–Ω–Ω–æ –≤ `HomeView`

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞.** –≠—Ç–æ –¥–∞—Å—Ç –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... return context EOF # –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º HomeView START=$(grep -n "class HomeView" uch/apps/blog/views.py | cut -d: -f1) END=$(($START + 20)) sed -i "${START},${END}d" uch/apps/blog/views.py sed -i "${START}r /tmp/debug\_homeview.py" uch/apps/blog/views.py zsh: command not found: # zsh: command not found: # sed: 1: "uch/apps/blog/views.py": invalid command code u sed: 1: "uch/apps/blog/views.py": invalid command code u (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'–°—Ç–∞—Ç—É—Å: {response.status\_code}') print(f'–î–ª–∏–Ω–∞: {len(response.content) if hasattr(response, \\"content\\") else \\"no content attr\\"}') if hasattr(response, 'content') and len(response.content) > 0: print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤:') print(response.content\[:300\].decode('utf-8', errors='ignore')) " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media === –†–ï–ó–£–õ–¨–¢–ê–¢ –ó–ê–ü–†–û–°–ê === –°—Ç–∞—Ç—É—Å: 200 –î–ª–∏–Ω–∞: 0 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'\[MIDDLEWARE\] –¢–∏–ø –æ—Ç–≤–µ—Ç–∞: {type(response).\_\_name\_\_}') # –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –ø—É—Å—Ç–æ–π, –ø–æ–ø—Ä–æ–±—É–µ–º –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é if hasattr(response, 'content') and len(response.content) == 0: print(f'\[MIDDLEWARE\] –í–ù–ò–ú–ê–ù–ò–ï: –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –¥–ª—è {request.path}') return response EOF (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % # –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞ MIDDLEWARE sed -i "s/MIDDLEWARE = \\\[/MIDDLEWARE = \\\[\\n 'uch.middleware.DebugMiddleware',/" uch/settings.py zsh: command not found: # sed: 1: "uch/settings.py": invalid command code u (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... </html> """ t = Template(template\_content) c = Context({'articles': articles}) html = t.render(c) return HttpResponse(html) EOF zsh: command not found: # (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... path('', include('uch.apps.blog.urls')), path('test-simple/', simplest\_view, name='test\_simple'), path('test-template/', test\_template\_view, name='test\_template'), \] if settings.DEBUG: urlpatterns += static(settings.MEDIA\_URL, document\_root=settings.MEDIA\_ROOT) EOF zsh: command not found: # zsh: command not found: # (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... echo -e "\\n=== –¢–µ—Å—Ç 3: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è) ===" curl -s "http://localhost:8000/" | head -5 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç" echo -e "\\n=== –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫) ===" tail -20 /tmp/server.log kill $SERVER\_PID 2>/dev/null zsh: command not found: # \[1\] 88166 === –¢–µ—Å—Ç 1: –ü—Ä—è–º–æ–π HTML (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ–≥–¥–∞) === <!DOCTYPE html><html><body><h1>–ü–†–Ø–ú–û–ô HTML</h1><p>–¢–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç</p></body></html> –î–ª–∏–Ω–∞: 99 –±–∞–π—Ç === –¢–µ—Å—Ç 2: –†—É—á–Ω–æ–π —à–∞–±–ª–æ–Ω (–ø—Ä–æ—Å—Ç–æ–π) === <!DOCTYPE html> <html> <body> <h1>–†—É—á–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥</h1> <p>–°—Ç–∞—Ç–µ–π: 2</p> <p>test-auto-import2</p> <p>–¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞</p> –î–ª–∏–Ω–∞: 281 –±–∞–π—Ç === –¢–µ—Å—Ç 3: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è) === –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç === –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫) === Watching for file changes with StatReloader \[11/Dec/2025 09:27:24\] "GET /test-simple/ HTTP/1.1" 200 99 \[11/Dec/2025 09:27:24\] "GET /test-simple/ HTTP/1.1" 200 99 \[11/Dec/2025 09:27:24\] "GET /test-template/ HTTP/1.1" 200 281 \[11/Dec/2025 09:27:24\] "GET /test-template/ HTTP/1.1" 200 281 \[11/Dec/2025 09:27:24\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 09:27:24\] "GET / HTTP/1.1" 200 0 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % \[1\] + done python manage.py runserver > /tmp/server.log 2>&1

**–û—Ç–ª–∏—á–Ω–æ! –ú—ã –Ω–∞—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—É!**

‚úÖ **–ü—Ä—è–º–æ–π HTML —Ä–∞–±–æ—Ç–∞–µ—Ç** (99 –±–∞–π—Ç)  
‚úÖ **–†—É—á–Ω–æ–π —à–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç** (281 –±–∞–π—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 2 —Å—Ç–∞—Ç—å–∏)  
‚ùå **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** (0 –±–∞–π—Ç)

**–í—ã–≤–æ–¥**: –ü—Ä–æ–±–ª–µ–º–∞ **–Ω–µ –≤ —à–∞–±–ª–æ–Ω–∞—Ö Django**, –∞ –≤ **–∫–ª–∞—Å—Å–µ `HomeView`**. –û–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç.

## üîç –ü—Ä–æ–±–ª–µ–º–∞ –≤ HomeView.get\_context\_data():

–ò–∑ –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ, —á—Ç–æ `HomeView` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 200, –Ω–æ –ø—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ:

1. **`get_context_data()` –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π**, –Ω–æ –æ—à–∏–±–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
2. **View –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π `HttpResponse()`**

## üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º HomeView –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º:

### 1\. –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º HomeView –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é-based view:

### 2\. –ó–∞–º–µ–Ω—è–µ–º –∫–ª–∞—Å—Å HomeView –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –≤ views.py:

bash

```
# –ù–∞—Ö–æ–¥–∏–º –∏ —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π HomeView
grep -n "class HomeView" uch/apps/blog/views.py

# –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é views.py —Å —Ñ—É–Ω–∫—Ü–∏–µ–π
cat > uch/apps/blog/views.py << 'EOF'
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from .models import Article, Category, Comment
from .forms import CommentForm

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
    categories = Category.objects.annotate(
        article_count=Count('article', 
            filter=Q(article__status='published')
        )
    ).filter(article_count__gt=0)
    
    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
    recent_articles = Article.objects.filter(
        status='published'
    ).order_by('-created_at')[:5]
    
    return {
        'blog_categories': categories,
        'blog_recent_articles': recent_articles,
    }

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –ü–†–û–°–¢–ê–Ø –§–£–ù–ö–¶–ò–Ø
def home_view(request):
    """–ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã"""
    articles = Article.objects.filter(status='published').order_by('-created_at')
    
    context = {
        'articles': articles,
        'object_list': articles,
        'is_paginated': False,
    }
    context.update(sidebar_context(request))
    
    return render(request, 'blog/home.html', context)

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
def article_list_view(request):
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π"""
    queryset = Article.objects.filter(status='published').order_by('-created_at')
    
    # –ü–æ–∏—Å–∫
    search_query = request.GET.get('search', '')
    if search_query:
        queryset = queryset.filter(
            Q(title__icontains=search_query) | 
            Q(content__icontains=search_query)
        )
    
    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
    tag = request.GET.get('tag', '')
    if tag:
        queryset = queryset.filter(tags__name__in=[tag])
    
    context = {
        'articles': queryset,
        'object_list': queryset,
        'is_paginated': False,
        'search_query': search_query,
    }
    context.update(sidebar_context(request))
    
    return render(request, 'blog/article_list.html', context)

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)
        context['comments'] = Comment.objects.filter(
            article=article,
            is_approved=True
        ).order_by('-created_at')
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        if self.request.user.is_authenticated:
            context['comment_form'] = CommentForm()
        else:
            context['comment_form'] = None
        
        return context

    @method_decorator(login_required)
    def post(self, request, *args, **kwargs):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"""
        self.object = self.get_object()
        form = CommentForm(request.POST)
        
        if form.is_valid():
            comment = form.save(commit=False)
            comment.article = self.object
            comment.author = request.user
            comment.save()
            return redirect('blog:article_detail', slug=self.object.slug)
        
        # –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–∞–º–∏
        context = self.get_context_data(**kwargs)
        context['comment_form'] = form
        return self.render_to_response(context)

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
def category_list_view(request):
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π"""
    categories = Category.objects.annotate(
        article_count=Count('article', 
            filter=Q(article__status='published')
        )
    ).filter(article_count__gt=0).order_by('name')
    
    context = {
        'categories': categories,
        'object_list': categories,
    }
    context.update(sidebar_context(request))
    
    return render(request, 'blog/category_list.html', context)

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
def category_detail_view(request, slug):
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ç–µ–π –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""
    category = get_object_or_404(Category, slug=slug)
    articles = Article.objects.filter(
        category=category,
        status='published'
    ).order_by('-created_at')
    
    context = {
        'articles': articles,
        'object_list': articles,
        'category': category,
        'is_paginated': False,
    }
    context.update(sidebar_context(request))
    
    return render(request, 'blog/category_detail.html', context)
EOF
```

### 3\. –û–±–Ω–æ–≤–ª—è–µ–º urls.py –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:

bash

```
# –û–±–Ω–æ–≤–ª—è–µ–º blog/urls.py
cat > uch/apps/blog/urls.py << 'EOF'
from django.urls import path
from . import views
from .feeds import LatestArticlesFeed, LatestArticlesAtomFeed

app_name = 'blog'

urlpatterns = [
    path('', views.home_view, name='home'),
    path('articles/', views.article_list_view, name='article_list'),
    path('articles/<str:slug>/', views.ArticleDetailView.as_view(), name='article_detail'),
    path('categories/', views.category_list_view, name='category_list'),
    path('categories/<slug:slug>/', views.category_detail_view, name='category_detail'),
    # RSS –∏ Atom —Ñ–∏–¥—ã
    path('feed/rss/', LatestArticlesFeed(), name='articles_rss_feed'),
    path('feed/atom/', LatestArticlesAtomFeed(), name='articles_atom_feed'),
]
EOF
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python -m py_compile uch/apps/blog/views.py uch/apps/blog/urls.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: $?"

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

# –¢–µ—Å—Ç–∏—Ä—É–µ–º
echo "=== –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ==="
curl -s "http://localhost:8000/" | head -10
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π ==="
curl -s "http://localhost:8000/articles/" | head -5
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/articles/" | wc -c) –±–∞–π—Ç"
```

## üéØ –ï—Å–ª–∏ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–∞—è:

–°–æ–∑–¥–∞–¥–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω `home.html`:

bash

```
# –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ home.html –ø—Ä–æ—Å—Ç–æ–π –∏ —Ä–∞–±–æ—á–∏–π
cat > uch/apps/blog/templates/blog/home.html << 'EOF'
<!DOCTYPE html>
<html>
<head><title>–ì–ª–∞–≤–Ω–∞—è</title></head>
<body>
<h1>Universal Creative Hub v0.3</h1>
<p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</p>
<p>–°—Ç–∞—Ç–µ–π: {{ articles|length }}</p>
<ul>
{% for article in articles %}
<li><a href="{% url 'blog:article_detail' article.slug %}">{{ article.title }}</a></li>
{% endfor %}
</ul>
</body>
</html>
EOF

# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
python manage.py shell -c "
from django.test import RequestFactory
from uch.apps.blog.views import home_view

rf = RequestFactory()
request = rf.get('/')
response = home_view(request)
print(f'–°—Ç–∞—Ç—É—Å: {response.status_code}')
print(f'–î–ª–∏–Ω–∞: {len(response.content)} –±–∞–π—Ç')
if len(response.content) > 0:
    print('–ü–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤:')
    print(response.content[:300].decode('utf-8'))
"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤.** –ü–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã `HomeView` –Ω–∞ –ø—Ä–æ—Å—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å!

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... echo -e "\\n=== –¢–µ—Å—Ç 3: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è) ===" curl -s "http://localhost:8000/" | head -5 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç" echo -e "\\n=== –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫) ===" tail -20 /tmp/server.log kill $SERVER\_PID 2>/dev/null zsh: command not found: # \[1\] 88166 === –¢–µ—Å—Ç 1: –ü—Ä—è–º–æ–π HTML (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ–≥–¥–∞) === <!DOCTYPE html><html><body><h1>–ü–†–Ø–ú–û–ô HTML</h1><p>–¢–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç</p></body></html> –î–ª–∏–Ω–∞: 99 –±–∞–π—Ç === –¢–µ—Å—Ç 2: –†—É—á–Ω–æ–π —à–∞–±–ª–æ–Ω (–ø—Ä–æ—Å—Ç–æ–π) === <!DOCTYPE html> <html> <body> <h1>–†—É—á–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥</h1> <p>–°—Ç–∞—Ç–µ–π: 2</p> <p>test-auto-import2</p> <p>–¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞</p> –î–ª–∏–Ω–∞: 281 –±–∞–π—Ç === –¢–µ—Å—Ç 3: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è) === –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç === –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫) === Watching for file changes with StatReloader \[11/Dec/2025 09:27:24\] "GET /test-simple/ HTTP/1.1" 200 99 \[11/Dec/2025 09:27:24\] "GET /test-simple/ HTTP/1.1" 200 99 \[11/Dec/2025 09:27:24\] "GET /test-template/ HTTP/1.1" 200 281 \[11/Dec/2025 09:27:24\] "GET /test-template/ HTTP/1.1" 200 281 \[11/Dec/2025 09:27:24\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 09:27:24\] "GET / HTTP/1.1" 200 0 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % \[1\] + done python manage.py runserver > /tmp/server.log 2>&1 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... 'articles': articles, 'object\_list': articles, 'is\_paginated': False, } context.update(sidebar\_context(request)) return render(request, 'blog/home.html', context) EOF zsh: command not found: # (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... 'object\_list': articles, 'category': category, 'is\_paginated': False, } context.update(sidebar\_context(request)) return render(request, 'blog/category\_detail.html', context) EOF zsh: command not found: # 60:class HomeView(SimpleListView, ListView): zsh: command not found: # (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... path('categories/', views.category\_list\_view, name='category\_list'), path('categories/<slug:slug>/', views.category\_detail\_view, name='category\_detail'), # RSS –∏ Atom —Ñ–∏–¥—ã path('feed/rss/', LatestArticlesFeed(), name='articles\_rss\_feed'), path('feed/atom/', LatestArticlesAtomFeed(), name='articles\_atom\_feed'), \] EOF zsh: command not found: # (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... # –¢–µ—Å—Ç–∏—Ä—É–µ–º echo "=== –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ===" curl -s "http://localhost:8000/" | head -10 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç" echo -e "\\n=== –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π ===" curl -s "http://localhost:8000/articles/" | head -5 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/articles/" | wc -c) –±–∞–π—Ç" zsh: command not found: # –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: 0 zsh: command not found: # \[1\] 88385 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 11, 2025 - 09:29:41 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. zsh: command not found: # === –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã === \[11/Dec/2025 09:29:42\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 09:29:42\] "GET / HTTP/1.1" 200 0 –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç === –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π === \[11/Dec/2025 09:29:42\] "GET /articles/ HTTP/1.1" 200 12362 <!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> \[11/Dec/2025 09:29:42\] "GET /articles/ HTTP/1.1" 200 12362 –î–ª–∏–Ω–∞: 12362 –±–∞–π—Ç (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % \[11/Dec/2025 09:29:46\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 09:29:47\] "GET / HTTP/1.1" 200 0

**–û—Ç–ª–∏—á–Ω–æ! –ü—Ä–æ–≥—Ä–µ—Å—Å –µ—Å—Ç—å!**

‚úÖ **–°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç** (12362 –±–∞–π—Ç–∞) ‚Äî —ç—Ç–æ –æ–≥—Ä–æ–º–Ω—ã–π —à–∞–≥ –≤–ø–µ—Ä–µ–¥!  
‚ùå **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–∞—è** (0 –±–∞–π—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞**: –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `/articles/` (—Ä–∞–±–æ—Ç–∞–µ—Ç) –∏ `/` (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç) —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞:

1. **–ü—Ä–æ–±–ª–µ–º—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `home_view()`**
2. **–ü—Ä–æ–±–ª–µ–º—É –≤ —à–∞–±–ª–æ–Ω–µ `home.html`**
3. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç URL** (–≤–æ–∑–º–æ–∂–Ω–æ, `/` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥—Ä—É–≥–∏–º view)

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç /:

bash

```
python manage.py shell -c "
from django.urls import resolve
try:
    match = resolve('/')
    print(f'URL / –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è: {match.func.__name__}')
    print(f'–ú–æ–¥—É–ª—å: {match.func.__module__}')
except Exception as e:
    print(f'–û—à–∏–±–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è URL: {e}')
"
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ñ—É–Ω–∫—Ü–∏—é home\_view() –Ω–∞–ø—Ä—è–º—É—é:

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω –ª–∏ URL / –≥–¥–µ-—Ç–æ –µ—â—ë:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º –≤—Å–µ URL patterns
grep -r "path(''" uch/ --include="*.py"
grep -r "path(\"\"" uch/ --include="*.py"
grep -r 'path(""' uch/ --include="*.py"
```

### 4\. –°–æ–∑–¥–∞–¥–∏–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —Ç–µ—Å—Ç–∞:

bash

```
# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç –≤ blog/urls.py
cat >> uch/apps/blog/urls.py << 'EOF'

# –¢–µ—Å—Ç–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
from .views import home_view
urlpatterns += [
    path('home-test/', home_view, name='home_test'),
]
EOF
```

### 5\. –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

echo "=== –¢–µ—Å—Ç /home-test/ (—Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è home_view) ==="
curl -s "http://localhost:8000/home-test/" | head -10
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/home-test/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –¢–µ—Å—Ç / (–æ—Ä–∏–≥–∏–Ω–∞–ª) ==="
curl -s "http://localhost:8000/" | head -5
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

## üîß –ï—Å–ª–∏ /home-test/ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ / ‚Äî –Ω–µ—Ç:

–ó–Ω–∞—á–∏—Ç, **URL `/` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥—Ä—É–≥–∏–º view**. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π `uch/urls.py`:

bash

```
cat uch/urls.py
```

## üéØ –í–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –í uch/urls.py URL / –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω –Ω–µ blog.urls, –∞ —á–µ–º-—Ç–æ –¥—Ä—É–≥–∏–º.

### 6\. –ü—Ä–æ–≤–µ—Ä–∏–º uch/urls.py:

bash

```
# –°–º–æ—Ç—Ä–∏–º —Ç–µ–∫—É—â–∏–π uch/urls.py
cat uch/urls.py
```

## üìã –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ `uch/urls.py`, –∏—Å–ø—Ä–∞–≤–∏–º –µ–≥–æ:

bash

```
# –°–æ–∑–¥–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π uch/urls.py
cat > uch/urls.py << 'EOF'
from django.contrib import admin
from django.urls import path, include
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('uch.apps.blog.urls')),  # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —á–µ—Ä–µ–∑ blog
]

if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
    urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)
EOF
```

## üöÄ –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

echo "=== –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ==="
curl -s "http://localhost:8000/" | head -15
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π ==="
curl -s "http://localhost:8000/articles/" | grep -c "DOCTYPE html"
echo "–°—Ç–∞—Ç—É—Å —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π: $? (0 = —Å–æ–¥–µ—Ä–∂–∏—Ç HTML)"
```

**–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –∏–∑ –ø—É–Ω–∫—Ç–∞ 2 (–ø—Ä—è–º–æ–π —Ç–µ—Å—Ç `home_view`).** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è —Å–∞–º–∞ –ø–æ —Å–µ–±–µ.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... from django.urls import resolve try: match = resolve('/') print(f'URL / –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è: {match.func.\_\_name\_\_}') print(f'–ú–æ–¥—É–ª—å: {match.func.\_\_module\_\_}') except Exception as e: print(f'–û—à–∏–±–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è URL: {e}') " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media URL / –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è: home\_view –ú–æ–¥—É–ª—å: uch.apps.blog.views (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... print(f'sidebar\_context –≤–µ—Ä–Ω—É–ª: {len(context\[\\"blog\_categories\\"\])} –∫–∞—Ç–µ–≥–æ—Ä–∏–π, {len(context\[\\"blog\_recent\_articles\\"\])} —Å—Ç–∞—Ç–µ–π') except Exception as e: print(f'‚ùå –û—à–∏–±–∫–∞ –≤ home\_view: {type(e).\_\_name\_\_}') import traceback traceback.print\_exc() " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media home\_view –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: —Å—Ç–∞—Ç—É—Å 200 –¢–∏–ø: HttpResponse –î–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞: 0 –±–∞–π—Ç ‚ö†Ô∏è –ö–æ–Ω—Ç–µ–Ω—Ç –ø—É—Å—Ç–æ–π! –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç home\_view –±–µ–∑ render... –°—Ç–∞—Ç–µ–π –≤ –±–∞–∑–µ: 7 ‚ùå –û—à–∏–±–∫–∞ –≤ home\_view: ModuleNotFoundError Traceback (most recent call last): File "<string>", line 25, in <module> ModuleNotFoundError: No module named 'django.core.management.commands.views' (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % # –ü—Ä–æ–≤–µ—Ä–∏–º –≤—Å–µ URL patterns grep -r "path(''" uch/ --include="\*.py" grep -r "path(\\"\\"" uch/ --include="\*.py" grep -r 'path(""' uch/ --include="\*.py" zsh: command not found: # uch/urls.py: path('', include('uch.apps.blog.urls')), uch/apps/blog/urls.py: path('', views.home\_view, name='home'), (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... cat >> uch/apps/blog/urls.py << 'EOF' # –¢–µ—Å—Ç–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ from.views import home\_view urlpatterns += \[ path('home-test/', home\_view, name='home\_test'), \] EOF zsh: command not found: # (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % /Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/urls.py changed, reloading. ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 11, 2025 - 09:31:45 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. ^C (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... echo "=== –¢–µ—Å—Ç /home-test/ (—Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è home\_view) ===" curl -s "http://localhost:8000/home-test/" | head -10 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/home-test/" | wc -c) –±–∞–π—Ç" echo -e "\\n=== –¢–µ—Å—Ç / (–æ—Ä–∏–≥–∏–Ω–∞–ª) ===" curl -s "http://localhost:8000/" | head -5 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç" zsh: command not found: # \[2\] 88636 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). Error: That port is already in use. \[2\] + exit 1 python manage.py runserver === –¢–µ—Å—Ç /home-test/ (—Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è home\_view) === \[11/Dec/2025 09:31:58\] "GET /home-test/ HTTP/1.1" 200 0 \[11/Dec/2025 09:31:58\] "GET /home-test/ HTTP/1.1" 200 0 –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç === –¢–µ—Å—Ç / (–æ—Ä–∏–≥–∏–Ω–∞–ª) === \[11/Dec/2025 09:31:58\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 09:31:58\] "GET / HTTP/1.1" 200 0 –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç

**–ö–ª—é—á–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –§—É–Ω–∫—Ü–∏—è `home_view` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π `HttpResponse` (0 –±–∞–π—Ç), —Ö–æ—Ç—è –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å (7 —Å—Ç–∞—Ç–µ–π).

**–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏—è `home_view` –≤—ã–∑—ã–≤–∞–µ—Ç `render()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞:

1. **–û—à–∏–±–∫–∏ –≤ —à–∞–±–ª–æ–Ω–µ `home.html`**, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
2. **–û—à–∏–±–∫–∏ –≤ `sidebar_context`**, –∫–æ—Ç–æ—Ä–∞—è –ª–æ–º–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
3. **–ü—Ä–æ–±–ª–µ–º—ã —Å `render()`** –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —à–∞–±–ª–æ–Ω–∞ home.html:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º —à–∞–±–ª–æ–Ω –Ω–∞ –æ—à–∏–±–∫–∏ –≤—Ä—É—á–Ω—É—é:

bash

```
python manage.py shell -c "
from django.template import Template, TemplateSyntaxError

# –ß–∏—Ç–∞–µ–º —à–∞–±–ª–æ–Ω
with open('uch/apps/blog/templates/blog/home.html', 'r') as f:
    template_content = f.read()

# –ü—Ä–æ–±—É–µ–º —Å–æ–∑–¥–∞—Ç—å Template
try:
    t = Template(template_content)
    print('‚úÖ –®–∞–±–ª–æ–Ω home.html —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω')
    
    # –ü—Ä–æ–±—É–µ–º –µ–≥–æ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
    from django.template import Context
    context = Context({
        'articles': [],
        'object_list': [],
        'is_paginated': False,
    })
    result = t.render(context)
    print(f'‚úÖ –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è: {len(result)} —Å–∏–º–≤–æ–ª–æ–≤')
    if len(result) > 0:
        print('–ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤:')
        print(result[:200])
    
except TemplateSyntaxError as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞: {e}')
    print(f'–°—Ç—Ä–æ–∫–∞ —Å –æ—à–∏–±–∫–æ–π: {e.template_debug_info}')
except Exception as e:
    print(f'‚ùå –î—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞: {type(e).__name__} - {e}')
    import traceback
    traceback.print_exc()
"
```

### 2\. –°–æ–∑–¥–∞–¥–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—Ç–∞—é—â–∏–π —à–∞–±–ª–æ–Ω:

bash

```
# –°–æ–∑–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—á–∏–π —à–∞–±–ª–æ–Ω
cat > /tmp/minimal_home.html << 'EOF'
MINIMAL TEMPLATE CONTENT WITHOUT ANY TAGS
EOF

# –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —à–∞–±–ª–æ–Ω–æ–º
cat > /tmp/test_minimal_view.py << 'EOF'
from django.http import HttpResponse
from django.template.loader import render_to_string

def test_minimal_view(request):
    html = render_to_string('/tmp/minimal_home.html', {})
    return HttpResponse(html)
EOF

python manage.py shell -c "
exec(open('/tmp/test_minimal_view.py').read())
from django.test import RequestFactory

rf = RequestFactory()
request = rf.get('/')
response = test_minimal_view(request)
print(f'–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω: {len(response.content)} –±–∞–π—Ç')
print(response.content.decode('utf-8'))
"
```

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ñ—É–Ω–∫—Ü–∏—é render() –Ω–∞–ø—Ä—è–º—É—é:

bash

```
python manage.py shell -c "
from django.shortcuts import render
from django.test import RequestFactory
from uch.apps.blog.models import Article

rf = RequestFactory()
request = rf.get('/')

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
context = {
    'articles': Article.objects.filter(status='published')[:2],
    'request': request,
}

try:
    # –ü—Ä–æ–±—É–µ–º render –Ω–∞–ø—Ä—è–º—É—é
    response = render(request, 'blog/home.html', context)
    print(f'–ü—Ä—è–º–æ–π render: —Å—Ç–∞—Ç—É—Å {response.status_code}, —Ä–∞–∑–º–µ—Ä {len(response.content)} –±–∞–π—Ç')
    
    if len(response.content) == 0:
        print('‚ö†Ô∏è render –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç!')
        
        # –ü–æ–ø—Ä–æ–±—É–µ–º –±–µ–∑ —à–∞–±–ª–æ–Ω–∞
        from django.http import HttpResponse
        test_response = HttpResponse('TEST DIRECT CONTENT')
        print(f'–ü—Ä—è–º–æ–π HttpResponse: {len(test_response.content)} –±–∞–π—Ç')
        
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ –≤ render: {type(e).__name__}')
    import traceback
    traceback.print_exc()
"
```

## üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é home\_view:

### 4\. –ü–µ—Ä–µ–ø–∏—à–µ–º home\_view —Å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º:

–ù–∏–∫–∞–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ù–∞—á–∏–Ω–∞–µ–º —Ö–æ–¥–∏—Ç—å –ø–æ –∫—Ä—É–≥—É. –ü—Ä–∞–≤–∏–º –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –∑–∞–±—ã–≤–∞–µ–º –ø—Ä–æ –¥—Ä—É–≥–∏–µ. –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –≤ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ? –ö–∞–∫—É—é –¥–æ—Ä–∞–±–æ—Ç–∫—É –º—ã —Å–µ–π—á–∞—Å –¥–µ–ª–∞–µ–º, –∫–æ—Ç–æ—Ä–∞—è —Å–ª–æ–º–∞–ª–∞ –≤–µ—Å—å —Å–∞–π—Ç, —á—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫ MVP?

–í—ã –ø—Ä–∞–≤—ã ‚Äî –º—ã –∑–∞—à–ª–∏ –≤ —Ç—É–ø–∏–∫. –ü—Ä–æ–±–ª–µ–º–∞: **–º—ã –ø—ã—Ç–∞–ª–∏—Å—å –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ RSS, –Ω–æ —Å–ª–æ–º–∞–ª–∏ –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:

- ‚úÖ –ê–¥–º–∏–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `/articles/` —Ä–∞–±–æ—Ç–∞–µ—Ç (12362 –±–∞–π—Ç–∞)
- ‚ùå –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (0 –±–∞–π—Ç)
- ‚ùå –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã, –Ω–æ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ RSS —Ñ–∏–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ò–º–ø–æ—Ä—Ç –∏–∑ Obsidian —Ä–∞–±–æ—Ç–∞–µ—Ç

## üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

### –®–∞–≥ 1: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—á—É—é –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

bash

```
# 1. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ü–†–û–°–¢–£–Æ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é views.py (–±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤)
cat > uch/apps/blog/views.py << 'EOF'
from django.shortcuts import render, get_object_or_404
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from .models import Article, Category

# Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
def sidebar_context(request):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)"""
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
    categories = Category.objects.annotate(
        article_count=Count('article', 
            filter=Q(article__status='published')
        )
    ).filter(article_count__gt=0)
    
    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
    recent_articles = Article.objects.filter(
        status='published'
    ).order_by('-created_at')[:5]
    
    return {
        'blog_categories': categories,
        'blog_recent_articles': recent_articles,
    }

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –ö–õ–ê–°–° (–∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–ª–æ)
class HomeView(ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 5
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        # –í–ê–ñ–ù–û: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º object_list –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º super()
        self.object_list = self.get_queryset()
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
class ArticleListView(ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        queryset = Article.objects.filter(status='published').order_by('-created_at')
        
        # –ü–æ–∏—Å–∫
        search_query = self.request.GET.get('search', '')
        if search_query:
            queryset = queryset.filter(
                Q(title__icontains=search_query) | 
                Q(content__icontains=search_query)
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥—É
        tag = self.request.GET.get('tag', '')
        if tag:
            queryset = queryset.filter(tags__name__in=[tag])
        
        return queryset
    
    def get_context_data(self, **kwargs):
        self.object_list = self.get_queryset()
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['search_query'] = self.request.GET.get('search', '')
        return context

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ (–ë–ï–ó –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞)
class ArticleDetailView(DetailView):
    template_name = 'blog/article_detail.html'
    model = Article
    context_object_name = 'article'
    
    def get_queryset(self):
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
        return Article.objects.filter(status='published')
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è)
        article = self.object
        context['previous_article'] = Article.objects.filter(
            status='published',
            created_at__lt=article.created_at
        ).order_by('-created_at').first()
        
        context['next_article'] = Article.objects.filter(
            status='published',
            created_at__gt=article.created_at
        ).order_by('created_at').first()
        
        return context

# –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
class CategoryListView(ListView):
    template_name = 'blog/category_list.html'
    model = Category
    context_object_name = 'categories'
    
    def get_queryset(self):
        return Category.objects.annotate(
            article_count=Count('article', 
                filter=Q(article__status='published')
            )
        ).filter(article_count__gt=0).order_by('name')
    
    def get_context_data(self, **kwargs):
        self.object_list = self.get_queryset()
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        return context

# –°—Ç–∞—Ç—å–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
class CategoryDetailView(ListView):
    template_name = 'blog/category_detail.html'
    model = Article
    context_object_name = 'articles'
    paginate_by = 10
    
    def get_queryset(self):
        category_slug = self.kwargs['slug']
        self.category = get_object_or_404(Category, slug=category_slug)
        return Article.objects.filter(
            category=self.category,
            status='published'
        ).order_by('-created_at')
    
    def get_context_data(self, **kwargs):
        self.object_list = self.get_queryset()
        context = super().get_context_data(**kwargs)
        context.update(sidebar_context(self.request))
        context['category'] = self.category
        return context
EOF
```

### –®–∞–≥ 2: –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º URLs

bash

```
# 2. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ—Å—Ç—ã–µ URLs
cat > uch/apps/blog/urls.py << 'EOF'
from django.urls import path
from . import views
from .feeds import LatestArticlesFeed, LatestArticlesAtomFeed

app_name = 'blog'

urlpatterns = [
    path('', views.HomeView.as_view(), name='home'),
    path('articles/', views.ArticleListView.as_view(), name='article_list'),
    path('articles/<str:slug>/', views.ArticleDetailView.as_view(), name='article_detail'),
    path('categories/', views.CategoryListView.as_view(), name='category_list'),
    path('categories/<slug:slug>/', views.CategoryDetailView.as_view(), name='category_detail'),
    # RSS –∏ Atom —Ñ–∏–¥—ã (—É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
    path('feed/rss/', LatestArticlesFeed(), name='articles_rss_feed'),
    path('feed/atom/', LatestArticlesAtomFeed(), name='articles_atom_feed'),
]
EOF
```

### –®–∞–≥ 3: –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω

bash

```
# 3. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π base.html
cat > templates/base.html << 'EOF'
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Universal Creative Hub{% endblock %}</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/style.css?v=1">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">UCH v0.3</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">–ì–ª–∞–≤–Ω–∞—è</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'blog:article_list' %}">–°—Ç–∞—Ç—å–∏</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'blog:category_list' %}">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container mt-4">
        <div class="row">
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
            <main class="col-md-8">
                {% block content %}{% endblock %}
            </main>
            
            <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
            <aside class="col-md-4">
                {% include 'blog/sidebar.html' %}
            </aside>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
EOF
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

bash

```
# 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python -m py_compile uch/apps/blog/views.py uch/apps/blog/urls.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: $?"

# 5. –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 3

echo "=== –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ==="
curl -s "http://localhost:8000/" | head -5
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π ==="
curl -s "http://localhost:8000/articles/" | head -3
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/articles/" | wc -c) –±–∞–π—Ç"
```

## üéØ –ß—Ç–æ —Å–ª–æ–º–∞–ª–∏ –∏ –∫–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—ç—Ç–∞–ø–Ω–æ:

### –§–∞–∑–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É):

1. **‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É** (—Å–µ–π—á–∞—Å –¥–µ–ª–∞–µ–º)
2. **‚úÖ RSS —Ñ–∏–¥—ã** (—É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
3. **‚è≥ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** (–¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è)
4. **‚è≥ –ü–∞–≥–∏–Ω–∞—Ü–∏—è** (—É–∂–µ –≤ –∫–æ–¥–µ)
5. **‚è≥ –ü–æ–∏—Å–∫** (—É–∂–µ –≤ –∫–æ–¥–µ)

### –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ==="
echo "1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: $(curl -s -o /dev/null -w '%{http_code}' http://localhost:8000/)"
echo "2. –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π: $(curl -s -o /dev/null -w '%{http_code}' http://localhost:8000/articles/)"
echo "3. RSS —Ñ–∏–¥: $(curl -s -o /dev/null -w '%{http_code}' http://localhost:8000/feed/rss/)"
echo "4. Atom —Ñ–∏–¥: $(curl -s -o /dev/null -w '%{http_code}' http://localhost:8000/feed/atom/)"
```

## üìã –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –õ–∏–Ω–∏–∏ –ê:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
| --- | --- | --- |
| –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | ‚è≥ | –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º |
| –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç (12362 –±–∞–π—Ç–∞) |
| –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç—å—è | ‚è≥ | –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ |
| –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ | ‚è≥ | –î–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å |
| RSS/Atom | ‚úÖ | –†–∞–±–æ—Ç–∞—é—Ç |
| –ü–æ–∏—Å–∫ | ‚è≥ | –í –∫–æ–¥–µ –µ—Å—Ç—å |
| –ü–∞–≥–∏–Ω–∞—Ü–∏—è | ‚è≥ | –í –∫–æ–¥–µ –µ—Å—Ç—å |
| –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ | ‚ùå | –û—Ç–ª–æ–∂–∏—Ç—å |

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ —à–∞–≥–∏ 1-4 –∏ –ø–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.** –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–∞–±–æ—á–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é, –∏ –º—ã —Å–º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ –æ–¥–Ω–æ–º—É, —Ç–µ—Å—Ç–∏—Ä—É—è –∫–∞–∂–¥—ã–π —à–∞–≥.

1 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % /Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/views.py changed, reloading. ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... Exception in thread django-main-thread: Traceback (most recent call last): File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/threading.py", line 932, in \_bootstrap\_inner self.run() File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/threading.py", line 870, in run self.\_target(\*self.\_args, \*\*self.\_kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/utils/autoreload.py", line 64, in wrapper fn(\*args, \*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/runserver.py", line 133, in inner\_run self.check(display\_num\_errors=True) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 485, in check all\_issues = checks.run\_checks( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/checks/registry.py", line 88, in run\_checks new\_errors = check(app\_configs=app\_configs, databases=databases) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/checks/urls.py", line 14, in check\_url\_config return check\_resolver(resolver) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/checks/urls.py", line 24, in check\_resolver return check\_method() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/urls/resolvers.py", line 494, in check for pattern in self.url\_patterns: File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/utils/functional.py", line 57, in \_\_get\_\_ res = instance.\_\_dict\_\_\[self.name\] = self.func(instance) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/urls/resolvers.py", line 715, in url\_patterns patterns = getattr(self.urlconf\_module, "urlpatterns", self.urlconf\_module) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/utils/functional.py", line 57, in \_\_get\_\_ res = instance.\_\_dict\_\_\[self.name\] = self.func(instance) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/urls/resolvers.py", line 708, in urlconf\_module return import\_module(self.urlconf\_name) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/importlib/\_\_init\_\_.py", line 127, in import\_module return \_bootstrap.\_gcd\_import(name\[level:\], package, level) File "<frozen importlib.\_bootstrap>", line 1014, in \_gcd\_import File "<frozen importlib.\_bootstrap>", line 991, in \_find\_and\_load File "<frozen importlib.\_bootstrap>", line 975, in \_find\_and\_load\_unlocked File "<frozen importlib.\_bootstrap>", line 671, in \_load\_unlocked File "<frozen importlib.\_bootstrap\_external>", line 783, in exec\_module File "<frozen importlib.\_bootstrap>", line 219, in \_call\_with\_frames\_removed File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/urls.py", line 36, in <module> path('', include('uch.apps.blog.urls')), File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/urls/conf.py", line 38, in include urlconf\_module = import\_module(urlconf\_module) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/importlib/\_\_init\_\_.py", line 127, in import\_module return \_bootstrap.\_gcd\_import(name\[level:\], package, level) File "<frozen importlib.\_bootstrap>", line 1014, in \_gcd\_import File "<frozen importlib.\_bootstrap>", line 991, in \_find\_and\_load File "<frozen importlib.\_bootstrap>", line 975, in \_find\_and\_load\_unlocked File "<frozen importlib.\_bootstrap>", line 671, in \_load\_unlocked File "<frozen importlib.\_bootstrap\_external>", line 783, in exec\_module File "<frozen importlib.\_bootstrap>", line 219, in \_call\_with\_frames\_removed File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/urls.py", line 8, in <module> path('', views.home\_view, name='home'), AttributeError: module 'uch.apps.blog.views' has no attribute 'home\_view' –≠—Ç–æ –Ω–æ—Ä–º?

**–ù–µ—Ç, —ç—Ç–æ –Ω–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.** –û—à–∏–±–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –º—ã —Å–æ–∑–¥–∞–ª–∏ `views.py` —Å –∫–ª–∞—Å—Å–æ–º `HomeView`, –Ω–æ –≤ `urls.py` –ø—ã—Ç–∞–µ–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `home_view`, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç.

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É `views.py` –∏ `urls.py`. –í `views.py` —É –Ω–∞—Å –∫–ª–∞—Å—Å `HomeView`, –∞ –≤ `urls.py` –º—ã –ø—ã—Ç–∞–µ–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `home_view`.

## üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å urls.py —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å HomeView

bash

```
# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º urls.py - –∏—Å–ø–æ–ª—å–∑—É–µ–º HomeView.as_view()
sed -i "s/views\.home_view/views\.HomeView\.as_view()/" uch/apps/blog/urls.py

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
grep -n "path(''," uch/apps/blog/urls.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é home\_view –≤ views.py

bash

```
# –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é home_view –≤ –Ω–∞—á–∞–ª–æ views.py
cat > /tmp/add_homeview_func.py << 'EOF'
# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –§–£–ù–ö–¶–ò–Ø (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å urls.py)
def home_view(request):
    """–§—É–Ω–∫—Ü–∏—è-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è HomeView"""
    return HomeView.as_view()(request)
EOF

# –í—Å—Ç–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ views.py
sed -i "7r /tmp/add_homeview_func.py" uch/apps/blog/views.py
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç:

bash

```
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python -m py_compile uch/apps/blog/views.py uch/apps/blog/urls.py
echo "–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: $?"

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
python manage.py runserver &
sleep 3

# –¢–µ—Å—Ç–∏—Ä—É–µ–º
curl -s "http://localhost:8000/" | head -5
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"
```

## üìã –†–µ–∫–æ–º–µ–Ω–¥—É—é –í–∞—Ä–∏–∞–Ω—Ç 1 (–∏—Å–ø—Ä–∞–≤–∏—Ç—å urls.py):

bash

```
# –í—ã–ø–æ–ª–Ω—è–µ–º –í–∞—Ä–∏–∞–Ω—Ç 1
sed -i "s/path('', views.home_view, name='home'),/path('', views.HomeView.as_view(), name='home'),/" uch/apps/blog/urls.py

# –ü—Ä–æ–≤–µ—Ä—è–µ–º
echo "=== –¢–µ–∫—É—â–∏–π urls.py ==="
grep -A2 -B2 "path(''," uch/apps/blog/urls.py
```

## üéØ –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—à–∏–±–∫–∞:

–í–µ—Ä–æ—è—Ç–Ω–æ, –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ `views.py`. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ views.py
echo "=== –ü–µ—Ä–≤—ã–µ 30 —Å—Ç—Ä–æ–∫ views.py ==="
head -30 uch/apps/blog/views.py

echo -e "\n=== –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞–ª–∏—á–∏–µ HomeView ==="
grep -n "class HomeView" uch/apps/blog/views.py
```

## üîÑ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç:

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è, —Å–æ–∑–¥–∞–¥–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é:

bash

```
# –°–æ–∑–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é views.py
cat > uch/apps/blog/views.py << 'EOF'
from django.shortcuts import render
from django.views.generic import ListView
from .models import Article, Category
from django.db.models import Count, Q

# –ü—Ä–æ—Å—Ç–µ–π—à–∞—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
def home_view(request):
    articles = Article.objects.filter(status='published').order_by('-created_at')[:10]
    return render(request, 'blog/home.html', {'articles': articles})

# –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
class ArticleListView(ListView):
    model = Article
    template_name = 'blog/article_list.html'
    context_object_name = 'articles'
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
EOF

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π urls.py
cat > uch/apps/blog/urls.py << 'EOF'
from django.urls import path
from . import views

app_name = 'blog'

urlpatterns = [
    path('', views.home_view, name='home'),
    path('articles/', views.ArticleListView.as_view(), name='article_list'),
]
EOF
```

**–ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ `urls.py`.** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.

kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... echo "=== –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ===" curl -s "http://localhost:8000/" | head -5 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç" echo -e "\\n=== –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π ===" curl -s "http://localhost:8000/articles/" | head -3 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/articles/" | wc -c) –±–∞–π—Ç" zsh: command not found: # –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: 0 zsh: command not found: # \[1\] 89542 Traceback (most recent call last): File "manage.py", line 11, in main from django.core.management import execute\_from\_command\_line ModuleNotFoundError: No module named 'django' The above exception was the direct cause of the following exception: Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 13, in main raise ImportError( ImportError: Couldn't import Django. Are you sure it's installed and available on your PYTHONPATH environment variable? Did you forget to activate a virtual environment? \[1\] + exit 1 /usr/bin/python3 manage.py runserver === –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã === –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç === –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π === –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç

**–ü—Ä–æ–±–ª–µ–º–∞**: –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ. –ö–æ–º–∞–Ω–¥–∞ `python` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π Python (`/usr/bin/python3`), –∞ –Ω–µ Python –∏–∑ `venv`.

## üîß –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º:

bash

```
# 1. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º venv
source venv/bin/activate

# 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ python –∏–∑ venv
which python
echo "Python –ø—É—Ç—å: $(which python)"

# 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º Django
python -c "import django; print(f'Django –≤–µ—Ä—Å–∏—è: {django.__version__}')"

# 4. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º python
python manage.py runserver &
SERVER_PID=$!
sleep 4

# 5. –¢–µ—Å—Ç–∏—Ä—É–µ–º
echo "=== –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ==="
curl -s "http://localhost:8000/" | head -5
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π ==="
curl -s "http://localhost:8000/articles/" | head -3
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/articles/" | wc -c) –±–∞–π—Ç"

# 6. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä
kill $SERVER_PID 2>/dev/null
```

## üìã –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –ø—Ä–æ–±–ª–µ–º–∞ —Å Django:

bash

```
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
pip list | grep -i django

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—É—Ç—å Python
echo "PYTHONPATH: $PYTHONPATH"
echo "VIRTUAL_ENV: $VIRTUAL_ENV"
```

## üéØ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Ç–µ—Å—Ç:

bash

```
# –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Ç–µ—Å—Ç Django
cat > /tmp/test_django.py << 'EOF'
import django
import sys
print(f"Python: {sys.version}")
print(f"Django: {django.__version__}")
print(f"–ü—É—Ç—å Django: {django.__file__}")
EOF

python /tmp/test_django.py
```

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑—É–µ–º make run (–µ—Å–ª–∏ –µ—Å—Ç—å Makefile):

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º Makefile
cat Makefile

# –ó–∞–ø—É—Å—Ç–∏–º —á–µ—Ä–µ–∑ make
make run
```

**–ü–æ–∫–∞–∂–∏ –≤—ã–≤–æ–¥ —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥, –æ—Å–æ–±–µ–Ω–Ω–æ —à–∞–≥–æ–≤ 1-3.** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ Django.

—Ç–µ–ø–µ—Ä—å –∏ –∞–¥–º–∏–Ω–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % which python echo "Python –ø—É—Ç—å: $(which python)" /Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/bin/python Python –ø—É—Ç—å: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/bin/python (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python -c "import django; print(f'Django –≤–µ—Ä—Å–∏—è: {django.\_\_version\_\_}')" Django –≤–µ—Ä—Å–∏—è: 4.2.7 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % python manage.py runserver & SERVER\_PID=$! sleep 4 \[1\] 90523 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... System check identified no issues (0 silenced). December 11, 2025 - 10:00:09 Django version 4.2.7, using settings 'uch.settings' Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C. (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç" echo -e "\\n=== –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π ===" curl -s "http://localhost:8000/articles/" | head -3 echo -e "\\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/articles/" | wc -c) –±–∞–π—Ç" # 6. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä kill $SERVER\_PID 2>/dev/null === –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã === \[11/Dec/2025 10:00:17\] "GET / HTTP/1.1" 200 0 \[11/Dec/2025 10:00:17\] "GET / HTTP/1.1" 200 0 –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç === –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π === \[11/Dec/2025 10:00:17\] "GET /articles/ HTTP/1.1" 200 12139 <!DOCTYPE html> <html lang="ru"> <head> \[11/Dec/2025 10:00:17\] "GET /articles/ HTTP/1.1" 200 12139 –î–ª–∏–Ω–∞: 12139 –±–∞–π—Ç zsh: command not found: # (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % \[1\] + done python manage.py runserver

**–°–∏—Ç—É–∞—Ü–∏—è**:  
‚úÖ **–°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç** (12139 –±–∞–π—Ç)  
‚ùå **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** (0 –±–∞–π—Ç)  
‚ùå **–ê–¥–º–∏–Ω–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** (–ø—Ä–æ–≤–µ—Ä–∏–º)

**–ü—Ä–æ–±–ª–µ–º–∞**: –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `/articles/` (—Ä–∞–±–æ—Ç–∞–µ—Ç) –∏ `/` (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç) –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **–ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `home_view()` –∏–ª–∏ —à–∞–±–ª–æ–Ω–µ `home.html`**.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

### 1\. –ü—Ä–æ–≤–µ—Ä–∏–º –∞–¥–º–∏–Ω–∫—É:

bash

```
# –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞–¥–º–∏–Ω–∫—É
curl -s -o /dev/null -w "–ê–¥–º–∏–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/admin/
```

### 2\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ñ—É–Ω–∫—Ü–∏—é home\_view() –Ω–∞–ø—Ä—è–º—É—é:

bash

```
python manage.py shell -c "
from django.test import RequestFactory
from uch.apps.blog.views import home_view

rf = RequestFactory()
request = rf.get('/')

try:
    response = home_view(request)
    print(f'home_view —Å—Ç–∞—Ç—É—Å: {response.status_code}')
    print(f'–¢–∏–ø –æ—Ç–≤–µ—Ç–∞: {type(response).__name__}')
    print(f'–î–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞: {len(response.content)} –±–∞–π—Ç')
    
    if len(response.content) == 0:
        print('‚ö†Ô∏è –ö–æ–Ω—Ç–µ–Ω—Ç –ø—É—Å—Ç–æ–π! –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ...')
        
        # –ü—Ä–æ–≤–µ—Ä–∏–º –¥–∞–Ω–Ω—ã–µ
        from uch.apps.blog.models import Article
        articles = Article.objects.filter(status='published')
        print(f'–°—Ç–∞—Ç–µ–π –≤ –±–∞–∑–µ: {articles.count()}')
        
        # –ü—Ä–æ–≤–µ—Ä–∏–º —à–∞–±–ª–æ–Ω
        from django.template.loader import render_to_string
        try:
            html = render_to_string('blog/home.html', {'articles': articles[:3]})
            print(f'–ü—Ä—è–º–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —à–∞–±–ª–æ–Ω–∞: {len(html)} –±–∞–π—Ç')
            if len(html) > 0:
                print('‚úÖ –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è! –ü—Ä–æ–±–ª–µ–º–∞ –≤ home_view')
            else:
                print('‚ùå –®–∞–±–ª–æ–Ω —Ç–æ–∂–µ –ø—É—Å—Ç–æ–π! –ü—Ä–æ–±–ª–µ–º–∞ –≤ —à–∞–±–ª–æ–Ω–µ')
        except Exception as e:
            print(f'‚ùå –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: {e}')
            
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ –≤ home_view: {type(e).__name__}')
    import traceback
    traceback.print_exc()
"
```

### 3\. –ü—Ä–æ–≤–µ—Ä–∏–º —Ç–µ–∫—É—â–∏–µ views –∏ urls:

bash

```
echo "=== –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è home_view ==="
grep -n "def home_view" uch/apps/blog/views.py -A 10

echo -e "\n=== –¢–µ–∫—É—â–∏–π URL –¥–ª—è –≥–ª–∞–≤–Ω–æ–π ==="
grep -n "path(''," uch/apps/blog/urls.py
```

### 4\. –°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç–æ–≤—ã–π view –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

bash

```
# –î–æ–±–∞–≤–∏–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π view
cat >> uch/apps/blog/urls.py << 'EOF'

# –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã
from django.http import HttpResponse
def debug_view(request):
    return HttpResponse('DEBUG: –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç')

def debug_template_view(request):
    from django.template.loader import render_to_string
    html = render_to_string('blog/home.html', {'articles': []})
    return HttpResponse(f'DEBUG: –®–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç {len(html)} –±–∞–π—Ç')

urlpatterns += [
    path('debug/', debug_view, name='debug'),
    path('debug-template/', debug_template_view, name='debug_template'),
]
EOF
```

## üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º home\_view:

### 5\. –ü–µ—Ä–µ–ø–∏—à–µ–º home\_view –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–µ–π:

bash

```
# –ó–∞–º–µ–Ω—è–µ–º home_view
cat > /tmp/fixed_homeview.py << 'EOF'
def home_view(request):
    """–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—á–∞—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"""
    from uch.apps.blog.models import Article
    from django.template.loader import render_to_string
    from django.http import HttpResponse
    
    try:
        # 1. –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ
        articles = Article.objects.filter(status='published').order_by('-created_at')[:10]
        print(f'DEBUG: –ù–∞–π–¥–µ–Ω–æ {len(articles)} —Å—Ç–∞—Ç–µ–π')
        
        # 2. –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
        context = {
            'articles': articles,
            'test_var': '–¢–µ—Å—Ç–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è',
        }
        
        # 3. –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
        try:
            # –í–∞—Ä–∏–∞–Ω—Ç A: render_to_string
            html = render_to_string('blog/home.html', context)
            print(f'DEBUG: render_to_string –≤–µ—Ä–Ω—É–ª {len(html)} –±–∞–π—Ç')
            
            if len(html) == 0:
                # –í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä—è–º–æ–π HTML
                html = f'<html><body><h1>–ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º</h1><p>–°—Ç–∞—Ç–µ–π: {len(articles)}</p></body></html>'
                print('DEBUG: –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–≤–∞—Ä–∏–π–Ω—ã–π HTML')
            
            return HttpResponse(html)
            
        except Exception as e:
            print(f'DEBUG: –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: {e}')
            return HttpResponse(f'<html><body><h1>–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞</h1><p>{e}</p></body></html>')
            
    except Exception as e:
        print(f'DEBUG: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: {e}')
        return HttpResponse(f'<html><body><h1>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞</h1><p>{e}</p></body></html>')
EOF

# –í—Å—Ç–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ä–æ–π
LINE=$(grep -n "def home_view" uch/apps/blog/views.py | cut -d: -f1)
if [ -n "$LINE" ]; then
    END=$((LINE + 20))
    sed -i "${LINE},${END}d" uch/apps/blog/views.py
    sed -i "${LINE}r /tmp/fixed_homeview.py" uch/apps/blog/views.py
fi
```

## üöÄ –¢–µ—Å—Ç–∏—Ä—É–µ–º:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
pkill -f "python manage.py runserver"
python manage.py runserver &
sleep 4

echo "=== –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ==="
curl -s "http://localhost:8000/" | head -10
echo -e "\n–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç"

echo -e "\n=== –¢–µ—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ ==="
curl -s "http://localhost:8000/debug/"
echo -e "\n"
curl -s "http://localhost:8000/debug-template/"

echo -e "\n=== –¢–µ—Å—Ç –∞–¥–º–∏–Ω–∫–∏ ==="
curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/admin/
```

## üìã –ï—Å–ª–∏ –∞–¥–º–∏–Ω–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

bash

```
# –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ INSTALLED_APPS
grep -n "INSTALLED_APPS" uch/settings.py -A 20 | grep admin

# –ü—Ä–æ–≤–µ—Ä–∏–º URL –∞–¥–º–∏–Ω–∫–∏
grep -n "admin.site.urls" uch/urls.py
```

**–ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤.** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è `home_view` –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ö–æ—Ç—è –±—ã "–ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º" –∏–ª–∏ –æ—à–∏–±–∫—É, —á—Ç–æ –¥–∞—Å—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.

1 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % # –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞–¥–º–∏–Ω–∫—É curl -s -o /dev/null -w "–ê–¥–º–∏–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å: %{http\_code}\\n" http://localhost:8000/admin/ zsh: command not found: # –ê–¥–º–∏–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å: 000 2 venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... except Exception as e: print(f'‚ùå –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: {e}') except Exception as e: print(f'‚ùå –û—à–∏–±–∫–∞ –≤ home\_view: {type(e).\_\_name\_\_}') import traceback traceback.print\_exc() " ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Traceback (most recent call last): File "manage.py", line 22, in <module> main() File "manage.py", line 18, in main execute\_from\_command\_line(sys.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 442, in execute\_from\_command\_line utility.execute() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/\_\_init\_\_.py", line 436, in execute self.fetch\_command(subcommand).run\_from\_argv(self.argv) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 412, in run\_from\_argv self.execute(\*args, \*\*cmd\_options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 458, in execute output = self.handle(\*args, \*\*options) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/shell.py", line 117, in handle exec(options\["command"\], globals()) File "<string>", line 3, in <module> ImportError: cannot import name 'home\_view' from 'uch.apps.blog.views' (/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/views.py) 3 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % echo "=== –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è home\_view ===" grep -n "def home\_view" uch/apps/blog/views.py -A 10 echo -e "\\n=== –¢–µ–∫—É—â–∏–π URL –¥–ª—è –≥–ª–∞–≤–Ω–æ–π ===" grep -n "path(''," uch/apps/blog/urls.py === –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è home\_view === === –¢–µ–∫—É—â–∏–π URL –¥–ª—è –≥–ª–∞–≤–Ω–æ–π === 8: path('', views.HomeView.as\_view(), name='home'),

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!**

1. ‚ùå **–ê–¥–º–∏–Ω–∫–∞ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç** (—Å—Ç–∞—Ç—É—Å 000) ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω
2. ‚ùå **–í `views.py` –Ω–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `home_view`** ‚Äî –º—ã –µ—ë —É–¥–∞–ª–∏–ª–∏
3. ‚úÖ **–í `urls.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `views.HomeView.as_view()`** ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–í—ã–≤–æ–¥**: –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω (–∞–¥–º–∏–Ω–∫–∞ 000), –∏ –º—ã –ø—ã—Ç–∞–µ–º—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é `home_view`.

## üîß –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–±–æ—á–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å

bash

```
# –£–±–∏–≤–∞–µ–º –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f "python manage.py runserver"

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ —Å –ª–æ–≥–∞–º–∏
python manage.py runserver > /tmp/django_server.log 2>&1 &
SERVER_PID=$!
sleep 5

echo "=== –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä ==="
ps aux | grep "python manage.py runserver" | grep -v grep

echo -e "\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫) ==="
head -10 /tmp/django_server.log

echo -e "\n=== –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ==="
curl -s -o /dev/null -w "–ì–ª–∞–≤–Ω–∞—è: %{http_code}, –ê–¥–º–∏–Ω–∫–∞: " http://localhost:8000/
curl -s -o /dev/null -w "%{http_code}\n" http://localhost:8000/admin/
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º views.py

bash

```
echo "=== –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ views.py ==="
head -50 uch/apps/blog/views.py

echo -e "\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ HomeView ==="
grep -n "class HomeView" uch/apps/blog/views.py -A 5
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é views.py

bash

```
# –°–æ–∑–¥–∞–µ–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é
cat > uch/apps/blog/views.py << 'EOF'
from django.shortcuts import render
from django.views.generic import ListView, DetailView
from django.db.models import Count, Q
from .models import Article, Category

# –ü—Ä–æ—Å—Ç–µ–π—à–∏–π HomeView
class HomeView(ListView):
    template_name = 'blog/home.html'
    model = Article
    context_object_name = 'articles'
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')[:10]

# –ü—Ä–æ—Å—Ç–µ–π—à–∏–π ArticleListView (—Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–∞–∫ –º—ã –≤–∏–¥–µ–ª–∏)
class ArticleListView(ListView):
    template_name = 'blog/article_list.html'
    model = Article
    context_object_name = 'articles'
    
    def get_queryset(self):
        return Article.objects.filter(status='published').order_by('-created_at')
EOF

echo "‚úÖ views.py —Å–æ–∑–¥–∞–Ω"
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—è–µ–º urls.py

bash

```
echo "=== –ü—Ä–æ–≤–µ—Ä—è–µ–º urls.py ==="
cat uch/apps/blog/urls.py
```

### –®–∞–≥ 5: –°–æ–∑–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω home.html

bash

```
# –°–æ–∑–¥–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω
cat > uch/apps/blog/templates/blog/home.html << 'EOF'
<!DOCTYPE html>
<html>
<head><title>–ì–ª–∞–≤–Ω–∞—è</title></head>
<body>
<h1>Universal Creative Hub</h1>
<p>–°—Ç–∞—Ç–µ–π: {{ articles|length }}</p>
<ul>
{% for article in articles %}
<li>{{ article.title }}</li>
{% endfor %}
</ul>
</body>
</html>
EOF

echo "‚úÖ home.html —Å–æ–∑–¥–∞–Ω"
```

## üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º:

bash

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
kill $SERVER_PID 2>/dev/null
pkill -f "python manage.py runserver"

python manage.py runserver &
sleep 5

echo "=== –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç ==="
echo "1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:"
curl -s "http://localhost:8000/" | head -10
echo -e "–î–ª–∏–Ω–∞: $(curl -s "http://localhost:8000/" | wc -c) –±–∞–π—Ç\n"

echo "2. –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π:"
curl -s "http://localhost:8000/articles/" | grep -c "DOCTYPE html"
echo "–°–æ–¥–µ—Ä–∂–∏—Ç HTML: $? (0 = –¥–∞)\n"

echo "3. –ê–¥–º–∏–Ω–∫–∞:"
curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http_code}\n" http://localhost:8000/admin/

echo -e "\n4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:"
netstat -an | grep 8000 | grep LISTEN
```

## üìã –ï—Å–ª–∏ –∞–¥–º–∏–Ω–∫–∞ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

bash

```
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ ==="
python manage.py check

echo -e "\n=== –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ==="
python manage.py migrate --check

echo -e "\n=== –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ ==="
python manage.py collectstatic --noinput --dry-run
```

## üéØ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä:

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–∑–¥–∞–¥–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç:

bash

```
# –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π view –Ω–∞–ø—Ä—è–º—É—é
cat > /tmp/test_app.py << 'EOF'
from django.http import HttpResponse
from django.urls import path

def test_view(request):
    return HttpResponse('TEST: –ü—Ä–æ–µ–∫—Ç –∂–∏–≤')

urlpatterns = [path('', test_view)]
EOF

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞–ø—Ä—è–º—É—é
python manage.py shell -c "
import sys
sys.path.insert(0, '.')
from django.test import RequestFactory
from django.http import HttpResponse

def test():
    return HttpResponse('OK')

rf = RequestFactory()
request = rf.get('/')
response = test()
print(f'–¢–µ—Å—Ç Django: {len(response.content)} –±–∞–π—Ç')
"
```

**–ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –®–∞–≥–∞ 1 (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞).** –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Django –∏–ª–∏ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–µ—Ç–∏ –∏–ª–∏ firewall.

(venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % echo "=== –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è home\_view ===" grep -n "def home\_view" uch/apps/blog/views.py -A 10 echo -e "\\n=== –¢–µ–∫—É—â–∏–π URL –¥–ª—è –≥–ª–∞–≤–Ω–æ–π ===" grep -n "path(''," uch/apps/blog/urls.py === –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è home\_view === === –¢–µ–∫—É—â–∏–π URL –¥–ª—è –≥–ª–∞–≤–Ω–æ–π === 8: path('', views.HomeView.as\_view(), name='home'), (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... echo -e "\\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫) ===" head -10 /tmp/django\_server.log echo -e "\\n=== –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ===" curl -s -o /dev/null -w "–ì–ª–∞–≤–Ω–∞—è: %{http\_code}, –ê–¥–º–∏–Ω–∫–∞: " http://localhost:8000/ curl -s -o /dev/null -w "%{http\_code}\\n" http://localhost:8000/admin/ zsh: command not found: # zsh: command not found: # \[1\] 90864 === –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä === === –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫) === Watching for file changes with StatReloader === –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å === –ì–ª–∞–≤–Ω–∞—è: 200, –ê–¥–º–∏–Ω–∫–∞: 302 (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % echo "=== –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ views.py ===" head -50 uch/apps/blog/views.py echo -e "\\n=== –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ HomeView ===" grep -n "class HomeView" uch/apps/blog/views.py -A 5 === –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ views.py === from django.shortcuts import render, get\_object\_or\_404 from django.views.generic import ListView, DetailView from django.db.models import Count, Q from.models import Article, Category # Context processor –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ def sidebar\_context(request): """–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)""" # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π categories = Category.objects.annotate( article\_count=Count('article', filter=Q(article\_\_status='published') ) ).filter(article\_count\_\_gt=0) # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ recent\_articles = Article.objects.filter( status='published' ).order\_by('-created\_at')\[:5\] return { 'blog\_categories': categories, 'blog\_recent\_articles': recent\_articles, } # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –ö–õ–ê–°–° (–∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–ª–æ) class HomeView(ListView): template\_name = 'blog/home.html' model = Article context\_object\_name = 'articles' paginate\_by = 5 def get\_queryset(self): return Article.objects.filter(status='published').order\_by('-created\_at') def get\_context\_data(self, \*\*kwargs): # –í–ê–ñ–ù–û: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º object\_list –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º super() self.object\_list = self.get\_queryset() context = super().get\_context\_data(\*\*kwargs) context.update(sidebar\_context(self.request)) return context # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π class ArticleListView(ListView): template\_name = 'blog/article\_list.html' model = Article context\_object\_name = 'articles' paginate\_by = 10 def get\_queryset(self): === –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ HomeView === 27:class HomeView(ListView): 28- template\_name = 'blog/home.html' 29- model = Article 30- context\_object\_name = 'articles' 31- paginate\_by = 5 32- (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... context\_object\_name = 'articles' def get\_queryset(self): return Article.objects.filter(status='published').order\_by('-created\_at') EOF echo "‚úÖ views.py —Å–æ–∑–¥–∞–Ω" zsh: command not found: # ‚úÖ views.py —Å–æ–∑–¥–∞–Ω (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % ^\[\[200~echo "=== –ü—Ä–æ–≤–µ—Ä—è–µ–º urls.py ===" cat uch/apps/blog/urls.py^\[\[2echo "=== –ü—Ä–æ–≤–µ—Ä—è–µ–º urls.py ==="==" cat uch/apps/blog/urls.py === –ü—Ä–æ–≤–µ—Ä—è–µ–º urls.py === from django.urls import path from. import views from.feeds import LatestArticlesFeed, LatestArticlesAtomFeed app\_name = 'blog' urlpatterns = \[ path('', views.HomeView.as\_view(), name='home'), path('articles/', views.ArticleListView.as\_view(), name='article\_list'), path('articles/<str:slug>/', views.ArticleDetailView.as\_view(), name='article\_detail'), path('categories/', views.CategoryListView.as\_view(), name='category\_list'), path('categories/<slug:slug>/', views.CategoryDetailView.as\_view(), name='category\_detail'), # RSS –∏ Atom —Ñ–∏–¥—ã (—É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç) path('feed/rss/', LatestArticlesFeed(), name='articles\_rss\_feed'), path('feed/atom/', LatestArticlesAtomFeed(), name='articles\_atom\_feed'), \]% (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... <li>{{ article.title }}</li> {% endfor %} </ul> </body> </html> EOF echo "‚úÖ home.html —Å–æ–∑–¥–∞–Ω" zsh: command not found: # ‚úÖ home.html —Å–æ–∑–¥–∞–Ω (venv) kirillkravcov@MacBook-Pro-Kirill uch-backend % >.... curl -s "http://localhost:8000/articles/" | grep -c "DOCTYPE html" echo "–°–æ–¥–µ—Ä–∂–∏—Ç HTML: $? (0 = –¥–∞)\\n" echo "3. –ê–¥–º–∏–Ω–∫–∞:" curl -s -o /dev/null -w "–°—Ç–∞—Ç—É—Å: %{http\_code}\\n" http://localhost:8000/admin/ echo -e "\\n4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:" netstat -an | grep 8000 | grep LISTEN zsh: command not found: # \[2\] 90988 \[1\] - done python manage.py runserver > /tmp/django\_server.log 2>&1 ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞–Ω–∞: /Users/kirillkravcov/UniversalCreativeHub/uch-backend/media Watching for file changes with StatReloader Performing system checks... Exception in thread django-main-thread: Traceback (most recent call last): File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/threading.py", line 932, in \_bootstrap\_inner self.run() File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/threading.py", line 870, in run self.\_target(\*self.\_args, \*\*self.\_kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/utils/autoreload.py", line 64, in wrapper fn(\*args, \*\*kwargs) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/commands/runserver.py", line 133, in inner\_run self.check(display\_num\_errors=True) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/management/base.py", line 485, in check all\_issues = checks.run\_checks( File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/checks/registry.py", line 88, in run\_checks new\_errors = check(app\_configs=app\_configs, databases=databases) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/checks/urls.py", line 14, in check\_url\_config return check\_resolver(resolver) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/core/checks/urls.py", line 24, in check\_resolver return check\_method() File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/urls/resolvers.py", line 494, in check for pattern in self.url\_patterns: File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/utils/functional.py", line 57, in \_\_get\_\_ res = instance.\_\_dict\_\_\[self.name\] = self.func(instance) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/urls/resolvers.py", line 715, in url\_patterns patterns = getattr(self.urlconf\_module, "urlpatterns", self.urlconf\_module) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/utils/functional.py", line 57, in \_\_get\_\_ res = instance.\_\_dict\_\_\[self.name\] = self.func(instance) File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/urls/resolvers.py", line 708, in urlconf\_module return import\_module(self.urlconf\_name) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/importlib/\_\_init\_\_.py", line 127, in import\_module return \_bootstrap.\_gcd\_import(name\[level:\], package, level) File "<frozen importlib.\_bootstrap>", line 1014, in \_gcd\_import File "<frozen importlib.\_bootstrap>", line 991, in \_find\_and\_load File "<frozen importlib.\_bootstrap>", line 975, in \_find\_and\_load\_unlocked File "<frozen importlib.\_bootstrap>", line 671, in \_load\_unlocked File "<frozen importlib.\_bootstrap\_external>", line 783, in exec\_module File "<frozen importlib.\_bootstrap>", line 219, in \_call\_with\_frames\_removed File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/urls.py", line 36, in <module> path('', include('uch.apps.blog.urls')), File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/venv/lib/python3.8/site-packages/django/urls/conf.py", line 38, in include urlconf\_module = import\_module(urlconf\_module) File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/importlib/\_\_init\_\_.py", line 127, in import\_module return \_bootstrap.\_gcd\_import(name\[level:\], package, level) File "<frozen importlib.\_bootstrap>", line 1014, in \_gcd\_import File "<frozen importlib.\_bootstrap>", line 991, in \_find\_and\_load File "<frozen importlib.\_bootstrap>", line 975, in \_find\_and\_load\_unlocked File "<frozen importlib.\_bootstrap>", line 671, in \_load\_unlocked File "<frozen importlib.\_bootstrap\_external>", line 783, in exec\_module File "<frozen importlib.\_bootstrap>", line 219, in \_call\_with\_frames\_removed File "/Users/kirillkravcov/UniversalCreativeHub/uch-backend/uch/apps/blog/urls.py", line 10, in <module> path('articles/<str:slug>/', views.ArticleDetailView.as\_view(), name='article\_detail'), AttributeError: module 'uch.apps.blog.views' has no attribute 'ArticleDetailView' === –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç === 1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: –î–ª–∏–Ω–∞: 0 –±–∞–π—Ç 2. –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π: 0 –°–æ–¥–µ—Ä–∂–∏—Ç HTML: 1 (0 = –¥–∞) 3. –ê–¥–º–∏–Ω–∫–∞: –°—Ç–∞—Ç—É—Å: 000 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:

–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ø—Ä–µ–¥–µ–ª –¥–ª–∏–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞—á–Ω–∏—Ç–µ –Ω–æ–≤—ã–π —á–∞—Ç.

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –ò–ò, —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏