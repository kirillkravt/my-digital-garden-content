# Проверьте синтаксис
python -m py_compile uch/apps/blog/management/commands/import_obsidian.py

# Запустите dry-run
python manage.py import_obsidian /Users/kirillkravcov/obsidian/my-digital-garden-content/posts --author admin --dry-run

# Если dry-run работает, запустите реальный импорт
python manage.py import_obsidian /Users/kirillkravcov/obsidian/my-digital-garden-content/posts --author admin --update-existing


ls -la test-image-paths_ab9363de_test-image.png



  

/* =========================================== */

/* СТИЛИ ДЛЯ ИЗОБРАЖЕНИЙ В СТАТЬЯХ БЛОГА */

/* =========================================== */

  

/* Основное правило для ВСЕХ изображений в контенте статей */

.markdown-content img,

article .markdown-content img,

.markdown-content p img {

max-width: 100% !important; /* Не больше ширины контейнера */

height: auto !important; /* Сохраняем пропорции */

display: block !important; /* Убираем лишние отступы снизу */

margin: 1.5rem auto !important; /* Центрирование и отступы */

border-radius: 8px; /* Закругленные углы */

box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Легкая тень */

}

  

/* Убираем все inline атрибуты ширины и высоты */

.markdown-content img[width],

.markdown-content img[height],

.markdown-content img[style*="width"],

.markdown-content img[style*="height"] {

width: auto !important;

height: auto !important;

max-width: 100% !important;

}

  

/* Для изображений с data-атрибутами (ленивая загрузка и т.д.) */

.markdown-content img[data-width],

.markdown-content img[data-height] {

max-width: 100% !important;

}

  

/* Обеспечиваем правильное отображение в разных контейнерах */

.container .markdown-content img,

.row .markdown-content img,

.col .markdown-content img {

max-width: 100% !important;

}

  

/* Адаптация для мобильных устройств */

@media (max-width: 768px) {

.markdown-content img {

margin: 1rem auto !important;

border-radius: 6px;

max-width: 100% !important;

}

}

  

/* Для очень больших контейнеров ограничиваем максимальную ширину */

@media (min-width: 1200px) {

.markdown-content img {

max-width: 1000px !important; /* Максимум 1000px на больших экранах */

}

}

  

/* Стили для оберток изображений (если понадобятся) */

.markdown-content .image-wrapper {

text-align: center;

margin: 1.5rem 0;

}

  

.markdown-content .image-wrapper img {

display: inline-block; /* Для центрирования внутри wrapper */

}

  

/* Подписи к изображениям */

.markdown-content figcaption {

font-size: 0.9rem;

color: #666;

margin-top: 0.5rem;

text-align: center;

font-style: italic;

}