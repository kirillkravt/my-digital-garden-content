---
id: "3-010201-17"
name: "TECH-DEBT"
type: "line"
level: 1
status: "active"
tags: []
created: "2026-01-02"
updated: "2026-01-02"
author: "kirillkravcov"
---

## üö® –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

### 1. –°–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç üéπ‚ùå
**–ü—Ä–æ–±–ª–µ–º–∞:** Scheduler –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä—ã \`sine\`, \`triangle\`, \`square\`, \`sawtooth\` –Ω–µ –∑–≤—É—á–∞—Ç.
**–û—à–∏–±–∫–∞:** \`[getTrigger] error: sound triangle not found! Is it loaded?\`
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥—É–ª—å \`@strudel/soundfonts\` –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω, –Ω–æ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä—ã. –î–≤–∏–∂–æ–∫ \`webaudioOutput\` –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Ñ–æ—Ä–º—ã –≤–æ–ª–Ω—ã.
**–†–µ—à–µ–Ω–∏–µ:**
- –í–∞—Ä–∏–∞–Ω—Ç –ê: –Ø–≤–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä—ã —á–µ—Ä–µ–∑ WebAudio API –≤ \`webaudioOutput\`
- –í–∞—Ä–∏–∞–Ω—Ç –ë: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∑–≤—É–∫–æ–≤—ã—Ö –±–∞–Ω–∫–æ–≤ —á–µ—Ä–µ–∑ \`samples()\` API (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- –í–∞—Ä–∏–∞–Ω—Ç –í: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é \`@strudel/soundfonts\` –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª—ã:** \`StrudelREPLNode.tsx\`, \`uch-strudel-bundle/src/main.ts\`
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü° –°—Ä–µ–¥–Ω—è—è
**–û—Ü–µ–Ω–∫–∞:** 4-8 —á–∞—Å–æ–≤

### 2. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–Ω–¥–ª–∞ üîÑ‚ö†Ô∏è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–∞–Ω–¥–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã, –≤—ã–∑—ã–≤–∞—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: \`@strudel/core was loaded more than once...\`
**–ü—Ä–∏—á–∏–Ω–∞:** –í–æ–∑–º–æ–∂–Ω–æ, —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ \`StrudelREPLNode\` –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏.
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–¥, –¥–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ñ–ª–∞–≥ –∑–∞–≥—Ä—É–∑–∫–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å singleton.
**–§–∞–π–ª—ã:** \`StrudelREPLNode.tsx\`, \`NodeRegistry.tsx\`
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¢ –ù–∏–∑–∫–∞—è
**–û—Ü–µ–Ω–∫–∞:** 2-3 —á–∞—Å–∞

## ‚ö†Ô∏è –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–º–µ—à–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ)

### 3. –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–µ–º–ø–ª—ã (–±–∞—Ä–∞–±–∞–Ω—ã) ü•Å‚ùì
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, —Ä–∞–±–æ—Ç–∞—é—Ç –ª–∏ —Å–µ–º–ø–ª—ã —á–µ—Ä–µ–∑ \`s("bd hh sd")\`.
**–í–∞–∂–Ω–æ—Å—Ç—å:** –ï—Å–ª–∏ —Å–µ–º–ø–ª—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –∞ —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä—ã –Ω–µ—Ç ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ —É–∑–∫–∞—è. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ–±—â–µ–π –∑–≤—É–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Å —Å–µ–º–ø–ª–∞–º–∏, –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¢ –ù–∏–∑–∫–∞—è
**–û—Ü–µ–Ω–∫–∞:** 30 –º–∏–Ω—É—Ç

### 4. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å—é/–ø–∞—É–∑–æ–π üîä
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –≥—Ä–æ–º–∫–æ—Å—Ç—å—é, –Ω–µ–ª—å–∑—è –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É (—Ç–æ–ª—å–∫–æ stop/start).
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å \`gainNode\` –≤ AudioContext, –∫–Ω–æ–ø–∫—É –ø–∞—É–∑—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü° –°—Ä–µ–¥–Ω—è—è
**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

## üìÖ –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (—É–ª—É—á—à–µ–Ω–∏—è)

### 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞ üì¶
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–∞–Ω–¥–ª 398KB, –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å.
**–†–µ—à–µ–Ω–∏–µ:** Tree-shaking, —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.
**–û—Ü–µ–Ω–∫–∞:** 2 —á–∞—Å–∞

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MIDI —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ üéµ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ—Ç–æ–¥ \`.midi()\` —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω, –Ω–æ –Ω–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
**–û—Ü–µ–Ω–∫–∞:** 1 —á–∞—Å

### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–∏–Ω–∏–µ–π –ê (–±–ª–æ–≥) üìù
**–°—Ç–∞—Ç—É—Å:** –û—Ç–ª–æ–∂–µ–Ω–æ –¥–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å—Ç—É–¥–∏–∏.

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò (19.12.2025)

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –±–∞–Ω–¥–ª–∞ Strudel
### 2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MIDI –ø–æ–¥–¥–µ—Ä–∂–∫–∏
### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Scheduler –∏–∑ @strudel/webaudio
### 4. ‚úÖ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã AudioContext suspended
### 5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π s() –∏ sound()
### 6. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (CURRENT, TECH-DEBT, Kanban)