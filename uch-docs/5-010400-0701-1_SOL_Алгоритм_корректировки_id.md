---
id: "5-010400-0701-1"
name: "–ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ id"
type: "SOL"
level: 5
status: "active"
tags: ["@docs", "@system", "@fix", "@automation"]
parent: "4-010400-0700"
parent_name: "–ê—É–¥–∏—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π id –∏ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞"
created: "2026-02-04"
updated: "2026-02-04"
author: "kirillkravcov"
slug: "5-010400-0701-1_SOL_–ê–ª–≥–æ—Ä–∏—Ç–º_–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π_–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏_id"
---

### –†–µ—à–µ–Ω–∏–µ: –ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ ID –≤ frontmatter

#### –ü–†–û–ë–õ–ï–ú–ê
–ê—É–¥–∏—Ç –≤—ã—è–≤–∏–ª 125 —Ñ–∞–π–ª–æ–≤ (81%) —Å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º –º–µ–∂–¥—É ID –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –∏ ID –≤ frontmatter.

**–®–∞–±–ª–æ–Ω –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:**
- –ò–º—è —Ñ–∞–π–ª–∞: `X-XXXXXX-XXXX-X_TYPE_slug.md` (–ø–æ–ª–Ω—ã–π ID)
- Frontmatter: `id: X-XXXXXX-XXXX` (–Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –Ω–æ–º–µ—Ä–∞ —Ç–∏–ø–∞)

#### –ê–ù–ê–õ–ò–ó
1. **–ü—Ä–∏—á–∏–Ω–∞**: –°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–µ –≤–∫–ª—é—á–∞—é—Ç –Ω–æ–º–µ—Ä —Ç–∏–ø–∞ –≤ `id` frontmatter
2. **–ú–∞—Å—à—Ç–∞–±**: 125 –∏–∑ 154 —Ñ–∞–π–ª–æ–≤ —Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. **–†–∏—Å–∫–∏**: 
   - –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
   - –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–∏—Å–∫–æ–º –∏ —Å—Å—ã–ª–∫–∞–º–∏
   - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–ª–∞–≥–∏–Ω–æ–≤

#### –ê–õ–ì–û–†–ò–¢–ú –†–ï–®–ï–ù–ò–Ø

**–®–∞–≥ 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**

# –î–ª—è –∫–∞–∂–¥–æ–≥–æ .md —Ñ–∞–π–ª–∞:
# 1. –ü–æ–ª—É—á–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞
# 2. –ò–∑–≤–ª–µ—á—å –ø–æ–ª–Ω—ã–π ID (—á–∞—Å—Ç—å –¥–æ –ø–µ—Ä–≤–æ–≥–æ _)
# 3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–µ–∫—É—â–∏–π ID –∏–∑ frontmatter

–®–∞–≥ 2: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

bash
if [ "$full_id" != "$current_id" ]; then
    # –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    # –ü—Ä–æ–≤–µ—Ä–∫–∞: full_id –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å current_id + "-N"
    if [[ "$full_id" =~ ^${current_id}-[0-9]+$ ]]; then
        # –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –∑–∞–º–µ–Ω–∏—Ç—å ID –≤ frontmatter
    else
        # –û—à–∏–±–∫–∞ - –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
    fi
fi
–®–∞–≥ 3: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

bash
# 1. –°–æ–∑–¥–∞—Ç—å backup —Ñ–∞–π–ª–∞
# 2. –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É —Å id –≤ frontmatter
# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º
# 4. –ó–∞–ø–∏—Å–∞—Ç—å –≤ –ª–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è
–¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø
–°–∫—Ä–∏–ø—Ç: fix-id-consistency.sh

bash
#!/bin/bash
# fix-id-consistency.sh - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π ID –≤ frontmatter

set -e

VAULT_PATH="/Users/kirillkravcov/obsidian/my-digital-garden-content/uch-docs"
BACKUP_DIR="./backup-id-fix-$(date +%Y%m%d_%H%M%S)"
LOG_FILE="./id-fix-log-$(date +%Y%m%d_%H%M%S).txt"

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ID –∏–∑ frontmatter
extract_frontmatter_id() {
    grep -m1 "^id:" "$1" | sed "s/^id: *//" | tr -d "\"'" | tr -d " " | tr -d ":"
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ID –≤ frontmatter
update_frontmatter_id() {
    local file="$1"
    local new_id="$2"
    
    # –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
    tmp_file="${file}.tmp"
    
    # –ó–∞–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É —Å id
    sed "s/^id:.*/id: \"$new_id\"/" "$file" > "$tmp_file"
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∑–∞–º–µ–Ω–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
    if grep -q "^id: \"$new_id\"" "$tmp_file"; then
        mv "$tmp_file" "$file"
        echo "‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: $file -> id: $new_id"
        return 0
    else
        rm "$tmp_file"
        echo "‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: $file"
        return 1
    fi
}

main() {
    echo "üöÄ –ó–∞–ø—É—Å–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ID –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π"
    echo "========================================"
    
    # –°–æ–∑–¥–∞–µ–º backup –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
    mkdir -p "$BACKUP_DIR"
    
    # –°—á–µ—Ç—á–∏–∫–∏
    total_processed=0
    total_fixed=0
    total_errors=0
    
    # –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ .md —Ñ–∞–π–ª—ã —Å frontmatter
    find "$VAULT_PATH" -name "*.md" -type f -exec grep -l "id:" {} \; | while read file; do
        total_processed=$((total_processed + 1))
        
        filename=$(basename "$file")
        full_id=$(echo "$filename" | cut -d"_" -f1)
        current_id=$(extract_frontmatter_id "$file")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
        if [ "$full_id" != "$current_id" ]; then
            echo "üîç –ù–∞–π–¥–µ–Ω–æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:" | tee -a "$LOG_FILE"
            echo "   –§–∞–π–ª: $filename" | tee -a "$LOG_FILE"
            echo "   –¢–µ–∫—É—â–∏–π ID: $current_id" | tee -a "$LOG_FILE"
            echo "   –û–∂–∏–¥–∞–µ–º—ã–π ID: $full_id" | tee -a "$LOG_FILE"
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –Ω–æ–≤–æ–≥–æ ID
            if [[ "$full_id" =~ ^${current_id}-[0-9]+$ ]]; then
                # –°–æ–∑–¥–∞–µ–º backup
                backup_file="$BACKUP_DIR/$(basename "$file")"
                cp "$file" "$backup_file"
                
                # –û–±–Ω–æ–≤–ª—è–µ–º frontmatter
                if update_frontmatter_id "$file" "$full_id"; then
                    echo "   ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ" | tee -a "$LOG_FILE"
                    total_fixed=$((total_fixed + 1))
                else
                    echo "   ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏" | tee -a "$LOG_FILE"
                    total_errors=$((total_errors + 1))
                fi
            else
                echo "   ‚ö†Ô∏è  –°—Ç—Ä–∞–Ω–Ω–æ–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º" | tee -a "$LOG_FILE"
                total_errors=$((total_errors + 1))
            fi
            echo "---" | tee -a "$LOG_FILE"
        fi
    done
    
    # –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
    echo "========================================" | tee -a "$LOG_FILE"
    echo "üìä –ò–¢–û–ì–ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:" | tee -a "$LOG_FILE"
    echo "   –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Ñ–∞–π–ª–æ–≤: $total_processed" | tee -a "$LOG_FILE"
    echo "   –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: $total_fixed" | tee -a "$LOG_FILE"
    echo "   –û—à–∏–±–æ–∫: $total_errors" | tee -a "$LOG_FILE"
    echo "   Backup —Å–æ–∑–¥–∞–Ω –≤: $BACKUP_DIR" | tee -a "$LOG_FILE"
    echo "   –õ–æ–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤: $LOG_FILE" | tee -a "$LOG_FILE"
}

# –ó–∞–ø—É—Å–∫
main "$@"
–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
–§–∞–∑–∞ 1: –°—É—Ö–æ–π –ø—Ä–æ–≥–æ–Ω (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

bash
./fix-id-consistency.sh --dry-run
–§–∞–∑–∞ 2: –¢–µ—Å—Ç –Ω–∞ 5 —Ñ–∞–π–ª–∞—Ö

bash
./fix-id-consistency.sh --test --limit=5
–§–∞–∑–∞ 3: –ü–æ–ª–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

bash
./fix-id-consistency.sh
–ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê
–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç backup –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ 125 —Ñ–∞–π–ª–æ–≤ —Å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–º–∏

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∞—É–¥–∏—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 0 –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π

–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Å—ã–ª–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É 4-010400-0800-1_TASK_–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ_—Å–∫—Ä–∏–ø—Ç–∞_uch-create.sh.md

–û–±–Ω–æ–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Å–∫—Ä–∏–ø—Ç—ã —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª–Ω—ã–º–∏ ID